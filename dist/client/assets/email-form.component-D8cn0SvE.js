import{j as a}from"./jsx-runtime-C2tkE_r8.js";import{R as i}from"./chunk-TMI4QPZX-ByyJG4wn.js";import{a as E}from"./index-B9ygI19o.js";const e={sidebarEmailFormContainer:"sidebarEmailFormContainer",isSidebar:"isSidebar",isNotSidebar:"isNotSidebar",emailForm:"emailForm",emailInput:"emailInput",submitButton:"submitButton",messageContainer:"messageContainer",hasMessage:"hasMessage",errorMessage:"errorMessage",successMessage:"successMessage"},F=({isSidebar:d,placeholder:g,formClassName:p,inputContainerClassName:h,inputClassName:b,buttonClassName:x,messageContainerClassName:$,onSuccess:c})=>{const[o,l]=i.useState(""),[n,r]=i.useState(""),[u,t]=i.useState(""),M=s=>{l(""),r(""),t("Thank you for subscribing!"),setTimeout(()=>{t("")},5e3),c&&c()},S=s=>{t(""),r(s.message),setTimeout(()=>{r("")},5e3)},j=async s=>{if(s.preventDefault(),!o.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)){t(""),r("Please enter a valid email address."),setTimeout(()=>{r("")},5e3);return}const N=`https://proxy-semi-aquatics.onrender.com/api/subscribe/${o}`;try{const m=await E.post(N,{});M(m)}catch(m){S(m)}};return a.jsxs(i.Fragment,{children:[a.jsx("div",{className:`${e.sidebarEmailFormContainer} ${d?e.isSidebar:e.isNotSidebar} ${h||""}`,children:a.jsxs("form",{className:`${e.emailForm} ${p||""}`,children:[a.jsx("input",{type:"text",placeholder:g??"enter your email",className:`${e.emailInput} ${b||""}`,value:o,onChange:s=>l(s.target.value)}),a.jsx("div",{className:`${e.submitButton} ${x||""}`,onClick:s=>{j(s)},children:"Subscribe"})]})}),a.jsxs("div",{className:`${e.messageContainer} ${$||""} ${n.length>0?e.hasMessage:""}`,children:[n.length>0&&a.jsx("p",{className:e.errorMessage,children:n}),u.length>0&&a.jsx("p",{className:e.successMessage,children:u})]})]})};export{F as E};
