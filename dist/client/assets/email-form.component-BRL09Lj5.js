import{j as a}from"./jsx-runtime-C2tkE_r8.js";import{R as i}from"./chunk-TMI4QPZX-ByyJG4wn.js";import{a as N}from"./index-B9ygI19o.js";const j="_emailForm_3y9y6_1",C="_emailInput_3y9y6_1",E="_submitButton_3y9y6_18",F="_sidebarEmailFormContainer_3y9y6_37",f="_isSidebar_3y9y6_73",v="_messageContainer_3y9y6_77",R="_errorMessage_3y9y6_80",w="_successMessage_3y9y6_87",B="_isNotSidebar_3y9y6_95",e={emailForm:j,emailInput:C,submitButton:E,sidebarEmailFormContainer:F,isSidebar:f,messageContainer:v,errorMessage:R,successMessage:w,isNotSidebar:B},q=({isSidebar:d,placeholder:_,formClassName:g,inputContainerClassName:y,inputClassName:p,buttonClassName:b,messageContainerClassName:h,onSuccess:c})=>{const[o,l]=i.useState(""),[n,t]=i.useState(""),[u,r]=i.useState(""),x=s=>{l(""),t(""),r("Thank you for subscribing!"),setTimeout(()=>{r("")},5e3),c&&c()},S=s=>{r(""),t(s.message),setTimeout(()=>{t("")},5e3)},$=async s=>{if(s.preventDefault(),!o.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)){r(""),t("Please enter a valid email address."),setTimeout(()=>{t("")},5e3);return}const M=`https://proxy-semi-aquatics.onrender.com/api/subscribe/${o}`;try{const m=await N.post(M,{});x(m)}catch(m){S(m)}};return a.jsxs(i.Fragment,{children:[a.jsx("div",{className:`${e.sidebarEmailFormContainer} ${d?e.isSidebar:e.isNotSidebar} ${y||""}`,children:a.jsxs("form",{className:`${e.emailForm} ${g||""}`,children:[a.jsx("input",{type:"text",placeholder:_??"enter your email",className:`${e.emailInput} ${p||""}`,value:o,onChange:s=>l(s.target.value)}),a.jsx("div",{className:`${e.submitButton} ${b||""}`,onClick:s=>{$(s)},children:"Subscribe"})]})}),a.jsxs("div",{className:`${e.messageContainer} ${h||""} ${n.length>0?e.hasMessage:""}`,children:[n.length>0&&a.jsx("p",{className:e.errorMessage,children:n}),u.length>0&&a.jsx("p",{className:e.successMessage,children:u})]})]})};export{q as E};
