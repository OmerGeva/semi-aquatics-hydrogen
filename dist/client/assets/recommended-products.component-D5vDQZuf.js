import{G as qt}from"./iconBase-BrRXCXs8.js";import{a as E,R as Gt,D as Ht}from"./chunk-TMI4QPZX-ByyJG4wn.js";import{j as V}from"./jsx-runtime-C2tkE_r8.js";import{P as Sn}from"./product-preview.component-CGnctVRA.js";import{c as xn,g as Nn,d as On,a as Dn,e as Rn,S as kn,f as wn,C as Le}from"./cookies-utils-DqiKtheR.js";import{u as Ln}from"./use-is-mobile-T0pw4rL4.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ht(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}var W;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(W||(W={}));var zt={type:"xstate.init"};function Ue(e){return e===void 0?[]:[].concat(e)}function ne(e){return{type:"xstate.assign",assignment:e}}function yt(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function _e(e){return function(t){return e===t}}function Qt(e){return typeof e=="string"?{type:e}:e}function mt(e,t){return{value:e,context:t,actions:[],changed:!1,matches:_e(e)}}function Et(e,t,n){var i=t,r=!1;return[e.filter(function(s){if(s.type==="xstate.assign"){r=!0;var o=Object.assign({},i);return typeof s.assignment=="function"?o=s.assignment(i,n):Object.keys(s.assignment).forEach(function(c){o[c]=typeof s.assignment[c]=="function"?s.assignment[c](i,n):s.assignment[c]}),i=o,!1}return!0}),i,r]}function Wt(e,t){t===void 0&&(t={});var n=ht(Et(Ue(e.states[e.initial].entry).map(function(o){return yt(o,t.actions)}),e.context,zt),2),i=n[0],r=n[1],s={config:e,_options:t,initialState:{value:e.initial,actions:i,context:r,matches:_e(e.initial)},transition:function(o,c){var u,l,f=typeof o=="string"?{value:o,context:e.context}:o,h=f.value,m=f.context,p=Qt(c),d=e.states[h];if(d.on){var y=Ue(d.on[p.type]);try{for(var C=function(k){var ue=typeof Symbol=="function"&&Symbol.iterator,Q=ue&&k[ue],U=0;if(Q)return Q.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&U>=k.length&&(k=void 0),{value:k&&k[U++],done:!k}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),F=C.next();!F.done;F=C.next()){var M=F.value;if(M===void 0)return mt(h,m);var S=typeof M=="string"?{target:M}:M,x=S.target,T=S.actions,v=T===void 0?[]:T,I=S.cond,_=I===void 0?function(){return!0}:I,b=x===void 0,N=x??h,R=e.states[N];if(_(m,p)){var ee=ht(Et((b?Ue(v):[].concat(d.exit,v,R.entry).filter(function(k){return k})).map(function(k){return yt(k,s._options.actions)}),m,p),3),ae=ee[0],ce=ee[1],Re=ee[2],ve=x??h;return{value:ve,context:ce,actions:ae,changed:x!==h||ae.length>0||Re,matches:_e(ve)}}}}catch(k){u={error:k}}finally{try{F&&!F.done&&(l=C.return)&&l.call(C)}finally{if(u)throw u.error}}}return mt(h,m)}};return s}var vt=function(e,t){return e.actions.forEach(function(n){var i=n.exec;return i&&i(e.context,t)})};function Un(e){var t=e.initialState,n=W.NotStarted,i=new Set,r={_machine:e,send:function(s){n===W.Running&&(t=e.transition(t,s),vt(t,Qt(s)),i.forEach(function(o){return o(t)}))},subscribe:function(s){return i.add(s),s(t),{unsubscribe:function(){return i.delete(s)}}},start:function(s){if(s){var o=typeof s=="object"?s:{context:e.config.context,value:s};t={value:o.value,actions:[],context:o.context,matches:_e(o.value)}}else t=e.initialState;return n=W.Running,vt(t,zt),r},stop:function(){return n=W.Stopped,i.clear(),r},get state(){return t},get status(){return n}};return r}var Pn=E.useLayoutEffect,Pe={exports:{}},Fe={},Me={exports:{}},$e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt;function Fn(){if(Tt)return $e;Tt=1;var e=Gt;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,r=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function c(h,m){var p=m(),d=i({inst:{value:p,getSnapshot:m}}),y=d[0].inst,C=d[1];return s(function(){y.value=p,y.getSnapshot=m,u(y)&&C({inst:y})},[h,p,m]),r(function(){return u(y)&&C({inst:y}),h(function(){u(y)&&C({inst:y})})},[h]),o(p),p}function u(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!n(h,p)}catch{return!0}}function l(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return $e.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,$e}var gt;function Mn(){return gt||(gt=1,Me.exports=Fn()),Me.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It;function $n(){if(It)return Fe;It=1;var e=Gt,t=Mn();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var i=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Fe.useSyncExternalStoreWithSelector=function(l,f,h,m,p){var d=s(null);if(d.current===null){var y={hasValue:!1,value:null};d.current=y}else y=d.current;d=c(function(){function F(v){if(!M){if(M=!0,S=v,v=m(v),p!==void 0&&y.hasValue){var I=y.value;if(p(I,v))return x=I}return x=v}if(I=x,i(S,v))return I;var _=m(v);return p!==void 0&&p(I,_)?I:(S=v,x=_)}var M=!1,S,x,T=h===void 0?null:h;return[function(){return F(f())},T===null?void 0:function(){return F(T())}]},[f,h,m,p]);var C=r(l,d[0],d[1]);return o(function(){y.hasValue=!0,y.value=C},[C]),u(C),C},Fe}var At;function Vn(){return At||(At=1,Pe.exports=$n()),Pe.exports}var jn=Vn();function Bn(e){var t=E.useRef();return t.current||(t.current={v:e()}),t.current.v}var Yn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function qn(e){return e}var Gn=function(e){var t;return e.subscribe(function(n){t=n}).unsubscribe(),t};function Hn(e,t){var n=E.useRef(),i=Yn(Bn(function(){var c=[],u=Un(Wt(e.config,t||e._options)),l=u.send;return u.send=function(f){if(u.status===W.NotStarted){c.push(f);return}l(f),n.current=u.state},[u,c]}),2),r=i[0],s=i[1];Pn(function(){t&&(r._machine._options=t)});var o=Qn(r);return E.useEffect(function(){return r.start(n.current),s.forEach(r.send),n.current=r.state,function(){r.stop()}},[]),o}var zn=function(e,t){return t.changed===!1};function Qn(e){var t=E.useCallback(function(){return Gn(e)},[e]),n=E.useCallback(function(r){var s=e.subscribe(r).unsubscribe;return s},[e]),i=jn.useSyncExternalStoreWithSelector(n,t,t,qn,zn);return[i,e.send,e]}const Wn=e=>`
  mutation CartLineAdd(
    $cartId: ID!
    $lines: [CartLineInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesAdd(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Jn=e=>`
  mutation CartCreate(
    $input: CartInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartCreate(input: $input) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Xn=e=>`
  mutation CartLineRemove(
    $cartId: ID!
    $lines: [ID!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesRemove(cartId: $cartId, lineIds: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Zn=e=>`
  mutation CartLineUpdate(
    $cartId: ID!
    $lines: [CartLineUpdateInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesUpdate(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Kn=e=>`
  mutation CartNoteUpdate(
    $cartId: ID!
    $note: String!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartNoteUpdate(cartId: $cartId, note: $note) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,er=e=>`
  mutation CartBuyerIdentityUpdate(
    $cartId: ID!
    $buyerIdentity: CartBuyerIdentityInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,tr=e=>`
  mutation CartAttributesUpdate(
    $attributes: [AttributeInput!]!
    $cartId: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,nr=e=>`
  mutation CartDiscountCodesUpdate(
    $cartId: ID!
    $discountCodes: [String!]
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,rr=e=>`
  query CartQuery(
    $id: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cart(id: $id) {
      ...CartFragment
    }
  }

  ${e}
`,ir=`
  fragment CartFragment on Cart {
    id
    checkoutUrl
    totalQuantity
    buyerIdentity {
      countryCode
      customer {
        id
        email
        firstName
        lastName
        displayName
      }
      email
      phone
    }
    lines(first: $numCartLines) {
      edges {
        node {
          id
          quantity
          attributes {
            key
            value
          }
          cost {
            totalAmount {
              amount
              currencyCode
            }
            compareAtAmountPerQuantity {
              amount
              currencyCode
            }
          }
          merchandise {
            ... on ProductVariant {
              id
              availableForSale
              compareAtPrice {
                ...MoneyFragment
              }
              price {
                ...MoneyFragment
              }
              requiresShipping
              title
              image {
                ...ImageFragment
              }
              product {
                handle
                title
                id
              }
              selectedOptions {
                name
                value
              }
            }
          }
        }
      }
    }
    cost {
      subtotalAmount {
        ...MoneyFragment
      }
      totalAmount {
        ...MoneyFragment
      }
      totalDutyAmount {
        ...MoneyFragment
      }
      totalTaxAmount {
        ...MoneyFragment
      }
    }
    note
    attributes {
      key
      value
    }
    discountCodes {
      code
      applicable
    }
  }

  fragment MoneyFragment on MoneyV2 {
    currencyCode
    amount
  }
  fragment ImageFragment on Image {
    id
    url
    altText
    width
    height
  }
`,ze="2025-07";function sr(e,t,n){return{"content-type":e==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":t,"X-Shopify-Storefront-Access-Token":n}}const or={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:ze,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},Jt=E.createContext(or);function hs({children:e,...t}){if(!t.countryIsoCode||!t.languageIsoCode||!t.storeDomain||!t.storefrontToken||!t.storefrontApiVersion)throw new Error("Please provide the necessary props to '<ShopifyProvider/>'");t.storefrontApiVersion!==ze&&console.warn(`<ShopifyProvider/>: This version of Hydrogen React is built for Shopify's Storefront API version ${ze}, but it looks like you're using version ${t.storefrontApiVersion}. There may be issues or bugs if you use a mismatched version of Hydrogen React and the Storefront API.`);const n=E.useMemo(()=>{function i(r){const s=(r==null?void 0:r.storeDomain)??t.storeDomain;return s.includes("://")?s:`https://${s}`}return{...t,getPublicTokenHeaders(r){return sr(r.contentType,t.storefrontApiVersion,r.storefrontToken??t.storefrontToken)},getShopifyDomain:i,getStorefrontApiUrl(r){const s=i({storeDomain:(r==null?void 0:r.storeDomain)??t.storeDomain});return`${s}${s.endsWith("/")?"":"/"}api/${(r==null?void 0:r.storefrontApiVersion)??t.storefrontApiVersion}/graphql.json`}}},[t]);return V.jsx(Jt.Provider,{value:n,children:e})}function Xt(){const e=E.useContext(Jt);if(!e)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return e}function ar(){const{storefrontId:e,getPublicTokenHeaders:t,getStorefrontApiUrl:n}=Xt();return E.useCallback(({query:i,variables:r})=>{const s=t({contentType:"json"});e&&(s[xn]=e);const o=Nn(document.cookie);return s[On]=o[Dn],s[Rn]=o[kn],fetch(n(),{method:"POST",headers:s,body:JSON.stringify({query:i.toString(),variables:r})}).then(c=>c.json()).catch(c=>({data:void 0,errors:c==null?void 0:c.toString()}))},[t,e,n])}function cr({numCartLines:e,cartFragment:t,countryCode:n="US",languageCode:i="EN"}){const r=ar(),s=E.useCallback(d=>r({query:rr(t),variables:{id:d,numCartLines:e,country:n,language:i}}),[r,t,e,n,i]),o=E.useCallback(d=>r({query:Jn(t),variables:{input:d,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),c=E.useCallback((d,y)=>r({query:Wn(t),variables:{cartId:d,lines:y,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),u=E.useCallback((d,y)=>r({query:Zn(t),variables:{cartId:d,lines:y,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),l=E.useCallback((d,y)=>r({query:Xn(t),variables:{cartId:d,lines:y,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),f=E.useCallback((d,y)=>r({query:Kn(t),variables:{cartId:d,note:y,numCartLines:e,country:n,language:i}}),[r,t,e,n,i]),h=E.useCallback((d,y)=>r({query:er(t),variables:{cartId:d,buyerIdentity:y,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),m=E.useCallback((d,y)=>r({query:tr(t),variables:{cartId:d,attributes:y,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),p=E.useCallback((d,y)=>r({query:nr(t),variables:{cartId:d,discountCodes:y,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]);return E.useMemo(()=>({cartFetch:s,cartCreate:o,cartLineAdd:c,cartLineUpdate:u,cartLineRemove:l,noteUpdate:f,buyerIdentityUpdate:h,cartAttributesUpdate:m,discountCodesUpdate:p,cartFragment:t}),[s,o,c,u,l,f,h,m,p,t])}function q(e,t){return{entry:[...(t==null?void 0:t.entryActions)||[],ne({lastValidCart:n=>n==null?void 0:n.cart}),"onCartActionEntry","onCartActionOptimisticUI",e],on:{RESOLVE:{target:(t==null?void 0:t.resolveTarget)||"idle",actions:[ne({prevCart:n=>n==null?void 0:n.lastValidCart,cart:(n,i)=>{var r;return(r=i==null?void 0:i.payload)==null?void 0:r.cart},rawCartResult:(n,i)=>{var r;return(r=i==null?void 0:i.payload)==null?void 0:r.rawCartResult},errors:n=>{}})]},ERROR:{target:(t==null?void 0:t.errorTarget)||"error",actions:[ne({prevCart:n=>n==null?void 0:n.lastValidCart,cart:n=>n==null?void 0:n.lastValidCart,errors:(n,i)=>{var r;return(r=i==null?void 0:i.payload)==null?void 0:r.errors}})]},CART_COMPLETED:{target:"cartCompleted",actions:ne({prevCart:n=>{},cart:n=>{},lastValidCart:n=>{},rawCartResult:n=>{},errors:n=>{}})}},exit:["onCartActionComplete",...(t==null?void 0:t.exitActions)||[]]}}const de={CART_FETCH:{target:"cartFetching"},CART_CREATE:{target:"cartCreating"},CART_SET:{target:"idle",actions:[ne({rawCartResult:(e,t)=>t.payload.cart,cart:(e,t)=>ot(t.payload.cart)})]}},_t={CARTLINE_ADD:{target:"cartLineAdding"},CARTLINE_UPDATE:{target:"cartLineUpdating"},CARTLINE_REMOVE:{target:"cartLineRemoving"},NOTE_UPDATE:{target:"noteUpdating"},BUYER_IDENTITY_UPDATE:{target:"buyerIdentityUpdating"},CART_ATTRIBUTES_UPDATE:{target:"cartAttributesUpdating"},DISCOUNT_CODES_UPDATE:{target:"discountCodesUpdating"}};function ur(e){return Wt({id:"Cart",initial:e?"idle":"uninitialized",context:{cart:e&&ot(e)},states:{uninitialized:{on:de},cartCompleted:{on:de},initializationError:{on:de},idle:{on:{...de,..._t}},error:{on:{...de,..._t}},cartFetching:q("cartFetchAction",{errorTarget:"initializationError"}),cartCreating:q("cartCreateAction",{errorTarget:"initializationError"}),cartLineRemoving:q("cartLineRemoveAction"),cartLineUpdating:q("cartLineUpdateAction"),cartLineAdding:q("cartLineAddAction"),noteUpdating:q("noteUpdateAction"),buyerIdentityUpdating:q("buyerIdentityUpdateAction"),cartAttributesUpdating:q("cartAttributesUpdateAction"),discountCodesUpdating:q("discountCodesUpdateAction")}})}function lr({numCartLines:e,onCartActionEntry:t,onCartActionOptimisticUI:n,onCartActionComplete:i,data:r,cartFragment:s,countryCode:o,languageCode:c}){const{cartFetch:u,cartCreate:l,cartLineAdd:f,cartLineUpdate:h,cartLineRemove:m,noteUpdate:p,buyerIdentityUpdate:d,cartAttributesUpdate:y,discountCodesUpdate:C}=cr({numCartLines:e,cartFragment:s,countryCode:o,languageCode:c}),F=E.useMemo(()=>ur(r),[r]),[M,S,x]=Hn(F,{actions:{cartFetchAction:async(T,v)=>{var I;if(v.type!=="CART_FETCH")return;const{data:_,errors:b}=await u((I=v==null?void 0:v.payload)==null?void 0:I.cartId),N=G(v,_==null?void 0:_.cart,b);S(N)},cartCreateAction:async(T,v)=>{var I;if(v.type!=="CART_CREATE")return;const{data:_,errors:b}=await l(v==null?void 0:v.payload),N=G(v,(I=_==null?void 0:_.cartCreate)==null?void 0:I.cart,b);S(N)},cartLineAddAction:async(T,v)=>{var I,_;if(v.type!=="CARTLINE_ADD"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await f(T.cart.id,v.payload.lines),R=G(v,(_=b==null?void 0:b.cartLinesAdd)==null?void 0:_.cart,N);S(R)},cartLineUpdateAction:async(T,v)=>{var I,_;if(v.type!=="CARTLINE_UPDATE"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await h(T.cart.id,v.payload.lines),R=G(v,(_=b==null?void 0:b.cartLinesUpdate)==null?void 0:_.cart,N);S(R)},cartLineRemoveAction:async(T,v)=>{var I,_;if(v.type!=="CARTLINE_REMOVE"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await m(T.cart.id,v.payload.lines),R=G(v,(_=b==null?void 0:b.cartLinesRemove)==null?void 0:_.cart,N);S(R)},noteUpdateAction:async(T,v)=>{var I,_;if(v.type!=="NOTE_UPDATE"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await p(T.cart.id,v.payload.note),R=G(v,(_=b==null?void 0:b.cartNoteUpdate)==null?void 0:_.cart,N);S(R)},buyerIdentityUpdateAction:async(T,v)=>{var I,_;if(v.type!=="BUYER_IDENTITY_UPDATE"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await d(T.cart.id,v.payload.buyerIdentity),R=G(v,(_=b==null?void 0:b.cartBuyerIdentityUpdate)==null?void 0:_.cart,N);S(R)},cartAttributesUpdateAction:async(T,v)=>{var I,_;if(v.type!=="CART_ATTRIBUTES_UPDATE"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await y(T.cart.id,v.payload.attributes),R=G(v,(_=b==null?void 0:b.cartAttributesUpdate)==null?void 0:_.cart,N);S(R)},discountCodesUpdateAction:async(T,v)=>{var I,_;if(v.type!=="DISCOUNT_CODES_UPDATE"||!((I=T==null?void 0:T.cart)!=null&&I.id))return;const{data:b,errors:N}=await C(T.cart.id,v.payload.discountCodes),R=G(v,(_=b==null?void 0:b.cartDiscountCodesUpdate)==null?void 0:_.cart,N);S(R)},...t&&{onCartActionEntry:(T,v)=>{dr(v)&&t(T,v)}},...n&&{onCartActionOptimisticUI:ne((T,v)=>n(T,v))},...i&&{onCartActionComplete:(T,v)=>{fr(v)&&i(T,v)}}}});return E.useMemo(()=>[M,S,x],[M,S,x])}function ot(e){return{...e,lines:wn(e==null?void 0:e.lines),note:e.note??void 0}}function G(e,t,n){return n?{type:"ERROR",payload:{errors:n,cartActionEvent:e}}:t?{type:"RESOLVE",payload:{cart:ot(t),rawCartResult:t,cartActionEvent:e}}:{type:"CART_COMPLETED",payload:{cartActionEvent:e}}}function dr(e){return e.type==="CART_CREATE"||e.type==="CARTLINE_ADD"||e.type==="CARTLINE_UPDATE"||e.type==="CARTLINE_REMOVE"||e.type==="NOTE_UPDATE"||e.type==="BUYER_IDENTITY_UPDATE"||e.type==="CART_ATTRIBUTES_UPDATE"||e.type==="DISCOUNT_CODES_UPDATE"}function fr(e){return e.type==="RESOLVE"||e.type==="ERROR"||e.type==="CART_COMPLETED"}const Zt=E.createContext(null);function pr(){const e=E.useContext(Zt);if(!e)throw new Error("Expected a Cart Context, but no Cart Context was found");return e}function ys({children:e,numCartLines:t,onCreate:n,onLineAdd:i,onLineRemove:r,onLineUpdate:s,onNoteUpdate:o,onBuyerIdentityUpdate:c,onAttributesUpdate:u,onDiscountCodesUpdate:l,onCreateComplete:f,onLineAddComplete:h,onLineRemoveComplete:m,onLineUpdateComplete:p,onNoteUpdateComplete:d,onBuyerIdentityUpdateComplete:y,onAttributesUpdateComplete:C,onDiscountCodesUpdateComplete:F,data:M,cartFragment:S=ir,customerAccessToken:x,countryCode:T,languageCode:v}){var I,_,b,N,R,ee,ae;const ce=Xt();if(!ce)throw new Error("<CartProvider> needs to be a descendant of <ShopifyProvider>");T=(T??ce.countryIsoCode??"US").toUpperCase(),v=(v??ce.languageIsoCode??"EN").toUpperCase(),T&&(T=T.toUpperCase());const[Re,ve]=E.useState(T),[k,ue]=E.useState(x),Q=E.useRef(!1);(Re!==T||k!==x)&&(ve(T),ue(x),Q.current=!1);const[U,te]=lr({numCartLines:t,data:M,cartFragment:S,countryCode:T,languageCode:v,onCartActionEntry(A,w){try{switch(w.type){case"CART_CREATE":return n==null?void 0:n();case"CARTLINE_ADD":return i==null?void 0:i();case"CARTLINE_REMOVE":return r==null?void 0:r();case"CARTLINE_UPDATE":return s==null?void 0:s();case"NOTE_UPDATE":return o==null?void 0:o();case"BUYER_IDENTITY_UPDATE":return c==null?void 0:c();case"CART_ATTRIBUTES_UPDATE":return u==null?void 0:u();case"DISCOUNT_CODES_UPDATE":return l==null?void 0:l()}}catch(P){console.error("Cart entry action failed",P)}},onCartActionOptimisticUI(A,w){var P,Y,L,le;if(!A.cart)return{...A};switch(w.type){case"CARTLINE_REMOVE":return{...A,cart:{...A.cart,lines:(Y=(P=A==null?void 0:A.cart)==null?void 0:P.lines)==null?void 0:Y.filter(j=>(j==null?void 0:j.id)&&!w.payload.lines.includes(j==null?void 0:j.id))}};case"CARTLINE_UPDATE":return{...A,cart:{...A.cart,lines:(le=(L=A==null?void 0:A.cart)==null?void 0:L.lines)==null?void 0:le.map(j=>{const we=w.payload.lines.find(({id:Cn})=>Cn===(j==null?void 0:j.id));return we&&we.quantity?{...j,quantity:we.quantity}:j})}}}return{...A}},onCartActionComplete(A,w){const P=w.payload.cartActionEvent;try{switch(w.type){case"RESOLVE":switch(P.type){case"CART_CREATE":return f==null?void 0:f();case"CARTLINE_ADD":return h==null?void 0:h();case"CARTLINE_REMOVE":return m==null?void 0:m();case"CARTLINE_UPDATE":return p==null?void 0:p();case"NOTE_UPDATE":return d==null?void 0:d();case"BUYER_IDENTITY_UPDATE":return mr(A,P)&&(Q.current=!0),y==null?void 0:y();case"CART_ATTRIBUTES_UPDATE":return C==null?void 0:C();case"DISCOUNT_CODES_UPDATE":return F==null?void 0:F()}}}catch(Y){console.error("onCartActionComplete failed",Y)}}}),Te=E.useRef(!1),[lt,_n]=E.useState(!1),dt=U.matches("cartCompleted"),ft=(U.value==="idle"||U.value==="error"||U.value==="cartCompleted")&&T!==((b=(_=(I=U==null?void 0:U.context)==null?void 0:I.cart)==null?void 0:_.buyerIdentity)==null?void 0:b.countryCode)&&!U.context.errors,pt=E.useRef(!1);E.useEffect(()=>{if(!Te.current&&!pt.current){if(!M&&Ve("localStorage")){pt.current=!0;try{const A=window.localStorage.getItem(Le);A&&te({type:"CART_FETCH",payload:{cartId:A}})}catch(A){console.warn("error fetching cartId"),console.warn(A)}}Te.current=!0,_n(!0)}},[M,Te,te]),E.useEffect(()=>{!ft||Q.current||te({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:{countryCode:T,customerAccessToken:x}}})},[T,x,ft,Q,te]);const B=E.useCallback(A=>{if(!Te.current)return console.warn("Cart isn't ready yet");te(A)},[te]);E.useEffect(()=>{var A,w,P;if((w=(A=U==null?void 0:U.context)==null?void 0:A.cart)!=null&&w.id&&Ve("localStorage"))try{window.localStorage.setItem(Le,(P=U.context.cart)==null?void 0:P.id)}catch(Y){console.warn("Failed to save cartId to localStorage",Y)}},[(R=(N=U==null?void 0:U.context)==null?void 0:N.cart)==null?void 0:R.id]),E.useEffect(()=>{if(dt&&Ve("localStorage"))try{window.localStorage.removeItem(Le)}catch(A){console.warn("Failed to delete cartId from localStorage",A)}},[dt]);const ke=E.useCallback(A=>{var w,P;T&&!((w=A.buyerIdentity)!=null&&w.countryCode)&&(A.buyerIdentity==null&&(A.buyerIdentity={}),A.buyerIdentity.countryCode=T),x&&!((P=A.buyerIdentity)!=null&&P.customerAccessToken)&&(A.buyerIdentity==null&&(A.buyerIdentity={}),A.buyerIdentity.customerAccessToken=x),B({type:"CART_CREATE",payload:A})},[T,x,B]),$=yr(U),bn=E.useMemo(()=>{var A,w,P,Y;return{...((A=$==null?void 0:$.context)==null?void 0:A.cart)??{lines:[],attributes:[]},status:hr($.value),error:(w=$==null?void 0:$.context)==null?void 0:w.errors,totalQuantity:((Y=(P=$==null?void 0:$.context)==null?void 0:P.cart)==null?void 0:Y.totalQuantity)??0,cartCreate:ke,cartReady:lt,linesAdd(L){var le,j;(j=(le=$==null?void 0:$.context)==null?void 0:le.cart)!=null&&j.id?B({type:"CARTLINE_ADD",payload:{lines:L}}):ke({lines:L})},linesRemove(L){B({type:"CARTLINE_REMOVE",payload:{lines:L}})},linesUpdate(L){B({type:"CARTLINE_UPDATE",payload:{lines:L}})},noteUpdate(L){B({type:"NOTE_UPDATE",payload:{note:L}})},buyerIdentityUpdate(L){B({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:L}})},cartAttributesUpdate(L){B({type:"CART_ATTRIBUTES_UPDATE",payload:{attributes:L}})},discountCodesUpdate(L){B({type:"DISCOUNT_CODES_UPDATE",payload:{discountCodes:L}})},cartFragment:S}},[ke,lt,(ee=$==null?void 0:$.context)==null?void 0:ee.cart,(ae=$==null?void 0:$.context)==null?void 0:ae.errors,$.value,S,B]);return V.jsx(Zt.Provider,{value:bn,children:e})}function hr(e){switch(e){case"uninitialized":case"initializationError":return"uninitialized";case"idle":case"cartCompleted":case"error":return"idle";case"cartFetching":return"fetching";case"cartCreating":return"creating";case"cartLineAdding":case"cartLineRemoving":case"cartLineUpdating":case"noteUpdating":case"buyerIdentityUpdating":case"cartAttributesUpdating":case"discountCodesUpdating":return"updating"}}function yr(e){const[t,n]=E.useTransition(),[i,r]=E.useState(e),s=E.useRef(!1);t&&(s.current=!0);const o=E.useRef(!1);return!t&&s.current&&(o.current=!0),E.useEffect(()=>{n(()=>{o.current||r(e)})},[e]),o.current?e:i}function Ve(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return!!(n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0)}}function mr(e,t){var n,i;return!!(t.payload.buyerIdentity.countryCode&&((i=(n=e.cart)==null?void 0:n.buyerIdentity)==null?void 0:i.countryCode)!==t.payload.buyerIdentity.countryCode)}const Kt=E.createContext(void 0);function ms({children:e}){const[t,n]=E.useState(!1),i=E.useMemo(()=>({isCartOpen:t,openCart:()=>n(!0),closeCart:()=>n(!1)}),[t]);return V.jsx(Kt.Provider,{value:i,children:e})}function Er(){const e=E.useContext(Kt);if(!e)throw new Error("useCartDrawer must be used within a CartDrawerProvider");return e}function Es(e){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function vs(e){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}const Ts=(e,t)=>{E.useEffect(()=>{const n=i=>{!e.current||e.current.contains(i.target)||t(!1)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])};function H(e){try{return e()}catch{}}const bt=H(()=>globalThis)||H(()=>window)||H(()=>self)||H(()=>global)||H(function(){return H.constructor("return this")()}),en="4.0.9",Ct=new Map;function vr(e){const t=Ct.get(e)||1;return Ct.set(e,t+1),`${e}:${t}:${Math.random().toString(36).slice(2)}`}function Tr(e,t=0){const n=vr("stringifyForDisplay");return JSON.stringify(e,(i,r)=>r===void 0?n:r,t).split(JSON.stringify(n)).join("<undefined>")}const St="Invariant Violation";class at extends Error{constructor(t=St){super(t),this.name=St,Object.setPrototypeOf(this,at.prototype)}}const tn=["debug","log","warn","error","silent"];let gr=tn.indexOf("silent");function se(e,...t){if(!e)throw Ir(...t)}function xe(e){return function(t,...n){if(tn.indexOf(e)>=gr){const i=console[e]||console.log;if(typeof t=="number"){const r=t;t=nn(r),t||(t=rn(r,n),n=[])}i(t,...n)}}}se.debug=xe("debug");se.log=xe("log");se.warn=xe("warn");se.error=xe("error");function Ir(e,...t){return new at(nn(e,t)||rn(e,t))}const xt=Symbol.for("ApolloErrorMessageHandler_"+en);function Qe(e){if(typeof e=="string")return e;try{return Tr(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function nn(e,t=[]){if(e)return bt[xt]&&bt[xt](e,t.map(Qe))}function rn(e,t=[]){if(e)return typeof e=="string"?t.reduce((n,i)=>n.replace(/%[sdfo]/,Qe(i)),e):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:en,message:e,args:t.map(Qe)}))}`}const Nt=Symbol.for("__APOLLO_CONTEXT__");function sn(){se("createContext"in Ht,37);let e=E.createContext[Nt];return e||(Object.defineProperty(E.createContext,Nt,{value:e=E.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function on(e){const t=E.useContext(sn()),n=e||t.client;return se(!!n,28),n}const{toString:Ot,hasOwnProperty:Ar}=Object.prototype,Dt=Function.prototype.toString,We=new Map;function X(e,t){try{return Je(e,t)}finally{We.clear()}}function Je(e,t){if(e===t)return!0;const n=Ot.call(e),i=Ot.call(t);if(n!==i)return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(kt(e,t))return!0;const r=Rt(e),s=Rt(t),o=r.length;if(o!==s.length)return!1;for(let c=0;c<o;++c)if(!Ar.call(t,r[c]))return!1;for(let c=0;c<o;++c){const u=r[c];if(!Je(e[u],t[u]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(kt(e,t))return!0;const r=e.entries(),s=n==="[object Map]";for(;;){const o=r.next();if(o.done)break;const[c,u]=o.value;if(!t.has(c)||s&&!Je(u,t.get(c)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=Dt.call(e);return r!==Dt.call(t)?!1:!Cr(r,br)}}return!1}function Rt(e){return Object.keys(e).filter(_r,e)}function _r(e){return this[e]!==void 0}const br="{ [native code] }";function Cr(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function kt(e,t){let n=We.get(e);if(n){if(n.has(t))return!0}else We.set(e,n=new Set);return n.add(t),!1}function je(e,t){if(!!!e)throw new Error(t)}function Sr(e){return typeof e=="object"&&e!==null}function xr(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const Nr=/\r\n|[\n\r]/g;function Xe(e,t){let n=0,i=1;for(const r of e.body.matchAll(Nr)){if(typeof r.index=="number"||xr(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function Or(e){return an(e.source,Xe(e.source,e.start))}function an(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,s=e.locationOffset.line-1,o=t.line+s,c=t.line===1?n:0,u=t.column+c,l=`${e.name}:${o}:${u}
`,f=i.split(/\r\n|[\n\r]/g),h=f[r];if(h.length>120){const m=Math.floor(u/80),p=u%80,d=[];for(let y=0;y<h.length;y+=80)d.push(h.slice(y,y+80));return l+wt([[`${o} |`,d[0]],...d.slice(1,m+1).map(y=>["|",y]),["|","^".padStart(p)],["|",d[m+1]]])}return l+wt([[`${o-1} |`,f[r-1]],[`${o} |`,h],["|","^".padStart(u)],[`${o+1} |`,f[r+1]]])}function wt(e){const t=e.filter(([i,r])=>r!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function Dr(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class ct extends Error{constructor(t,...n){var i,r,s;const{nodes:o,source:c,positions:u,path:l,originalError:f,extensions:h}=Dr(n);super(t),this.name="GraphQLError",this.path=l??void 0,this.originalError=f??void 0,this.nodes=Lt(Array.isArray(o)?o:o?[o]:void 0);const m=Lt((i=this.nodes)===null||i===void 0?void 0:i.map(d=>d.loc).filter(d=>d!=null));this.source=c??(m==null||(r=m[0])===null||r===void 0?void 0:r.source),this.positions=u??(m==null?void 0:m.map(d=>d.start)),this.locations=u&&c?u.map(d=>Xe(c,d)):m==null?void 0:m.map(d=>Xe(d.source,d.start));const p=Sr(f==null?void 0:f.extensions)?f==null?void 0:f.extensions:void 0;this.extensions=(s=h??p)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),f!=null&&f.stack?Object.defineProperty(this,"stack",{value:f.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,ct):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Or(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+an(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Lt(e){return e===void 0||e.length===0?void 0:e}function D(e,t,n){return new ct(`Syntax Error: ${n}`,{source:e,positions:[t]})}class Rr{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class cn{constructor(t,n,i,r,s,o){this.kind=t,this.start=n,this.end=i,this.line=r,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const kr={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},wr=new Set(Object.keys(kr));function gs(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&wr.has(t)}var re;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(re||(re={}));var Ze;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ze||(Ze={}));var g;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",e.TYPE_COORDINATE="TypeCoordinate",e.MEMBER_COORDINATE="MemberCoordinate",e.ARGUMENT_COORDINATE="ArgumentCoordinate",e.DIRECTIVE_COORDINATE="DirectiveCoordinate",e.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate"})(g||(g={}));function Ke(e){return e===9||e===32}function ye(e){return e>=48&&e<=57}function un(e){return e>=97&&e<=122||e>=65&&e<=90}function ln(e){return un(e)||e===95}function Lr(e){return un(e)||ye(e)||e===95}function Ur(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let o=0;o<e.length;++o){var s;const c=e[o],u=Pr(c);u!==c.length&&(i=(s=i)!==null&&s!==void 0?s:o,r=o,o!==0&&u<n&&(n=u))}return e.map((o,c)=>c===0?o:o.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,r+1)}function Pr(e){let t=0;for(;t<e.length&&Ke(e.charCodeAt(t));)++t;return t}function Is(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=i.length===1,s=i.length>1&&i.slice(1).every(p=>p.length===0||Ke(p.charCodeAt(0))),o=n.endsWith('\\"""'),c=e.endsWith('"')&&!o,u=e.endsWith("\\"),l=c||u,f=!r||e.length>70||l||s||o;let h="";const m=r&&Ke(e.charCodeAt(0));return(f&&!m||s)&&(h+=`
`),h+=n,(f||l)&&(h+=`
`),'"""'+h+'"""'}var a;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.DOT=".",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(a||(a={}));class Fr{constructor(t){const n=new cn(a.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==a.EOF)do if(t.next)t=t.next;else{const n=$r(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===a.COMMENT);return t}}function Mr(e){return e===a.BANG||e===a.DOLLAR||e===a.AMP||e===a.PAREN_L||e===a.PAREN_R||e===a.DOT||e===a.SPREAD||e===a.COLON||e===a.EQUALS||e===a.AT||e===a.BRACKET_L||e===a.BRACKET_R||e===a.BRACE_L||e===a.PIPE||e===a.BRACE_R}function oe(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ne(e,t){return dn(e.charCodeAt(t))&&fn(e.charCodeAt(t+1))}function dn(e){return e>=55296&&e<=56319}function fn(e){return e>=56320&&e<=57343}function K(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return a.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function O(e,t,n,i,r){const s=e.line,o=1+n-e.lineStart;return new cn(t,n,i,s,o,r)}function $r(e,t){const n=e.source.body,i=n.length;let r=t;for(;r<i;){const s=n.charCodeAt(r);switch(s){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return Vr(e,r);case 33:return O(e,a.BANG,r,r+1);case 36:return O(e,a.DOLLAR,r,r+1);case 38:return O(e,a.AMP,r,r+1);case 40:return O(e,a.PAREN_L,r,r+1);case 41:return O(e,a.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return O(e,a.SPREAD,r,r+3);break;case 58:return O(e,a.COLON,r,r+1);case 61:return O(e,a.EQUALS,r,r+1);case 64:return O(e,a.AT,r,r+1);case 91:return O(e,a.BRACKET_L,r,r+1);case 93:return O(e,a.BRACKET_R,r,r+1);case 123:return O(e,a.BRACE_L,r,r+1);case 124:return O(e,a.PIPE,r,r+1);case 125:return O(e,a.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?Hr(e,r):Br(e,r)}if(ye(s)||s===45)return jr(e,r,s);if(ln(s))return zr(e,r);throw D(e.source,r,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:oe(s)||Ne(n,r)?`Unexpected character: ${K(e,r)}.`:`Invalid character: ${K(e,r)}.`)}return O(e,a.EOF,i,i)}function Vr(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const s=n.charCodeAt(r);if(s===10||s===13)break;if(oe(s))++r;else if(Ne(n,r))r+=2;else break}return O(e,a.COMMENT,t,r,n.slice(t+1,r))}function jr(e,t,n){const i=e.source.body;let r=t,s=n,o=!1;if(s===45&&(s=i.charCodeAt(++r)),s===48){if(s=i.charCodeAt(++r),ye(s))throw D(e.source,r,`Invalid number, unexpected digit after 0: ${K(e,r)}.`)}else r=Be(e,r,s),s=i.charCodeAt(r);if(s===46&&(o=!0,s=i.charCodeAt(++r),r=Be(e,r,s),s=i.charCodeAt(r)),(s===69||s===101)&&(o=!0,s=i.charCodeAt(++r),(s===43||s===45)&&(s=i.charCodeAt(++r)),r=Be(e,r,s),s=i.charCodeAt(r)),s===46||ln(s))throw D(e.source,r,`Invalid number, expected digit but got: ${K(e,r)}.`);return O(e,o?a.FLOAT:a.INT,t,r,i.slice(t,r))}function Be(e,t,n){if(!ye(n))throw D(e.source,t,`Invalid number, expected digit but got: ${K(e,t)}.`);const i=e.source.body;let r=t+1;for(;ye(i.charCodeAt(r));)++r;return r}function Br(e,t){const n=e.source.body,i=n.length;let r=t+1,s=r,o="";for(;r<i;){const c=n.charCodeAt(r);if(c===34)return o+=n.slice(s,r),O(e,a.STRING,t,r+1,o);if(c===92){o+=n.slice(s,r);const u=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?Yr(e,r):qr(e,r):Gr(e,r);o+=u.value,r+=u.size,s=r;continue}if(c===10||c===13)break;if(oe(c))++r;else if(Ne(n,r))r+=2;else throw D(e.source,r,`Invalid character within String: ${K(e,r)}.`)}throw D(e.source,r,"Unterminated string.")}function Yr(e,t){const n=e.source.body;let i=0,r=3;for(;r<12;){const s=n.charCodeAt(t+r++);if(s===125){if(r<5||!oe(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|he(s),i<0)break}throw D(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function qr(e,t){const n=e.source.body,i=Ut(n,t+2);if(oe(i))return{value:String.fromCodePoint(i),size:6};if(dn(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const r=Ut(n,t+8);if(fn(r))return{value:String.fromCodePoint(i,r),size:12}}throw D(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Ut(e,t){return he(e.charCodeAt(t))<<12|he(e.charCodeAt(t+1))<<8|he(e.charCodeAt(t+2))<<4|he(e.charCodeAt(t+3))}function he(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Gr(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw D(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Hr(e,t){const n=e.source.body,i=n.length;let r=e.lineStart,s=t+3,o=s,c="";const u=[];for(;s<i;){const l=n.charCodeAt(s);if(l===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){c+=n.slice(o,s),u.push(c);const f=O(e,a.BLOCK_STRING,t,s+3,Ur(u).join(`
`));return e.line+=u.length-1,e.lineStart=r,f}if(l===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){c+=n.slice(o,s),o=s+1,s+=4;continue}if(l===10||l===13){c+=n.slice(o,s),u.push(c),l===13&&n.charCodeAt(s+1)===10?s+=2:++s,c="",o=s,r=s;continue}if(oe(l))++s;else if(Ne(n,s))s+=2;else throw D(e.source,s,`Invalid character within String: ${K(e,s)}.`)}throw D(e.source,s,"Unterminated string.")}function zr(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const s=n.charCodeAt(r);if(Lr(s))++r;else break}return O(e,a.NAME,t,r,n.slice(t,r))}const Qr=10,pn=2;function hn(e){return Oe(e,[])}function Oe(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Wr(e,t);default:return String(e)}}function Wr(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Jr(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Oe(i,n)}else if(Array.isArray(e))return Zr(e,n);return Xr(e,n)}function Jr(e){return typeof e.toJSON=="function"}function Xr(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>pn?"["+Kr(e)+"]":"{ "+n.map(([r,s])=>r+": "+Oe(s,t)).join(", ")+" }"}function Zr(e,t){if(e.length===0)return"[]";if(t.length>pn)return"[Array]";const n=Math.min(Qr,e.length),i=e.length-n,r=[];for(let s=0;s<n;++s)r.push(Oe(e[s],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function Kr(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const ei=globalThis.process&&!0,ti=ei?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var i;const r=n.prototype[Symbol.toStringTag],s=Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name;if(r===s){const o=hn(t);throw new Error(`Cannot use ${r} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class yn{constructor(t,n="GraphQL request",i={line:1,column:1}){typeof t=="string"||je(!1,`Body must be a string. Received: ${hn(t)}.`),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||je(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||je(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ni(e){return ti(e,yn)}function ri(e,t){const n=new ii(e,t),i=n.parseDocument();return Object.defineProperty(i,"tokenCount",{enumerable:!1,value:n.tokenCount}),i}class ii{constructor(t,n={}){const{lexer:i,...r}=n;if(i)this._lexer=i;else{const s=ni(t)?t:new yn(t);this._lexer=new Fr(s)}this._options=r,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(a.NAME);return this.node(t,{kind:g.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:g.DOCUMENT,definitions:this.many(a.SOF,this.parseDefinition,a.EOF)})}parseDefinition(){if(this.peek(a.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(t&&n.kind===a.BRACE_L)throw D(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(n.kind===a.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(t)throw D(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");switch(n.value){case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(a.BRACE_L))return this.node(t,{kind:g.OPERATION_DEFINITION,operation:re.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseDescription(),i=this.parseOperationType();let r;return this.peek(a.NAME)&&(r=this.parseName()),this.node(t,{kind:g.OPERATION_DEFINITION,operation:i,description:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(a.NAME);switch(t.value){case"query":return re.QUERY;case"mutation":return re.MUTATION;case"subscription":return re.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(a.PAREN_L,this.parseVariableDefinition,a.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:g.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(a.DOLLAR),this.node(t,{kind:g.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:g.SELECTION_SET,selections:this.many(a.BRACE_L,this.parseSelection,a.BRACE_R)})}parseSelection(){return this.peek(a.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(a.COLON)?(i=n,r=this.parseName()):r=n,this.node(t,{kind:g.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.PAREN_L,n,a.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:g.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(a.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(a.NAME)?this.node(t,{kind:g.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:g.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token,n=this.parseDescription();return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:g.FRAGMENT_DEFINITION,description:n,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:g.FRAGMENT_DEFINITION,description:n,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case a.BRACKET_L:return this.parseList(t);case a.BRACE_L:return this.parseObject(t);case a.INT:return this.advanceLexer(),this.node(n,{kind:g.INT,value:n.value});case a.FLOAT:return this.advanceLexer(),this.node(n,{kind:g.FLOAT,value:n.value});case a.STRING:case a.BLOCK_STRING:return this.parseStringLiteral();case a.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:g.BOOLEAN,value:!0});case"false":return this.node(n,{kind:g.BOOLEAN,value:!1});case"null":return this.node(n,{kind:g.NULL});default:return this.node(n,{kind:g.ENUM,value:n.value})}case a.DOLLAR:if(t)if(this.expectToken(a.DOLLAR),this._lexer.token.kind===a.NAME){const i=this._lexer.token.value;throw D(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:g.STRING,value:t.value,block:t.kind===a.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:g.LIST,values:this.any(a.BRACKET_L,n,a.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:g.OBJECT,fields:this.any(a.BRACE_L,n,a.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:g.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(a.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(a.AT),this.node(n,{kind:g.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(a.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(a.BRACKET_R),n=this.node(t,{kind:g.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(a.BANG)?this.node(t,{kind:g.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:g.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(a.STRING)||this.peek(a.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);return this.node(t,{kind:g.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(a.COLON);const i=this.parseNamedType();return this.node(t,{kind:g.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:g.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:g.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(a.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseFieldDefinition,a.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(a.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:g.FIELD_DEFINITION,description:n,name:i,arguments:r,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(a.PAREN_L,this.parseInputValueDef,a.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(a.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(a.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:g.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:g.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(t,{kind:g.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(a.EQUALS)?this.delimitedMany(a.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(t,{kind:g.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(a.BRACE_L,this.parseEnumValueDefinition,a.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:g.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw D(this._lexer.source,this._lexer.token.start,`${ge(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(t,{kind:g.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseInputValueDef,a.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===a.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:g.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:g.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:g.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:g.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:g.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:g.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:g.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.AT);const i=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:g.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(a.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Ze,n.value))return n;throw this.unexpected(t)}parseSchemaCoordinate(){const t=this._lexer.token,n=this.expectOptionalToken(a.AT),i=this.parseName();let r;!n&&this.expectOptionalToken(a.DOT)&&(r=this.parseName());let s;return(n||r)&&this.expectOptionalToken(a.PAREN_L)&&(s=this.parseName(),this.expectToken(a.COLON),this.expectToken(a.PAREN_R)),n?s?this.node(t,{kind:g.DIRECTIVE_ARGUMENT_COORDINATE,name:i,argumentName:s}):this.node(t,{kind:g.DIRECTIVE_COORDINATE,name:i}):r?s?this.node(t,{kind:g.ARGUMENT_COORDINATE,name:i,fieldName:r,argumentName:s}):this.node(t,{kind:g.MEMBER_COORDINATE,name:i,memberName:r}):this.node(t,{kind:g.TYPE_COORDINATE,name:i})}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Rr(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw D(this._lexer.source,n.start,`Expected ${mn(t)}, found ${ge(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===a.NAME&&n.value===t)this.advanceLexer();else throw D(this._lexer.source,n.start,`Expected "${t}", found ${ge(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===a.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return D(this._lexer.source,n.start,`Unexpected ${ge(n)}.`)}any(t,n,i){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(i);)r.push(n.call(this));return r}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(t,n,i){this.expectToken(t);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(n.kind!==a.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw D(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function ge(e){const t=e.value;return mn(e.kind)+(t!=null?` "${t}"`:"")}function mn(e){return Mr(e)?`"${e}"`:e}var et=function(e,t){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},et(e,t)};function z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");et(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var be=function(){return be=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},be.apply(this,arguments)};function As(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(i.next(f))}catch(h){o(h)}}function u(f){try{l(i.throw(f))}catch(h){o(h)}}function l(f){f.done?s(f.value):r(f.value).then(c,u)}l((i=i.apply(e,t||[])).next())})}function _s(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(f){return u([l,f])}}function u(l){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(i=1,r&&(s=l[0]&2?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,r=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(f){l=[6,f],r=0}finally{i=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ce(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Ee(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}function tt(e){return this instanceof tt?(this.v=e,this):new tt(e)}function bs(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(d){return Promise.resolve(d).then(p,h)}}function c(p,d){i[p]&&(r[p]=function(y){return new Promise(function(C,F){s.push([p,y,C,F])>1||u(p,y)})},d&&(r[p]=d(r[p])))}function u(p,d){try{l(i[p](d))}catch(y){m(s[0][3],y)}}function l(p){p.value instanceof tt?Promise.resolve(p.value.v).then(f,h):m(s[0][2],p)}function f(p){u("next",p)}function h(p){u("throw",p)}function m(p,d){p(d),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Cs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ce=="function"?Ce(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(c,u){o=e[s](o),r(c,u,o.done,o.value)})}}function r(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}function Z(e){return typeof e=="function"}function si(e){var t=function(i){Error.call(i),i.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ye=si(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,r){return r+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function nt(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var De=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,i,r,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=Ce(o),u=c.next();!u.done;u=c.next()){var l=u.value;l.remove(this)}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else o.remove(this);var f=this.initialTeardown;if(Z(f))try{f()}catch(y){s=y instanceof Ye?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var m=Ce(h),p=m.next();!p.done;p=m.next()){var d=p.value;try{Pt(d)}catch(y){s=s??[],y instanceof Ye?s=Ee(Ee([],me(s)),me(y.errors)):s.push(y)}}}catch(y){i={error:y}}finally{try{p&&!p.done&&(r=m.return)&&r.call(m)}finally{if(i)throw i.error}}}if(s)throw new Ye(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Pt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&nt(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&nt(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ss=De.EMPTY;function oi(e){return e instanceof De||e&&"closed"in e&&Z(e.remove)&&Z(e.add)&&Z(e.unsubscribe)}function Pt(e){Z(e)?e():e.unsubscribe()}var ai={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return setTimeout.apply(void 0,Ee([e,t],me(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function ci(e){ai.setTimeout(function(){throw e})}function Ft(){}var En=function(e){z(t,e);function t(n){var i=e.call(this)||this;return i.isStopped=!1,n?(i.destination=n,oi(n)&&n.add(i)):i.destination=fi,i}return t.create=function(n,i,r){return new li(n,i,r)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(De),ui=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(i){Ie(i)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(i){Ie(i)}else Ie(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ie(n)}},e}(),li=function(e){z(t,e);function t(n,i,r){var s=e.call(this)||this,o;return Z(n)||!n?o={next:n??void 0,error:i??void 0,complete:r??void 0}:o=n,s.destination=new ui(o),s}return t}(En);function Ie(e){ci(e)}function di(e){throw e}var fi={closed:!0,next:Ft,error:di,complete:Ft};function pi(e){return Z(e==null?void 0:e.lift)}function hi(e){return function(t){if(pi(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function yi(e,t,n,i,r){return new mi(e,t,n,i,r)}var mi=function(e){z(t,e);function t(n,i,r,s,o,c){var u=e.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=i?function(l){try{i(l)}catch(f){n.error(f)}}:e.prototype._next,u._error=s?function(l){try{s(l)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(En),vn={now:function(){return(vn.delegate||Date).now()},delegate:void 0},Ei=function(e){z(t,e);function t(n,i){return e.call(this)||this}return t.prototype.schedule=function(n,i){return this},t}(De),Mt={setInterval:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return setInterval.apply(void 0,Ee([e,t],me(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},vi=function(e){z(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.scheduler=n,r.work=i,r.pending=!1,r}return t.prototype.schedule=function(n,i){var r;if(i===void 0&&(i=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,i)),this.pending=!0,this.delay=i,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,i),this},t.prototype.requestAsyncId=function(n,i,r){return r===void 0&&(r=0),Mt.setInterval(n.flush.bind(n,this),r)},t.prototype.recycleAsyncId=function(n,i,r){if(r===void 0&&(r=0),r!=null&&this.delay===r&&this.pending===!1)return i;i!=null&&Mt.clearInterval(i)},t.prototype.execute=function(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(n,i);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,i){var r=!1,s;try{this.work(n)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,i=n.id,r=n.scheduler,s=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,nt(s,this),i!=null&&(this.id=this.recycleAsyncId(r,i,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ei),Ti=1,qe,rt={};function $t(e){return e in rt?(delete rt[e],!0):!1}var Tn={setImmediate:function(e){var t=Ti++;return rt[t]=!0,qe||(qe=Promise.resolve()),qe.then(function(){return $t(t)&&e()}),t},clearImmediate:function(e){$t(e)}},gi=Tn.setImmediate,Ii=Tn.clearImmediate,Vt={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gi.apply(void 0,Ee([],me(e)))},clearImmediate:function(e){return Ii(e)},delegate:void 0},Ai=function(e){z(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.scheduler=n,r.work=i,r}return t.prototype.requestAsyncId=function(n,i,r){return r===void 0&&(r=0),r!==null&&r>0?e.prototype.requestAsyncId.call(this,n,i,r):(n.actions.push(this),n._scheduled||(n._scheduled=Vt.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,i,r){var s;if(r===void 0&&(r=0),r!=null?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,i,r);var o=n.actions;i!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==i&&(Vt.clearImmediate(i),n._scheduled===i&&(n._scheduled=void 0))},t}(vi),jt=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(i,n)},e.now=vn.now,e}(),_i=function(e){z(t,e);function t(n,i){i===void 0&&(i=jt.now);var r=e.call(this,n,i)||this;return r.actions=[],r._active=!1,r}return t.prototype.flush=function(n){var i=this.actions;if(this._active){i.push(n);return}var r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=i.shift());if(this._active=!1,r){for(;n=i.shift();)n.unsubscribe();throw r}},t}(jt),bi=function(e){z(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var r=this.actions,s;n=n||r.shift();do if(s=n.execute(n.state,n.delay))break;while((n=r[0])&&n.id===i&&r.shift());if(this._active=!1,s){for(;(n=r[0])&&n.id===i&&r.shift();)n.unsubscribe();throw s}},t}(_i),Ci=new bi(Ai);function Ge(e,t,n,i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function Si(e,t){return t===void 0&&(t=0),hi(function(n,i){n.subscribe(yi(i,function(r){return Ge(i,e,function(){return i.next(r)},t)},function(){return Ge(i,e,function(){return i.complete()},t)},function(r){return Ge(i,e,function(){return i.error(r)},t)}))})}const xi=typeof H(()=>window.document.createElement)=="function";function Bt(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(i=>{const r=n[i];r!==void 0&&(t[i]=r)})}),t}function xs(e){return e}function Yt(e,t){return Bt(e,t,t.variables&&{variables:Bt({...e&&e.variables,...t.variables})})}var it;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error",e[e.streaming=9]="streaming"})(it||(it={}));var Ae=new Map,st=new Map,gn=!0,Se=!1;function In(e){return e.replace(/[\s,]+/g," ").trim()}function Ni(e){return In(e.source.body.substring(e.start,e.end))}function Oi(e){var t=new Set,n=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,s=Ni(i.loc),o=st.get(r);o&&!o.has(s)?gn&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||st.set(r,o=new Set),o.add(s),t.has(s)||(t.add(s),n.push(i))}else n.push(i)}),be(be({},e),{definitions:n})}function Di(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var s=i[r];s&&typeof s=="object"&&t.add(s)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function Ri(e){var t=In(e);if(!Ae.has(t)){var n=ri(e,{experimentalFragmentVariables:Se,allowLegacyFragmentVariables:Se});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Ae.set(t,Di(Oi(n)))}return Ae.get(t)}function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(r,s){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[s+1]}),Ri(i)}function ki(){Ae.clear(),st.clear()}function wi(){gn=!1}function Li(){Se=!0}function Ui(){Se=!1}var fe={gql:ie,resetCaches:ki,disableFragmentWarnings:wi,enableExperimentalFragmentVariables:Li,disableExperimentalFragmentVariables:Ui};(function(e){e.gql=fe.gql,e.resetCaches=fe.resetCaches,e.disableFragmentWarnings=fe.disableFragmentWarnings,e.enableExperimentalFragmentVariables=fe.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=fe.disableExperimentalFragmentVariables})(ie||(ie={}));ie.default=ie;function Pi(e,t){const n=E.useRef(void 0);return(!n.current||!X(n.current.deps,t))&&(n.current={value:e(),deps:t}),n.current.value}const Fi=Symbol.for("apollo.skipToken"),Mi=Symbol.for("apollo.hook.wrappers");function $i(e,t,n){var s;const i=[n.queryManager,e.startsWith("use")?E.useContext(sn()):void 0];let r=t;for(const o of i){const c=(s=o==null?void 0:o[Mi])==null?void 0:s[e];c&&(r=c(r))}return r}const Vi="useSyncExternalStore",ji=Ht[Vi],Bi=H(()=>navigator.product)=="ReactNative",Yi=H(()=>navigator.userAgent.indexOf("jsdom")>=0)||!1,qi=(xi||Bi)&&!Yi,Gi=ji||((e,t,n)=>{const i=t(),[{inst:r},s]=E.useState({inst:{value:i,getSnapshot:t}});return qi?E.useLayoutEffect(()=>{Object.assign(r,{value:i,getSnapshot:t}),He(r)&&s({inst:r})},[e,i,t]):Object.assign(r,{value:i,getSnapshot:t}),E.useEffect(()=>(He(r)&&s({inst:r}),e(function(){He(r)&&s({inst:r})})),[e]),i});function He({value:e,getSnapshot:t}){try{return e!==t()}catch{return!0}}const pe=Symbol();function ut(e,...[t]){"use no memo";return $i("useQuery",Hi,on(typeof t=="object"?t.client:void 0))(e,t)}function Hi(e,t={}){const n=on(typeof t=="object"?t.client:void 0),{ssr:i}=typeof t=="object"?t:{},r=zi(e,t,n.defaultOptions.watchQuery);function s(p){const d=n.watchQuery(r);return{client:n,query:e,observable:d,resultData:{current:d.getCurrentResult(),previousData:p==null?void 0:p.resultData.current.data,variables:d.variables}}}let[o,c]=E.useState(s);(n!==o.client||e!==o.query)&&c(o=s(o));const{observable:u,resultData:l}=o;Qi(r,u),Ji(l,u,r);const f=Wi(u,l,i),h=E.useMemo(()=>({refetch:u.refetch.bind(u),fetchMore:u.fetchMore.bind(u),updateQuery:u.updateQuery.bind(u),startPolling:u.startPolling.bind(u),stopPolling:u.stopPolling.bind(u),subscribeToMore:u.subscribeToMore.bind(u)}),[u]),m=l.previousData;return E.useMemo(()=>{const{partial:p,...d}=f;return{...d,client:n,observable:u,variables:u.variables,previousData:m,...h}},[f,n,u,m,h])}const An=Symbol();function zi(e,t,n){return Pi(()=>{if(t===Fi){const r=Yt(n,{query:e,fetchPolicy:"standby"});return r[An]=!0,r}const i=Yt(n,{...t,query:e});return t.skip&&(i.initialFetchPolicy=t.initialFetchPolicy||t.fetchPolicy,i.fetchPolicy="standby"),i},[e,t,n])}function Qi(e,t){"use no memo";e.fetchPolicy||(e.fetchPolicy=t.options.initialFetchPolicy)}function Wi(e,t,n){"use no memo";return Gi(E.useCallback(i=>{const r=e.pipe(Si(Ci)).subscribe(s=>{const o=t.current;X(o,s)&&X(t.variables,e.variables)||(t.variables=e.variables,o.data&&!X(o.data,s.data)&&(t.previousData=o.data),t.current=s,i())});return()=>{setTimeout(()=>r.unsubscribe())}},[e,t]),()=>t.current,()=>n===!1?ut.ssrDisabledResult:t.current)}function Ji(e,t,n){"use no memo";if(t[pe]&&!X(t[pe],n)){t[pe][An]&&!n.initialFetchPolicy&&(n.initialFetchPolicy=n.fetchPolicy),Xi(t[pe],n)?t.reobserve(n):t.applyOptions(n);const i=t.getCurrentResult();X(i.data,e.current.data)||(e.previousData=e.current.data||e.previousData),e.current=i,e.variables=t.variables}t[pe]=n}function Xi(e,t){return e.query!==t.query||!X(e.variables,t.variables)||e.fetchPolicy!==t.fetchPolicy&&(t.fetchPolicy==="standby"||e.fetchPolicy==="standby")}ut.ssrDisabledResult={loading:!0,data:void 0,dataState:"empty",error:void 0,networkStatus:it.loading,partial:!0};const Zi=ie`
  query GetCollectionByHandle($handle: String!) {
    collectionByHandle(handle: $handle) {
      id
      title
      products(first: 5) {
        edges {
          node {
            id
            handle
            title
            availableForSale
            images(first: 5) {
              edges {
                node {
                  altText
                  transformedSrc
                }
              }
            }
            variants(first: 5) {
              edges {
                node {
                  id
                  title
                  availableForSale
                  priceV2 {
                    amount
                    currencyCode
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`,Ki=e=>{var o;const{data:t,loading:n,error:i}=ut(Zi,{variables:{handle:e},skip:!e}),r=(t==null?void 0:t.collectionByHandle)??null;return{products:((o=r==null?void 0:r.products)==null?void 0:o.edges.map(c=>c))??[],loading:n,error:i}},es="2025-drop-1",ts=()=>Ki(es),ns=()=>{const{lines:e,linesAdd:t,linesUpdate:n,status:i}=pr(),{openCart:r}=Er(),[s,o]=E.useState(!1),c=E.useMemo(()=>{const f={};return e==null||e.forEach(h=>{var p;const m=(p=h.merchandise)==null?void 0:p.id;m&&(f[m]=h.quantity)}),f},[e]);return{addToCart:async(f,h)=>{var p;const m=(typeof f=="string"?f:(p=f==null?void 0:f.node)==null?void 0:p.id)??"";if(!m||h<=0)return!1;o(!0);try{const d=e==null?void 0:e.find(y=>{var C;return((C=y==null?void 0:y.merchandise)==null?void 0:C.id)===m});return d!=null&&d.id?n([{id:d.id,quantity:(d.quantity??0)+h}]):t([{merchandiseId:m,quantity:h}]),r(),!0}catch(d){return console.error("Error adding to cart:",d),!1}finally{o(!1)}},isLoading:s||i==="updating",cartCounts:c}},J={sizeFlex:"sizeFlex",availableSize:"availableSize",soldOutSize:"soldOutSize",recommendedWrapper:"recommendedWrapper",title:"title",small:"small",medium:"medium",large:"large",grid:"grid",grid4:"grid4",grid3:"grid3",previewWithTitle:"previewWithTitle",productTitle:"productTitle"},rs=4,is=100,ss="left",os="small",as=({variants:e})=>{const{addToCart:t}=ns(),n=i=>{t(i,1)};return V.jsx("div",{className:J.sizeFlex,children:e.map(i=>V.jsx("div",{className:i.node.availableForSale?J.availableSize:J.soldOutSize,onClick:()=>i.node.availableForSale?n(i):null,children:i.node.title},i.node.id))})},Ns=({width:e=is,textAlign:t=ss,textSize:n=os,itemCount:i=rs,withAddToCart:r=!1,onClick:s=()=>{},columns:o=4,productContainerClassName:c="!w-full !aspect-[3/4] mx-auto !flex !justify-center !items-center"})=>{const{products:u,loading:l,error:f}=ts(),[h,m]=E.useState(null);if(Ln(),l||f||u.length===0)return null;const p={1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6"}[o]||"grid-cols-4";return V.jsxs("div",{className:J.recommendedWrapper,children:[V.jsx("p",{className:`${J.title} ${J[n]}`,style:{textAlign:t},children:"You might also like"}),V.jsx("div",{className:`grid w-full gap-4 ${p}`,children:u.slice(0,i).map(({node:d})=>{var y,C;return V.jsxs("div",{className:"flex flex-col items-start w-full",onMouseEnter:()=>m(d.id),onMouseLeave:()=>m(null),children:[V.jsx("div",{onClick:s,className:"w-full",children:V.jsx(Sn,{id:d.id,handle:d.handle,image:(C=(y=d.images.edges[2])==null?void 0:y.node)==null?void 0:C.transformedSrc,isSoldOut:!0,isSmallText:!0,isArchive:!0,isTimeLeft:!1,imageClassName:"!h-full !w-full !object-center",containerClassName:c,disableDefaultImageContainer:!0})}),V.jsx("div",{className:J.productTitle,children:h===d.id&&r?V.jsx(as,{variants:d.variants.edges}):V.jsx("h3",{children:d.title})})]},d.id)})})]})};export{yi as A,Ee as B,me as C,Ir as D,Ss as E,Es as F,bt as G,X as H,Bt as I,xs as J,g as K,vr as L,en as M,it as N,re as O,Yt as P,kr as Q,H as R,li as S,Ns as T,hs as U,ys as V,ms as W,vs as X,ns as Y,z as _,pr as a,Ts as b,gs as c,je as d,hn as e,oi as f,sn as g,En as h,se as i,Z as j,si as k,De as l,nt as m,Ce as n,vn as o,Is as p,bs as q,_s as r,tt as s,ci as t,Er as u,As as v,Cs as w,hi as x,Si as y,Ge as z};
