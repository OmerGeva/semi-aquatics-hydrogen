var Fi=Object.defineProperty;var Di=(r,e,t)=>e in r?Fi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var b=(r,e,t)=>Di(r,typeof e!="symbol"?e+"":e,t);import{a as I,p as ys,L as de,q as Mi,t as Bt,w as Li,v as qi,x as Bi,S as Vi,y as zi,z as $i,O as On,A as Wi,i as Qi}from"./chunk-TMI4QPZX-ByyJG4wn.js";import{j as u}from"./jsx-runtime-C2tkE_r8.js";import{W as Ui,y as Hi}from"./index-X1EBz-IK.js";import{u as gs,a as vs,b as bs,F as Ki,g as Gi,i as L,Q as Yi,K as q,c as Cn,d as Ji,e as Xi,p as Zi,S as Gt,f as eo,h as to,j as oe,k as ws,_ as ir,E as Ss,l as ro,m as no,n as _s,o as so,q as io,r as ks,s as wr,t as oo,v as ao,w as co,x as Ie,y as xs,z as Yt,A as Ue,B as lo,C as uo,D as ve,G as fo,H,I as ke,J as Qr,N as A,O as wt,L as ho,M as po,P as Sr,R as Os,T as mo,U as yo,V as go}from"./recommended-products.component-DwyOR0Xu.js";import{u as or}from"./use-is-mobile-PX0pwSNg.js";import{G as Pt}from"./iconBase-BrRXCXs8.js";import{E as nn}from"./email-form.component-BRL09Lj5.js";import{u as vo,a as bo}from"./user.types-DWOeYgbg.js";import{P as wo}from"./index-CLcShtRP.js";import"./cookies-utils-DqiKtheR.js";import"./product-preview.component-rRI0ifAa.js";import"./index-B9ygI19o.js";const So="/assets/favicon-DZkC1E9c.svg",_o="/assets/globals-hB11Ske6.css",ko="_layoutContainer_18hot_1",xo="_contentContainer_18hot_35",En={layoutContainer:ko,contentContainer:xo},Oo="_navbarContainer_bdu55_9",Co="_logoLink_bdu55_24",Eo="_navLinksPill_bdu55_35",jo="_navLink_bdu55_35",No="_rightContainer_bdu55_92",To="_waveToggleDesktop_bdu55_98",Po="_signUpNewsletter_bdu55_107",Io="_scrollingText_bdu55_118",Ao="_bagContainer_bdu55_129",Ro="_cartCount_bdu55_147",Fo="_mobileCartWrapper_bdu55_153",Do="_mobileBadge_bdu55_159",K={navbarContainer:Oo,logoLink:Co,navLinksPill:Eo,navLink:jo,rightContainer:No,waveToggleDesktop:To,signUpNewsletter:Po,scrollingText:Io,bagContainer:Ao,cartCount:Ro,mobileCartWrapper:Fo,mobileBadge:Do};function Mo(r){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M372 160v-12A116.13 116.13 0 0 0 258.89 32h-5.78A116.13 116.13 0 0 0 140 148v12H52a4 4 0 0 0-4 4v300a16 16 0 0 0 16 16h384a16 16 0 0 0 16-16V164a4 4 0 0 0-4-4zm-40 0H180v-11c0-41.84 33.41-76.56 75.25-77A76.08 76.08 0 0 1 332 148z"},child:[]}]})(r)}function Cs(r){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(r)}const Lo="_overlay_1kl1a_1",qo="_modalContent_1kl1a_16",Bo="_formOverrides_1kl1a_29",Vo="_closeButton_1kl1a_67",zo="_modalTitle_1kl1a_84",$o="_modalSubtitle_1kl1a_93",we={overlay:Lo,modalContent:qo,formOverrides:Bo,closeButton:Vo,modalTitle:zo,modalSubtitle:$o},Es=({isOpen:r,onClose:e,onSuccess:t})=>r?u.jsx("div",{className:we.overlay,onClick:e,children:u.jsxs("div",{className:we.modalContent,onClick:n=>n.stopPropagation(),children:[u.jsx("button",{className:we.closeButton,onClick:e,children:u.jsx(Cs,{size:24})}),u.jsx("h3",{className:we.modalTitle,children:"Become Part of the Tide"}),u.jsx("p",{className:we.modalSubtitle,children:"early access, inside drops, and 15% off your first order."}),u.jsx("div",{className:we.formOverrides,children:u.jsx(nn,{isSidebar:!1,placeholder:"Enter your email",inputContainerClassName:we.formOverrides,inputClassName:we.modalInput,buttonClassName:we.modalSubmitButton,messageContainerClassName:we.modalMessageContainer,onSuccess:t})})]})}):null,js=I.createContext(void 0),Wo=()=>{const r=I.useContext(js);if(r===void 0)throw new Error("useWaveSounds must be used within a WaveSoundsProvider");return r},Qo=({children:r})=>{const[e,t]=I.useState(!1),n=I.useRef(null);I.useEffect(()=>{const i=new Audio("/wave-sounds.mp3");return i.loop=!0,i.volume=.3,n.current=i,()=>{n.current&&(n.current.pause(),n.current=null)}},[]);const s=()=>{if(!n.current)return;if(e){n.current.pause(),t(!1);return}const i=n.current.play();i!==void 0?i.then(()=>t(!0)).catch(o=>{console.error("Error playing wave sounds:",o)}):t(!0)};return u.jsx(js.Provider,{value:{isPlaying:e,toggleWaveSounds:s},children:r})},Uo="_waveToggle_b0lsg_1",Ho="_active_b0lsg_19",Ko="_wave_b0lsg_1",Go="_waveIcon_b0lsg_28",Yo="_wave1_b0lsg_42",Jo="_wave2_b0lsg_45",Xo="_wave3_b0lsg_48",Zo="_label_b0lsg_62",Se={waveToggle:Uo,active:Ho,wave:Ko,waveIcon:Go,wave1:Yo,wave2:Jo,wave3:Xo,label:Zo},Ns=({className:r})=>{const{isPlaying:e,toggleWaveSounds:t}=Wo();return u.jsxs("button",{className:`${Se.waveToggle} ${e?Se.active:""} ${r||""}`,onClick:t,"aria-label":e?"Stop wave sounds":"Play wave sounds",children:[u.jsxs("div",{className:Se.waveIcon,children:[u.jsx("div",{className:`${Se.wave} ${Se.wave1}`}),u.jsx("div",{className:`${Se.wave} ${Se.wave2}`}),u.jsx("div",{className:`${Se.wave} ${Se.wave3}`})]}),u.jsx("span",{className:Se.label,children:"waves"})]})},_r="newsletter_popup:v1",ea=2,Ts=()=>{const[r,e]=I.useState(!1);return I.useEffect(()=>{if(typeof window>"u")return;const s=localStorage.getItem(_r);if(!s){const i=setTimeout(()=>{},2e3);return()=>clearTimeout(i)}try{const i=JSON.parse(s);if(i.subscribed)return;if(i.dismissed&&(Date.now()-i.dismissed)/(1e3*60*60*24)>=ea){const c=setTimeout(()=>{},2e3);return()=>clearTimeout(c)}}catch(i){console.error("Error parsing newsletter modal data:",i);const o=setTimeout(()=>{},2e3);return()=>clearTimeout(o)}},[]),{isOpen:r,handleClose:()=>{e(!1);const s={dismissed:Date.now()};localStorage.setItem(_r,JSON.stringify(s))},handleSuccess:()=>{e(!1);const s={subscribed:!0};localStorage.setItem(_r,JSON.stringify(s))}}},ta=({title:r,setNavbarOpen:e,navbarOpen:t,setSidebarOpen:n})=>{const s=ys(),{openCart:i}=gs(),{totalQuantity:o}=vs(),a=o??0,c=or(),{isOpen:l,handleClose:h,handleSuccess:d}=Ts(),[f,p]=I.useState(!1),m=S=>s.pathname===S;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:K.navbarContainer,children:[c?u.jsx("div",{className:K.navLink,onClick:()=>n(!0),children:"Menu"}):u.jsxs("div",{className:K.navLinksPill,children:[u.jsx(de,{to:"/shop",className:`${K.navLink} ${m("/shop")?K.active:""}`,children:"Shop"}),u.jsx(de,{to:"/story",className:`${K.navLink} ${m("/story")?K.active:""}`,children:"Story"}),u.jsx(de,{to:"/artists",className:`${K.navLink} ${m("/artists")?K.active:""}`,children:"Artists"})]}),u.jsx(de,{to:"/",className:K.logoLink,children:u.jsx("img",{src:"/top-nav-logo.png",alt:"Top Logo",className:K.topLogo})}),u.jsxs("div",{className:K.rightContainer,children:[c?null:u.jsxs(u.Fragment,{children:[u.jsx(Ns,{className:K.waveToggleDesktop}),u.jsx("div",{className:K.signUpNewsletter,onClick:()=>p(!0),children:u.jsx("div",{className:K.scrollingText,children:'THE FALL COLLECTION: "NEXT FORM" IS AVAILABLE NOW.                        THE FALL COLLECTION: "NEXT FORM" IS AVAILABLE NOW.                '})})]}),u.jsx("div",{className:K.bagContainer,onClick:i,children:c?u.jsxs("div",{className:K.mobileCartWrapper,children:[u.jsx(Mo,{}),a>0&&u.jsx("span",{className:K.mobileBadge,children:a})]}):u.jsxs(u.Fragment,{children:["Bag",u.jsx("span",{className:K.cartCount,children:a})]})})]})]}),u.jsx(Es,{isOpen:l||f,onClose:()=>{p(!1),h()},onSuccess:d})]})},ra="_sidebarContainer_6jbar_1",na="_closeMenuToggle_6jbar_23",sa="_sidebarWrapper_6jbar_35",ia="_innerContainer_6jbar_43",oa="_dropLink_6jbar_51",aa="_flexGrow_6jbar_97",ca="_bottomNavbar_6jbar_100",la="_waveToggleContainer_6jbar_100",ua="_emailFormContainer_6jbar_104",fa="_flexer_6jbar_107",ha="_footerEmail_6jbar_117",da="_sidebarContainerClosed_6jbar_125",he={sidebarContainer:ra,closeMenuToggle:na,sidebarWrapper:sa,innerContainer:ia,dropLink:oa,flexGrow:aa,bottomNavbar:ca,waveToggleContainer:la,emailFormContainer:ua,flexer:fa,footerEmail:ha,sidebarContainerClosed:da};function pa(r){return Pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,3 L21,21 M3,21 L21,3"},child:[]}]})(r)}const Ur="https://instagram.com/semiaquatics",ma="mailto:info@semiaquatics.com",te={HOME:{url:"/",text:"Home"},SHOP:{url:"/shop",text:"Shop"},STORY:{url:"/story",text:"Story"},ARTISTS:{url:"/artists",text:"Artists"},PRIVACY_POLICY:{url:"/privacy-policy",text:"Privacy"},TERMS:{url:"/terms-of-service"},FAQ:{url:"/faq"}},ya=[{href:te.HOME.url,label:te.HOME.text},{href:te.SHOP.url,label:te.SHOP.text},{href:te.STORY.url,label:te.STORY.text},{href:te.ARTISTS.url,label:te.ARTISTS.text}],ga=({sidebarOpen:r,setSidebarOpen:e})=>{const t=I.useRef(null),n=()=>e(!1);return bs(t,n),u.jsxs("div",{className:`${he.sidebarContainer} ${r?"":he.sidebarContainerClosed}`,"data-lenis-prevent":!0,ref:t,style:{transform:r?"translateX(0)":"translateX(-100%)"},children:[u.jsx("button",{className:he.closeMenuToggle,onClick:n,children:u.jsx(pa,{})}),u.jsx("div",{className:he.sidebarWrapper,children:u.jsxs("div",{className:he.innerContainer,children:[ya.map(({href:s,label:i})=>u.jsx(de,{to:s,children:u.jsx("p",{onClick:n,className:he.dropLink,children:i})},s)),u.jsx("span",{className:he.flexGrow}),u.jsxs("div",{className:he.bottomNavbar,children:[u.jsx("div",{className:he.emailFormContainer,children:u.jsx(nn,{isSidebar:!0})}),u.jsxs("div",{className:he.flexer,children:[u.jsx("a",{target:"_blank",href:Ur,rel:"noopener noreferrer",children:u.jsx(Ki,{})}),u.jsx("a",{href:ma,className:he.footerEmail,children:"info@semiaquatics.com"})]}),u.jsx(de,{to:te.PRIVACY_POLICY.url,children:u.jsx("p",{children:te.PRIVACY_POLICY.text})}),u.jsxs("p",{className:"footer-item",children:["© ",new Date().getFullYear()," Semi Aquatics"]}),u.jsx("div",{className:he.waveToggleContainer,children:u.jsx(Ns,{})})]})]})})]})},va=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB"]);function Jt(r){if(!r)return!1;const e=r.toUpperCase();return va.has(e)}const Hr="consent:v1";function ba(r){if(typeof document>"u")return;const e=document.cookie.match(new RegExp("(?:^|; )"+r.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function wa(){if(!(typeof window>"u"))try{const r=window.localStorage.getItem(Hr);if(!r)return;const e=JSON.parse(r);if(e&&e.version===1)return e}catch{}}function Ps(){const[r,e]=I.useState(void 0),[t,n]=I.useState(void 0);I.useEffect(()=>{const o=ba("country")||void 0;e(o);const a=wa(),c=!Jt(o);if(a){if(n(a),typeof window<"u"&&window.gtag){const l=a.analytics?"granted":"denied",h=a.marketing?"granted":"denied";window.gtag("consent","update",{analytics_storage:l,ad_storage:h,ad_user_data:h,ad_personalization:h})}}else if(c){const l={analytics:!0,marketing:!0,timestamp:Date.now(),version:1,regionModel:"NOTICE",country:o};n(l);try{typeof window<"u"&&window.localStorage.setItem(Hr,JSON.stringify(l))}catch{}typeof window<"u"&&window.gtag&&window.gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"})}},[]);const s=I.useMemo(()=>Jt(r)?"PRIOR":"NOTICE",[r]),i=I.useCallback(o=>{const a={analytics:!!o.analytics,marketing:!!o.marketing,timestamp:Date.now(),version:1,regionModel:s,country:r};try{typeof window<"u"&&window.localStorage.setItem(Hr,JSON.stringify(a))}catch{}n(a);try{if(typeof window<"u"&&window.gtag){const c=a.analytics?"granted":"denied",l=a.marketing?"granted":"denied";window.gtag("consent","update",{analytics_storage:c,ad_storage:l,ad_user_data:l,ad_personalization:l})}}catch{}try{typeof window<"u"&&window.dispatchEvent(new CustomEvent("consent:updated",{detail:a}))}catch{}},[r,s]);return{country:r,consent:t,saveConsent:i,regionModel:s}}const Sa=()=>{const{consent:r}=Ps(),[e,t]=I.useState(!1),[n,s]=I.useState(!1);return I.useEffect(()=>{t(!!(r!=null&&r.analytics)),s(!!(r!=null&&r.marketing))},[r]),u.jsxs(u.Fragment,{children:[e&&u.jsxs(u.Fragment,{children:[u.jsx("script",{src:"https://www.googletagmanager.com/gtag/js?id=G-VVVEV1RSEL",async:!0}),u.jsx("script",{dangerouslySetInnerHTML:{__html:`
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-VVVEV1RSEL');
            `}})]}),n&&u.jsxs(u.Fragment,{children:[u.jsx("script",{src:"https://backend.alia-cloudflare.com/public/embed.js?shop=semi-aquatics.myshopify.com",async:!0}),u.jsx("script",{src:"https://cdn.attn.tv/semiaquatics/dtag.js",async:!0}),u.jsx("script",{dangerouslySetInnerHTML:{__html:`
              !function(f,b,e,v,n,t,s)
              {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
              n.callMethod.apply(n,arguments):n.queue.push(arguments)};
              if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
              n.queue=[];t=b.createElement(e);t.async=!0;
              t.src=v;s=b.getElementsByTagName(e)[0];
              s.parentNode.insertBefore(t,s)}(window, document,'script',
              'https://connect.facebook.net/en_US/fbevents.js');
              fbq('init', '269716947689981');
              fbq('track', 'PageView');
            `}}),u.jsx("noscript",{children:u.jsx("img",{height:"1",width:"1",style:{display:"none"},src:"https://www.facebook.com/tr?id=269716947689981&ev=PageView&noscript=1"})})]})]})},_a=()=>null,ka="_banner_atje8_1",xa="_card_atje8_11",Oa="_content_atje8_18",Ca="_text_atje8_27",Ea="_actions_atje8_40",ja="_btn_atje8_45",Na="_btnPrimary_atje8_65",Ta="_link_atje8_71",Pa="_backdrop_atje8_108",Ia="_modal_atje8_115",Aa="_modalInner_atje8_129",Ra="_modalHeader_atje8_133",Fa="_closeIcon_atje8_143",Da="_toggleRow_atje8_155",Ma="_knob_atje8_172",La="_on_atje8_184",z={banner:ka,card:xa,content:Oa,text:Ca,actions:Ea,btn:ja,btnPrimary:Na,link:Ta,backdrop:Pa,modal:Ia,modalInner:Aa,modalHeader:Ra,closeIcon:Fa,toggleRow:Da,switch:"_switch_atje8_163",knob:Ma,on:La},qa=te.PRIVACY_POLICY.url,Ba="We use cookies to run our store (essential), understand traffic (analytics), and improve marketing.";function Va(){const{country:r,consent:e,saveConsent:t}=Ps(),[n,s]=I.useState(!1),[i,o]=I.useState(!1),[a,c]=I.useState(!1),[l,h]=I.useState(!1),d=I.useRef(null),f=I.useRef(null);I.useEffect(()=>{try{const y=window.localStorage.getItem("consent:v1");s(!y)}catch{s(!0)}},[]),I.useMemo(()=>Jt(r)?"PRIOR":"NOTICE",[r]),I.useEffect(()=>{function y(_){_.key==="consent:v1"&&s(!_.newValue)}return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[]),I.useEffect(()=>{function y(){o(!0),s(!0)}return window.addEventListener("consent:manage",y),()=>window.removeEventListener("consent:manage",y)},[]),I.useEffect(()=>{if(!i)return;const y=d.current;if(!y)return;const _=y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),O=_[0],C=_[_.length-1];O==null||O.focus();function k(R){R.key==="Escape"&&o(!1),R.key==="Tab"&&(document.activeElement===C&&!R.shiftKey&&(R.preventDefault(),O==null||O.focus()),document.activeElement===O&&R.shiftKey&&(R.preventDefault(),C==null||C.focus()))}return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[i]),bs(f,o);function p(){s(!1),o(!1),t({analytics:!0,marketing:!0})}function m(){s(!1),o(!1),t({analytics:!1,marketing:!1})}function S(){c(!!(e!=null&&e.analytics)),h(!!(e!=null&&e.marketing)),o(!0)}function g(){t({analytics:a,marketing:l}),s(!1),o(!1)}return!n||!Jt(r)?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:z.banner,role:"region","aria-label":"Cookie consent",children:u.jsxs("div",{className:`${z.card} ${z.content}`,children:[u.jsxs("div",{className:z.text,children:[Ba," ",u.jsx("a",{className:z.link,href:"#",onClick:y=>{y.preventDefault(),S()},children:"Cookie Settings"})]}),u.jsxs("div",{className:z.actions,children:[u.jsx("button",{className:z.btn,onClick:m,children:"Reject non-essential cookies"}),u.jsx("button",{className:`${z.btn} ${z.btnPrimary}`,onClick:p,children:"Accept all"})]})]})}),i&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:z.backdrop,onClick:()=>o(!1)}),u.jsx("div",{className:z.modal,role:"dialog","aria-modal":"true",ref:f,children:u.jsxs("div",{className:z.modalInner,ref:d,children:[u.jsxs("div",{className:z.modalHeader,children:[u.jsx("h3",{children:"Cookie Settings"}),u.jsx("button",{className:z.closeIcon,onClick:()=>o(!1),"aria-label":"Close",children:"✕"})]}),u.jsxs("p",{style:{marginTop:0,marginBottom:10,fontSize:13},children:["Learn more in our ",u.jsx("a",{className:z.link,href:qa,target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),"."]}),u.jsxs("div",{className:z.toggleRow,children:[u.jsx("div",{children:"Analytics"}),u.jsx("div",{className:`${z.switch} ${a?z.on:""}`,onClick:()=>c(!a),"aria-checked":a,role:"switch",tabIndex:0,children:u.jsx("div",{className:z.knob})})]}),u.jsxs("div",{className:z.toggleRow,children:[u.jsx("div",{children:"Marketing"}),u.jsx("div",{className:`${z.switch} ${l?z.on:""}`,onClick:()=>h(!l),"aria-checked":l,role:"switch",tabIndex:0,children:u.jsx("div",{className:z.knob})})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:16},children:[u.jsx("button",{className:z.btn,onClick:()=>o(!1),children:"Cancel"}),u.jsx("button",{className:`${z.btn} ${z.btnPrimary}`,onClick:g,children:"Save Preferences"})]})]})})]})]})}const za="_footerContainer_n2cv5_1",$a="_footerTable_n2cv5_18",Wa="_footerColumn_n2cv5_24",Qa="_columnHeader_n2cv5_35",Ua="_columnContent_n2cv5_40",Ha="_logo_n2cv5_47",Ka="_linksList_n2cv5_53",Ga="_divider_n2cv5_61",Ya="_emailLink_n2cv5_65",Ja="_bottomSection_n2cv5_70",Xa="_countrySelector_n2cv5_79",Za="_copyright_n2cv5_82",ec="_shopPowered_n2cv5_85",tc="_newsletterRegisterButton_n2cv5_89",rc="_mobileSection_n2cv5_136",nc="_mobileSectionHeader_n2cv5_142",sc="_mobileSectionContent_n2cv5_171",ic="_expanded_n2cv5_178",oc="_mobileSectionContentAlways_n2cv5_192",ac="_mobileLinksList_n2cv5_206",cc="_mobileBottomSection_n2cv5_222",lc="_mobileBottomContent_n2cv5_227",N={footerContainer:za,footerTable:$a,footerColumn:Wa,columnHeader:Qa,columnContent:Ua,logo:Ha,linksList:Ka,divider:Ga,emailLink:Ya,bottomSection:Ja,countrySelector:Xa,copyright:Za,shopPowered:ec,newsletterRegisterButton:tc,mobileSection:rc,mobileSectionHeader:nc,mobileSectionContent:sc,expanded:ic,mobileSectionContentAlways:oc,mobileLinksList:ac,mobileBottomSection:cc,mobileBottomContent:lc};function uc(r){return Pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Vt(r){return Pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}const fc=()=>{const r=or(),{handleSuccess:e}=Ts(),[t,n]=I.useState({socials:!1,service:!1,legal:!1}),[s,i]=I.useState(!1),o=()=>i(!0),a=()=>i(!1),c=l=>{n(h=>({...h,[l]:!h[l]}))};return r?u.jsxs("footer",{className:N.footerContainer,children:[u.jsxs("div",{className:N.mobileSection,children:[u.jsxs("div",{className:N.mobileSectionHeader,children:[u.jsx("h3",{children:"Newsletter"}),u.jsx("div",{className:N.newsletterRegisterButton,onClick:o,children:"Sign Up"})]}),u.jsx("div",{className:N.mobileSectionContentAlways,children:u.jsx("p",{children:"Sign up for our newsletter to receive updates on new releases, restocks and more."})})]}),u.jsxs("div",{className:N.mobileSection,children:[u.jsx("div",{className:N.mobileSectionHeader,children:u.jsx("h3",{children:"Customer Service"})}),u.jsx("div",{className:N.mobileSectionContentAlways,children:u.jsxs("p",{children:["For questions about orders, you can email ",u.jsx("span",{className:N.emailLink,children:"info@semiaquatics.com"}),"."]})})]}),u.jsxs("div",{className:N.mobileSection,children:[u.jsxs("div",{className:N.mobileSectionHeader,onClick:()=>c("socials"),children:[u.jsx("h3",{children:"Socials"}),u.jsx(Vt,{style:{transform:t.socials?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),u.jsx("div",{className:`${N.mobileSectionContent} ${t.socials?N.expanded:""}`,children:u.jsx("ul",{className:N.mobileLinksList,children:u.jsx("li",{children:u.jsx("a",{href:Ur,children:"Instagram"})})})})]}),u.jsxs("div",{className:N.mobileSection,children:[u.jsxs("div",{className:N.mobileSectionHeader,onClick:()=>c("service"),children:[u.jsx("h3",{children:"Service"}),u.jsx(Vt,{style:{transform:t.service?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),u.jsx("div",{className:`${N.mobileSectionContent} ${t.service?N.expanded:""}`,children:u.jsx("ul",{className:N.mobileLinksList,children:u.jsx("li",{children:u.jsx(de,{to:te.FAQ.url,children:"FAQ"})})})})]}),u.jsxs("div",{className:N.mobileSection,children:[u.jsxs("div",{className:N.mobileSectionHeader,onClick:()=>c("legal"),children:[u.jsx("h3",{children:"Legal"}),u.jsx(Vt,{style:{transform:t.legal?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),u.jsx("div",{className:`${N.mobileSectionContent} ${t.legal?N.expanded:""}`,children:u.jsxs("ul",{className:N.mobileLinksList,children:[u.jsx("li",{children:u.jsx(de,{to:te.TERMS.url,children:"Terms & Conditions"})}),u.jsx("li",{children:u.jsx(de,{to:te.PRIVACY_POLICY.url,children:"Privacy Policy"})})]})})]}),u.jsx("div",{className:N.mobileBottomSection,children:u.jsxs("div",{className:N.mobileBottomContent,children:[u.jsx("div",{className:N.countrySelector,children:"USA / USD $"}),u.jsxs("div",{className:N.copyright,children:["© ",new Date().getFullYear()," Semi Aquatics All rights reserved"]})]})}),u.jsx(Es,{isOpen:s,onClose:a,onSuccess:e})]}):u.jsxs("footer",{className:N.footerContainer,children:[u.jsxs("div",{className:N.footerTable,children:[u.jsxs("div",{className:N.footerColumn,children:[u.jsx("div",{className:N.columnHeader,children:"Semi Aquatics"}),u.jsx("div",{className:N.columnContent,children:u.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0276/3305/7867/files/big3_1410x.png?v=1575617303",alt:"Main Logo",className:N.logo})})]}),u.jsxs("div",{className:N.footerColumn,children:[u.jsx("div",{className:N.columnHeader,children:"Newsletter"}),u.jsxs("div",{className:N.columnContent,children:[u.jsx("p",{children:"Sign up for our newsletter to receive updates on new releases, restocks and more."}),u.jsx(nn,{})]})]}),u.jsxs("div",{className:N.footerColumn,children:[u.jsx("div",{className:N.columnHeader,children:"Customer Service"}),u.jsx("div",{className:N.columnContent,children:u.jsxs("p",{children:["For questions about orders, you can email ",u.jsx("span",{className:N.emailLink,children:"info@semiaquatics.com"}),"."]})})]}),u.jsxs("div",{className:N.footerColumn,children:[u.jsx("div",{className:N.columnHeader,children:"Links"}),u.jsx("div",{className:N.columnContent,children:u.jsxs("ul",{className:N.linksList,children:[u.jsx("li",{children:u.jsx("a",{href:Ur,children:"Instagram"})}),u.jsx("li",{className:N.divider}),u.jsx("li",{children:u.jsx(de,{to:te.TERMS.url,children:"Terms & Conditions"})}),u.jsx("li",{children:u.jsx(de,{to:te.FAQ.url,children:"FAQ"})}),u.jsx("li",{className:N.divider}),u.jsx("li",{children:u.jsx(de,{to:te.PRIVACY_POLICY.url,children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),typeof window<"u"&&window.dispatchEvent(new Event("consent:manage"))},children:"Manage Cookies"})})]})})]})]}),u.jsxs("div",{className:N.bottomSection,children:[u.jsx("div",{className:N.countrySelector,children:"USA / USD $"}),u.jsxs("div",{className:N.copyright,children:["© ",new Date().getFullYear()," Semi Aquatics All rights reserved"]}),u.jsx("div",{className:N.shopPowered})]})]})},hc="_drawer_v2ib1_1",dc="_open_v2ib1_19",pc="_backdrop_v2ib1_24",mc="_visible_v2ib1_37",yc="_header_v2ib1_42",gc="_closeBtn_v2ib1_53",vc="_content_v2ib1_68",bc="_lineItems_v2ib1_73",wc="_lineItem_v2ib1_73",Sc="_imageContainer_v2ib1_84",_c="_itemInfo_v2ib1_94",kc="_flexBoxPriceSize_v2ib1_107",xc="_sizeText_v2ib1_113",Oc="_flex_grower_v2ib1_117",Cc="_sizeAdjustments_v2ib1_120",Ec="_sizeAdjuster_v2ib1_125",jc="_sizeAdjusterBtn_v2ib1_129",Nc="_sizeAdjusterCount_v2ib1_135",Tc="_recommendedProductsWrapper_v2ib1_147",Pc="_footer_v2ib1_151",Ic="_checkoutText_v2ib1_155",Ac="_checkoutBtn_v2ib1_161",Rc="_disabled_v2ib1_177",Fc="_checkoutBtnLoading_v2ib1_180",W={drawer:hc,open:dc,backdrop:pc,visible:mc,header:yc,closeBtn:gc,content:vc,lineItems:bc,lineItem:wc,imageContainer:Sc,itemInfo:_c,flexBoxPriceSize:kc,sizeText:xc,flex_grower:Oc,sizeAdjustments:Cc,sizeAdjuster:Ec,sizeAdjusterBtn:jc,sizeAdjusterCount:Nc,recommendedProductsWrapper:Tc,footer:Pc,checkoutText:Ic,checkoutBtn:Ac,disabled:Rc,checkoutBtnLoading:Fc},Dc=!1,Mc=({client:r,children:e})=>{const t=Gi(),n=I.useContext(t),s=I.useMemo(()=>({...n,client:r||n.client}),[n,r]);return L(s.client,38),I.createElement(t.Provider,{value:s},e)};function Lc(r){return`"${r.replace(qc,Bc)}"`}const qc=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Bc(r){return Vc[r.charCodeAt(0)]}const Vc=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],sn=Object.freeze({});function xe(r,e,t=Yi){const n=new Map;for(const y of Object.values(q))n.set(y,zc(e,y));let s,i=Array.isArray(r),o=[r],a=-1,c=[],l=r,h,d;const f=[],p=[];do{a++;const y=a===o.length,_=y&&c.length!==0;if(y){if(h=p.length===0?void 0:f[f.length-1],l=d,d=p.pop(),_)if(i){l=l.slice();let C=0;for(const[k,R]of c){const $=k-C;R===null?(l.splice($,1),C++):l[$]=R}}else{l={...l};for(const[C,k]of c)l[C]=k}a=s.index,o=s.keys,c=s.edits,i=s.inArray,s=s.prev}else if(d){if(h=i?a:o[a],l=d[h],l==null)continue;f.push(h)}let O;if(!Array.isArray(l)){var m,S;Cn(l)||Ji(!1,`Invalid AST Node: ${Xi(l)}.`);const C=y?(m=n.get(l.kind))===null||m===void 0?void 0:m.leave:(S=n.get(l.kind))===null||S===void 0?void 0:S.enter;if(O=C==null?void 0:C.call(e,l,h,d,f,p),O===sn)break;if(O===!1){if(!y){f.pop();continue}}else if(O!==void 0&&(c.push([h,O]),!y))if(Cn(O))l=O;else{f.pop();continue}}if(O===void 0&&_&&c.push([h,l]),y)f.pop();else{var g;s={inArray:i,index:a,keys:o,edits:c,prev:s},i=Array.isArray(l),o=i?l:(g=t[l.kind])!==null&&g!==void 0?g:[],a=-1,c=[],d&&p.push(d),d=l}}while(s!==void 0);return c.length!==0?c[c.length-1][1]:r}function zc(r,e){const t=r[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:r.enter,leave:r.leave}}function $c(r){return xe(r,Qc)}const Wc=80,Qc={Name:{leave:r=>r.value},Variable:{leave:r=>"$"+r.name},Document:{leave:r=>j(r.definitions,`

`)},OperationDefinition:{leave(r){const e=kr(r.variableDefinitions)?P(`(
`,j(r.variableDefinitions,`
`),`
)`):P("(",j(r.variableDefinitions,", "),")"),t=P("",r.description,`
`)+j([r.operation,j([r.name,e]),j(r.directives," ")]," ");return(t==="query"?"":t+" ")+r.selectionSet}},VariableDefinition:{leave:({variable:r,type:e,defaultValue:t,directives:n,description:s})=>P("",s,`
`)+r+": "+e+P(" = ",t)+P(" ",j(n," "))},SelectionSet:{leave:({selections:r})=>ge(r)},Field:{leave({alias:r,name:e,arguments:t,directives:n,selectionSet:s}){const i=P("",r,": ")+e;let o=i+P("(",j(t,", "),")");return o.length>Wc&&(o=i+P(`(
`,zt(j(t,`
`)),`
)`)),j([o,j(n," "),s]," ")}},Argument:{leave:({name:r,value:e})=>r+": "+e},FragmentSpread:{leave:({name:r,directives:e})=>"..."+r+P(" ",j(e," "))},InlineFragment:{leave:({typeCondition:r,directives:e,selectionSet:t})=>j(["...",P("on ",r),j(e," "),t]," ")},FragmentDefinition:{leave:({name:r,typeCondition:e,variableDefinitions:t,directives:n,selectionSet:s,description:i})=>P("",i,`
`)+`fragment ${r}${P("(",j(t,", "),")")} on ${e} ${P("",j(n," ")," ")}`+s},IntValue:{leave:({value:r})=>r},FloatValue:{leave:({value:r})=>r},StringValue:{leave:({value:r,block:e})=>e?Zi(r):Lc(r)},BooleanValue:{leave:({value:r})=>r?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:r})=>r},ListValue:{leave:({values:r})=>"["+j(r,", ")+"]"},ObjectValue:{leave:({fields:r})=>"{"+j(r,", ")+"}"},ObjectField:{leave:({name:r,value:e})=>r+": "+e},Directive:{leave:({name:r,arguments:e})=>"@"+r+P("(",j(e,", "),")")},NamedType:{leave:({name:r})=>r},ListType:{leave:({type:r})=>"["+r+"]"},NonNullType:{leave:({type:r})=>r+"!"},SchemaDefinition:{leave:({description:r,directives:e,operationTypes:t})=>P("",r,`
`)+j(["schema",j(e," "),ge(t)]," ")},OperationTypeDefinition:{leave:({operation:r,type:e})=>r+": "+e},ScalarTypeDefinition:{leave:({description:r,name:e,directives:t})=>P("",r,`
`)+j(["scalar",e,j(t," ")]," ")},ObjectTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:s})=>P("",r,`
`)+j(["type",e,P("implements ",j(t," & ")),j(n," "),ge(s)]," ")},FieldDefinition:{leave:({description:r,name:e,arguments:t,type:n,directives:s})=>P("",r,`
`)+e+(kr(t)?P(`(
`,zt(j(t,`
`)),`
)`):P("(",j(t,", "),")"))+": "+n+P(" ",j(s," "))},InputValueDefinition:{leave:({description:r,name:e,type:t,defaultValue:n,directives:s})=>P("",r,`
`)+j([e+": "+t,P("= ",n),j(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:s})=>P("",r,`
`)+j(["interface",e,P("implements ",j(t," & ")),j(n," "),ge(s)]," ")},UnionTypeDefinition:{leave:({description:r,name:e,directives:t,types:n})=>P("",r,`
`)+j(["union",e,j(t," "),P("= ",j(n," | "))]," ")},EnumTypeDefinition:{leave:({description:r,name:e,directives:t,values:n})=>P("",r,`
`)+j(["enum",e,j(t," "),ge(n)]," ")},EnumValueDefinition:{leave:({description:r,name:e,directives:t})=>P("",r,`
`)+j([e,j(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:r,name:e,directives:t,fields:n})=>P("",r,`
`)+j(["input",e,j(t," "),ge(n)]," ")},DirectiveDefinition:{leave:({description:r,name:e,arguments:t,repeatable:n,locations:s})=>P("",r,`
`)+"directive @"+e+(kr(t)?P(`(
`,zt(j(t,`
`)),`
)`):P("(",j(t,", "),")"))+(n?" repeatable":"")+" on "+j(s," | ")},SchemaExtension:{leave:({directives:r,operationTypes:e})=>j(["extend schema",j(r," "),ge(e)]," ")},ScalarTypeExtension:{leave:({name:r,directives:e})=>j(["extend scalar",r,j(e," ")]," ")},ObjectTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>j(["extend type",r,P("implements ",j(e," & ")),j(t," "),ge(n)]," ")},InterfaceTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>j(["extend interface",r,P("implements ",j(e," & ")),j(t," "),ge(n)]," ")},UnionTypeExtension:{leave:({name:r,directives:e,types:t})=>j(["extend union",r,j(e," "),P("= ",j(t," | "))]," ")},EnumTypeExtension:{leave:({name:r,directives:e,values:t})=>j(["extend enum",r,j(e," "),ge(t)]," ")},InputObjectTypeExtension:{leave:({name:r,directives:e,fields:t})=>j(["extend input",r,j(e," "),ge(t)]," ")},TypeCoordinate:{leave:({name:r})=>r},MemberCoordinate:{leave:({name:r,memberName:e})=>j([r,P(".",e)])},ArgumentCoordinate:{leave:({name:r,fieldName:e,argumentName:t})=>j([r,P(".",e),P("(",t,":)")])},DirectiveCoordinate:{leave:({name:r})=>j(["@",r])},DirectiveArgumentCoordinate:{leave:({name:r,argumentName:e})=>j(["@",r,P("(",e,":)")])}};function j(r,e=""){var t;return(t=r==null?void 0:r.filter(n=>n).join(e))!==null&&t!==void 0?t:""}function ge(r){return P(`{
`,zt(j(r,`
`)),`
}`)}function P(r,e,t=""){return e!=null&&e!==""?r+e+t:""}function zt(r){return P("  ",r.replace(/\n/g,`
  `))}function kr(r){var e;return(e=r==null?void 0:r.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}var Uc={Promise:void 0};function $t(r){r()}var on=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function an(r){return r}function Hc(r){return r.length===0?an:r.length===1?r[0]:function(t){return r.reduce(function(n,s){return s(n)},t)}}var Y=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var s=this,i=Gc(e)?e:new Gt(e,t,n);return $t(function(){var o=s,a=o.operator,c=o.source;i.add(a?a.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=jn(t),new t(function(s,i){var o=new Gt({next:function(a){try{e(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[on]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hc(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=jn(e),new e(function(n,s){var i;t.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},r.create=function(e){return new r(e)},r}();function jn(r){var e;return(e=r??Uc.Promise)!==null&&e!==void 0?e:Promise}function Kc(r){return r&&oe(r.next)&&oe(r.error)&&oe(r.complete)}function Gc(r){return r&&r instanceof to||Kc(r)&&eo(r)}var Yc=ws(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),lt=function(r){ir(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new Nn(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Yc},e.prototype.next=function(t){var n=this;$t(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=_s(n.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(t)}}catch(l){s={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}}})},e.prototype.error=function(t){var n=this;$t(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var s=n.observers;s.length;)s.shift().error(t)}})},e.prototype.complete=function(){var t=this;$t(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,s=this,i=s.hasError,o=s.isStopped,a=s.observers;return i||o?Ss:(this.currentObservers=null,a.push(t),new ro(function(){n.currentObservers=null,no(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,s=n.hasError,i=n.thrownError,o=n.isStopped;s?t.error(i):o&&t.complete()},e.prototype.asObservable=function(){var t=new Y;return t.source=this,t},e.create=function(t,n){return new Nn(t,n)},e}(Y),Nn=function(r){ir(e,r);function e(t,n){var s=r.call(this)||this;return s.destination=t,s.source=n,s}return e.prototype.next=function(t){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,t)},e.prototype.error=function(t){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&s!==void 0?s:Ss},e}(lt),Jc=function(r){ir(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){var t=this,n=t.hasError,s=t.thrownError,i=t._value;if(n)throw s;return this._throwIfClosed(),i},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(lt),Xc=function(r){ir(e,r);function e(t,n,s){t===void 0&&(t=1/0),n===void 0&&(n=1/0),s===void 0&&(s=so);var i=r.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(t){var n=this,s=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;s||(i.push(t),!o&&i.push(a.now()+c)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),c=0;c<a.length&&!t.closed;c+=i?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,s=t._timestampProvider,i=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var c=s.now(),l=0,h=1;h<i.length&&i[h]<=c;h+=2)l=h;l&&i.splice(0,l+1)}},e}(lt),Xt=new Y(function(r){return r.complete()});function Zc(r){return r&&oe(r.schedule)}function el(r){return r[r.length-1]}function Is(r){return Zc(el(r))?r.pop():void 0}var As=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Rs(r){return oe(r==null?void 0:r.then)}function Fs(r){return oe(r[on])}function Ds(r){return Symbol.asyncIterator&&oe(r==null?void 0:r[Symbol.asyncIterator])}function Ms(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function tl(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ls=tl();function qs(r){return oe(r==null?void 0:r[Ls])}function Bs(r){return io(this,arguments,function(){var t,n,s,i;return ks(this,function(o){switch(o.label){case 0:t=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wr(t.read())];case 3:return n=o.sent(),s=n.value,i=n.done,i?[4,wr(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wr(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Vs(r){return oe(r==null?void 0:r.getReader)}function De(r){if(r instanceof Y)return r;if(r!=null){if(Fs(r))return rl(r);if(As(r))return nl(r);if(Rs(r))return sl(r);if(Ds(r))return zs(r);if(qs(r))return il(r);if(Vs(r))return ol(r)}throw Ms(r)}function rl(r){return new Y(function(e){var t=r[on]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nl(r){return new Y(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function sl(r){return new Y(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,oo)})}function il(r){return new Y(function(e){var t,n;try{for(var s=_s(r),i=s.next();!i.done;i=s.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}e.complete()})}function zs(r){return new Y(function(e){al(r,e).catch(function(t){return e.error(t)})})}function ol(r){return zs(Bs(r))}function al(r,e){var t,n,s,i;return ao(this,void 0,void 0,function(){var o,a;return ks(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=co(r),c.label=1;case 1:return[4,t.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function $s(r,e){return e===void 0&&(e=0),Ie(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function cl(r,e){return De(r).pipe($s(e),xs(e))}function ll(r,e){return De(r).pipe($s(e),xs(e))}function ul(r,e){return new Y(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function fl(r,e){return new Y(function(t){var n;return Yt(t,e,function(){n=r[Ls](),Yt(t,e,function(){var s,i,o;try{s=n.next(),i=s.value,o=s.done}catch(a){t.error(a);return}o?t.complete():t.next(i)},0,!0)}),function(){return oe(n==null?void 0:n.return)&&n.return()}})}function Ws(r,e){if(!r)throw new Error("Iterable cannot be null");return new Y(function(t){Yt(t,e,function(){var n=r[Symbol.asyncIterator]();Yt(t,e,function(){n.next().then(function(s){s.done?t.complete():t.next(s.value)})},0,!0)})})}function hl(r,e){return Ws(Bs(r),e)}function dl(r,e){if(r!=null){if(Fs(r))return cl(r,e);if(As(r))return ul(r,e);if(Rs(r))return ll(r,e);if(Ds(r))return Ws(r,e);if(qs(r))return fl(r,e);if(Vs(r))return hl(r,e)}throw Ms(r)}function ze(r,e){return e?dl(r,e):De(r)}function Ve(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Is(r);return ze(r,t)}function Qs(r,e){var t=oe(r)?r:function(){return r},n=function(s){return s.error(t())};return new Y(n)}var Tn;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(Tn||(Tn={}));var xr=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){return pl(this,e)},r.prototype.do=function(e,t,n){var s=this,i=s.kind,o=s.value,a=s.error;return i==="N"?e==null?void 0:e(o):i==="E"?t==null?void 0:t(a):n==null?void 0:n()},r.prototype.accept=function(e,t,n){var s;return oe((s=e)===null||s===void 0?void 0:s.next)?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,s=e.error,i=t==="N"?Ve(n):t==="E"?Qs(function(){return s}):t==="C"?Xt:0;if(!i)throw new TypeError("Unexpected notification kind "+t);return i},r.createNext=function(e){return new r("N",e)},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();function pl(r,e){var t,n,s,i=r,o=i.kind,a=i.value,c=i.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,a):o==="E"?(n=e.error)===null||n===void 0||n.call(e,c):(s=e.complete)===null||s===void 0||s.call(e)}var ml=ws(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function yl(r,e){var t=typeof e=="object";return new Promise(function(n,s){var i=!1,o;r.subscribe({next:function(a){o=a,i=!0},error:s,complete:function(){i?n(o):t?n(e.defaultValue):s(new ml)}})})}function Qe(r,e){return Ie(function(t,n){var s=0;t.subscribe(Ue(n,function(i){n.next(r.call(e,i,s++))}))})}function gl(r,e,t,n,s,i,o,a){var c=[],l=0,h=0,d=!1,f=function(){d&&!c.length&&!l&&e.complete()},p=function(S){return l<n?m(S):c.push(S)},m=function(S){l++;var g=!1;De(t(S,h++)).subscribe(Ue(e,function(y){e.next(y)},function(){g=!0},void 0,function(){if(g)try{l--;for(var y=function(){var _=c.shift();o||m(_)};c.length&&l<n;)y();f()}catch(_){e.error(_)}}))};return r.subscribe(Ue(e,p,function(){d=!0,f()})),function(){}}function Ye(r,e,t){return t===void 0&&(t=1/0),oe(e)?Ye(function(n,s){return Qe(function(i,o){return e(n,i,s,o)})(De(r(n,s)))},t):(typeof e=="number"&&(t=e),Ie(function(n,s){return gl(n,s,r,t)}))}function vl(r){return Ye(an,r)}function bl(){return vl(1)}function Or(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return bl()(ze(r,Is(r)))}function wl(r,e){return Ie(function(t,n){var s=0;t.subscribe(Ue(n,function(i){return r.call(e,i,s++)&&n.next(i)}))})}function Wt(r){return Ie(function(e,t){var n=null,s=!1,i;n=e.subscribe(Ue(t,void 0,void 0,function(o){i=De(r(o,Wt(r)(e))),n?(n.unsubscribe(),n=null,i.subscribe(t)):s=!0})),s&&(n.unsubscribe(),n=null,i.subscribe(t))})}function Sl(r){return Ie(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}function _l(){return Ie(function(r,e){r.subscribe(Ue(e,function(t){e.next(xr.createNext(t))},function(){e.next(xr.createComplete()),e.complete()},function(t){e.next(xr.createError(t)),e.complete()}))})}function Zt(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new lt}:e,n=r.resetOnError,s=n===void 0?!0:n,i=r.resetOnComplete,o=i===void 0?!0:i,a=r.resetOnRefCountZero,c=a===void 0?!0:a;return function(l){var h,d,f,p=0,m=!1,S=!1,g=function(){d==null||d.unsubscribe(),d=void 0},y=function(){g(),h=f=void 0,m=S=!1},_=function(){var O=h;y(),O==null||O.unsubscribe()};return Ie(function(O,C){p++,!S&&!m&&g();var k=f=f??t();C.add(function(){p--,p===0&&!S&&!m&&(d=Cr(_,c))}),k.subscribe(C),!h&&p>0&&(h=new Gt({next:function(R){return k.next(R)},error:function(R){S=!0,g(),d=Cr(y,s,R),k.error(R)},complete:function(){m=!0,g(),d=Cr(y,o),k.complete()}}),De(O).subscribe(h))})(l)}}function Cr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var s=new Gt({next:function(){s.unsubscribe(),r()}});return De(e.apply(void 0,lo([],uo(t)))).subscribe(s)}}function kl(r,e,t){var n,s,i,o,a=!1;return r&&typeof r=="object"?(n=r.bufferSize,o=n===void 0?1/0:n,s=r.windowTime,e=s===void 0?1/0:s,i=r.refCount,a=i===void 0?!1:i,t=r.scheduler):o=r??1/0,Zt({connector:function(){return new Xc(o,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function er(r,e,t){var n=oe(r)||e||t?{next:r,error:e,complete:t}:r;return n?Ie(function(s,i){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;s.subscribe(Ue(i,function(c){var l;(l=n.next)===null||l===void 0||l.call(n,c),i.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),i.error(c)},function(){var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):an}function nt(r,e,t,n){if(t.kind===q.INT||t.kind===q.FLOAT)r[e.value]=Number(t.value);else if(t.kind===q.BOOLEAN||t.kind===q.STRING)r[e.value]=t.value;else if(t.kind===q.OBJECT){const s={};t.fields.map(i=>nt(s,i.name,i.value,n)),r[e.value]=s}else if(t.kind===q.VARIABLE){const s=(n||{})[t.name.value];r[e.value]=s}else if(t.kind===q.LIST)r[e.value]=t.values.map(s=>{const i={};return nt(i,e,s,n),i[e.value]});else if(t.kind===q.ENUM)r[e.value]=t.value;else if(t.kind===q.NULL)r[e.value]=null;else throw ve(19,e.value,t.kind)}function cn(r,e){if(r.arguments&&r.arguments.length){const t={};return r.arguments.forEach(({name:n,value:s})=>nt(t,n,s,e)),t}return null}function xl(){}class Kr{constructor(e=1/0,t=xl){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:s}=t;s&&(s.older=n),n&&(n.newer=s),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=s)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1}}function Gr(){}const Ol=Gr,Cl=typeof WeakRef<"u"?WeakRef:function(r){return{deref:()=>r}},El=typeof WeakMap<"u"?WeakMap:Map,jl=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Gr,unregister:Gr}},Nl=10024;class Nt{constructor(e=1/0,t=Ol){this.max=e,this.dispose=t,this.map=new El,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const n=this.unfinalizedNodes.values();for(let s=0;s<Nl;s++){const i=n.next().value;if(!i)break;this.unfinalizedNodes.delete(i);const o=i.key;delete i.key,i.keyRef=new Cl(o),this.registry.register(o,i,i)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new jl(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:s}=t;s&&(s.older=n),n&&(n.newer=s),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=s)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return t?(this.deleteNode(t),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}const Tl=()=>Object.create(null),{forEach:Pl,slice:Pn}=Array.prototype,{hasOwnProperty:Il}=Object.prototype;class Me{constructor(e=!0,t=Tl){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return Pl.call(e,n=>t=t.getChildTrie(n)),Il.call(t,"data")?t.data:t.data=this.makeData(Pn.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,s=e.length;t&&n<s;++n){const i=t.mapFor(e[n],!1);t=i&&i.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],s=this.mapFor(n,!1),i=s&&s.get(n);i&&(t=i.removeArray(Pn.call(e,1)),!i.data&&!i.weak&&!(i.strong&&i.strong.size)&&s.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new Me(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&Al(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}function Al(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}let Z=null;const In={};let Rl=1;const Fl=()=>class{constructor(){this.id=["slot",Rl++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Z;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===In)break;return e!==Z&&(Z.slots[this.id]=t),!0}return Z&&(Z.slots[this.id]=In),!1}getValue(){if(this.hasValue())return Z.slots[this.id]}withValue(e,t,n,s){const i={__proto__:null,[this.id]:e},o=Z;Z={parent:o,slots:i};try{return t.apply(s,n)}finally{Z=o}}static bind(e){const t=Z;return function(){const n=Z;try{return Z=t,e.apply(this,arguments)}finally{Z=n}}}static noContext(e,t,n){if(Z){const s=Z;try{return Z=null,e.apply(n,t)}finally{Z=s}}else return e.apply(n,t)}};function An(r){try{return r()}catch{}}const Er="@wry/context:Slot",Dl=An(()=>globalThis)||An(()=>global)||Object.create(null),Rn=Dl,ar=Rn[Er]||Array[Er]||function(r){try{Object.defineProperty(Rn,Er,{value:r,enumerable:!1,writable:!1,configurable:!0})}finally{return r}}(Fl()),{bind:Eh,noContext:jh}=ar,cr=new ar,{hasOwnProperty:Ml}=Object.prototype,ln=Array.from||function(r){const e=[];return r.forEach(t=>e.push(t)),e};function un(r){const{unsubscribe:e}=r;typeof e=="function"&&(r.unsubscribe=void 0,e())}const Tt=[],Ll=100;function st(r,e){if(!r)throw new Error(e||"assertion failure")}function Us(r,e){const t=r.length;return t>0&&t===e.length&&r[t-1]===e[t-1]}function Hs(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function Ks(r){return r.slice(0)}class lr{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++lr.count}peek(){if(this.value.length===1&&!Fe(this))return Fn(this),this.value[0]}recompute(e){return st(!this.recomputing,"already recomputing"),Fn(this),Fe(this)?ql(this,e):Hs(this.value)}setDirty(){this.dirty||(this.dirty=!0,Gs(this),un(this))}dispose(){this.setDirty(),ei(this),fn(this,(e,t)=>{e.setDirty(),ti(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Tt.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(ln(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Tt.push(this.deps),this.deps=null)}}lr.count=0;function Fn(r){const e=cr.getValue();if(e)return r.parents.add(e),e.childValues.has(r)||e.childValues.set(r,[]),Fe(r)?Js(e,r):Xs(e,r),e}function ql(r,e){return ei(r),cr.withValue(r,Bl,[r,e]),zl(r,e)&&Vl(r),Hs(r.value)}function Bl(r,e){r.recomputing=!0;const{normalizeResult:t}=r;let n;t&&r.value.length===1&&(n=Ks(r.value)),r.value.length=0;try{if(r.value[0]=r.fn.apply(null,e),t&&n&&!Us(n,r.value))try{r.value[0]=t(r.value[0],n[0])}catch{}}catch(s){r.value[1]=s}r.recomputing=!1}function Fe(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function Vl(r){r.dirty=!1,!Fe(r)&&Ys(r)}function Gs(r){fn(r,Js)}function Ys(r){fn(r,Xs)}function fn(r,e){const t=r.parents.size;if(t){const n=ln(r.parents);for(let s=0;s<t;++s)e(n[s],r)}}function Js(r,e){st(r.childValues.has(e)),st(Fe(e));const t=!Fe(r);if(!r.dirtyChildren)r.dirtyChildren=Tt.pop()||new Set;else if(r.dirtyChildren.has(e))return;r.dirtyChildren.add(e),t&&Gs(r)}function Xs(r,e){st(r.childValues.has(e)),st(!Fe(e));const t=r.childValues.get(e);t.length===0?r.childValues.set(e,Ks(e.value)):Us(t,e.value)||r.setDirty(),Zs(r,e),!Fe(r)&&Ys(r)}function Zs(r,e){const t=r.dirtyChildren;t&&(t.delete(e),t.size===0&&(Tt.length<Ll&&Tt.push(t),r.dirtyChildren=null))}function ei(r){r.childValues.size>0&&r.childValues.forEach((e,t)=>{ti(r,t)}),r.forgetDeps(),st(r.dirtyChildren===null)}function ti(r,e){e.parents.delete(r),r.childValues.delete(e),Zs(r,e)}function zl(r,e){if(typeof r.subscribe=="function")try{un(r),r.unsubscribe=r.subscribe.apply(null,e)}catch{return r.setDirty(),!1}return!0}const $l={setDirty:!0,dispose:!0,forget:!0};function ri(r){const e=new Map;function t(n){const s=cr.getValue();if(s){let i=e.get(n);i||e.set(n,i=new Set),s.dependOn(i)}}return t.dirty=function(s,i){const o=e.get(s);if(o){const a=i&&Ml.call($l,i)?i:"setDirty";ln(o).forEach(c=>c[a]()),e.delete(s),un(o)}},t}let Dn;function Wl(...r){return(Dn||(Dn=new Me(typeof WeakMap=="function"))).lookupArray(r)}const jr=new Set;function it(r,{max:e=Math.pow(2,16),keyArgs:t,makeCacheKey:n=Wl,normalizeResult:s,subscribe:i,cache:o=Kr}=Object.create(null)){const a=typeof o=="function"?new o(e,f=>f.dispose()):o,c=function(){const f=n.apply(null,t?t.apply(null,arguments):arguments);if(f===void 0)return r.apply(null,arguments);let p=a.get(f);p||(a.set(f,p=new lr(r)),p.normalizeResult=s,p.subscribe=i,p.forget=()=>a.delete(f));const m=p.recompute(Array.prototype.slice.call(arguments));return a.set(f,p),jr.add(a),cr.hasValue()||(jr.forEach(S=>S.clean()),jr.clear()),m};Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:e,keyArgs:t,makeCacheKey:n,normalizeResult:s,subscribe:i,cache:a});function l(f){const p=f&&a.get(f);p&&p.setDirty()}c.dirtyKey=l,c.dirty=function(){l(n.apply(null,arguments))};function h(f){const p=f&&a.get(f);if(p)return p.peek()}c.peekKey=h,c.peek=function(){return h(n.apply(null,arguments))};function d(f){return f?a.delete(f):!1}return c.forgetKey=d,c.forget=function(){return d(n.apply(null,arguments))},c.makeCacheKey=n,c.getKey=t?function(){return n.apply(null,t.apply(null,arguments))}:n,Object.freeze(c)}const Ql=Symbol.for("apollo.cacheSize"),Te={...fo[Ql]};function ot(r,e){var t;return((t=r.definitions.find(n=>n.kind==="OperationDefinition"&&!!n.name))==null?void 0:t.name.value)??e}const Ae=it((r,e)=>{L(r&&r.kind==="Document",1);const t=r.definitions.filter(n=>n.kind==="OperationDefinition");e&&L(t.length==1&&t[0].operation===e,4,e,e,t[0].operation),xe(r,{Field(n,s,i,o){var a;if(n.alias&&(n.alias.value==="__typename"||n.alias.value.startsWith("__ac_"))&&n.alias.value!==n.name.value){let c=r,l=[];for(const h of o)c=c[h],c.kind===q.FIELD&&l.push(((a=c.alias)==null?void 0:a.value)||c.name.value);throw l.splice(-1,1,n.name.value),ve(5,n.alias.value,l.join("."),t[0].operation,ot(r,"(anonymous)"))}}})},{max:Te.checkDocument||2e3,cache:Nt});function It(r=[]){const e={};return r.forEach(t=>{e[t.name.value]=t}),e}function ae(r){return r!==null&&typeof r=="object"}const{hasOwnProperty:Ul}=Object.prototype,Hl=function(r,e,t){return this.merge(r[t],e[t])};class at{constructor(e=Hl){b(this,"reconciler");b(this,"isObject",ae);b(this,"pastCopies",new Set);this.reconciler=e}merge(e,t,...n){return ae(t)&&ae(e)?(Object.keys(t).forEach(s=>{if(Ul.call(e,s)){const i=e[s];if(t[s]!==i){const o=this.reconciler(e,t,s,...n);o!==i&&(e=this.shallowCopyForMerge(e),e[s]=o)}}else e=this.shallowCopyForMerge(e),e[s]=t[s]}),e):t}shallowCopyForMerge(e){return ae(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e={__proto__:Object.getPrototypeOf(e),...e},this.pastCopies.add(e))),e}}function hn(r){const e={},t=r&&r.variableDefinitions;return t&&t.length&&t.forEach(n=>{n.defaultValue&&nt(e,n.variable.name,n.defaultValue)}),e}function ur(r,e){switch(r.kind){case"InlineFragment":return r;case"FragmentSpread":{const t=r.name.value;if(typeof e=="function")return e(t);const n=e&&e[t];return L(n,9,t),n||null}default:return null}}function Kl(r,e){let t=e;const n=[];return r.definitions.forEach(i=>{if(i.kind==="OperationDefinition")throw ve(10,i.operation,i.name?` named '${i.name.value}'`:"");i.kind==="FragmentDefinition"&&n.push(i)}),typeof t>"u"&&(L(n.length===1,11,n.length),t=n[0].name.value),{...r,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}},...r.definitions]}}function Gl(r){L(r.kind==="Document",6),L(r.definitions.length<=1,7);const e=r.definitions[0];return L(e.kind==="FragmentDefinition",8),e}function At(r){return r.definitions.filter(e=>e.kind==="FragmentDefinition")}function ni(r){Ae(r);let e;for(let t of r.definitions){if(t.kind==="OperationDefinition")return t;t.kind==="FragmentDefinition"&&!e&&(e=t)}if(e)return e;throw ve(12)}function Pe(r){return Ae(r),r.definitions.filter(e=>e.kind==="OperationDefinition")[0]}function Yl(r){const e=Pe(r);return L(e&&e.operation==="query",13),e}const Nr=new WeakSet;function si(r){r.size<=(r.max||-1)||Nr.has(r)||(Nr.add(r),setTimeout(()=>{r.clean(),Nr.delete(r)},100))}const ii=function(r,e){const t=new Nt(r,e);return t.set=function(n,s){const i=Nt.prototype.set.call(this,n,s);return si(this),i},t},Jl=function(r,e){const t=new Kr(r,e);return t.set=function(n,s){const i=Kr.prototype.set.call(this,n,s);return si(this),i},t},Re=Object.assign(function(e){return JSON.stringify(e,Xl)},{reset(){St=new Jl(Te.canonicalStringify||1e3)}});let St;Re.reset();function Xl(r,e){if(e&&typeof e=="object"){const t=Object.getPrototypeOf(e);if(t===Object.prototype||t===null){const n=Object.keys(e);if(n.every(Zl))return e;const s=JSON.stringify(n);let i=St.get(s);if(!i){n.sort();const a=JSON.stringify(n);i=St.get(a)||n,St.set(s,i),St.set(a,i)}const o=Object.create(t);return i.forEach(a=>{o[a]=e[a]}),o}}return e}function Zl(r,e,t){return e===0||t[e-1]<=r}const eu=["connection","include","skip","client","rest","export","nonreactive"];let gt=Re;const oi=Object.assign(function(r,e,t){if(e&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){const s=t.connection.filter?t.connection.filter:[];s.sort();const i={};s.forEach(a=>{i[a]=e[a]});const o=gt(i);if(o!=="{}")return`${t.connection.key}(${o})`}return t.connection.key}let n=r;if(e){const s=gt(e);s!=="{}"&&(n+=`(${s})`)}return t&&Object.keys(t).forEach(s=>{eu.indexOf(s)===-1&&(t[s]&&Object.keys(t[s]).length?n+=`@${s}(${gt(t[s])})`:n+=`@${s}`)}),n},{setStringify(r){const e=gt;return gt=r,e}});function Je(r){var e;return!!((e=r.errors)!=null&&e.length)}function _t(r,e,t){const n=new Set(r),s=n.size;return xe(e,{Directive(i){if(n.delete(i.name.value)&&(!t||!n.size))return sn}}),t?!n.size:n.size<s}function tu(r){let e=!1;return xe(r,{Directive:{enter(t){if(t.name.value==="client"&&t.arguments&&(e=t.arguments.some(n=>n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0),e))return sn}}}),e}const G=Array.isArray;function ru(r){return ae(r)&&r.kind==="Document"&&Array.isArray(r.definitions)}function Rt(r){return r.kind==="Field"}function dn(r){return Array.isArray(r)&&r.length>0}function et(r){return{__ref:String(r)}}function nu(r){let e=r[0]||{};const t=r.length;if(t>1){const n=new at;for(let s=1;s<t;++s)e=n.merge(e,r[s])}return e}function su(r){return r.catch(()=>{}),r}function iu(r,e){Ae(e);const t=Mn(""),n=Mn(""),s=g=>{for(let y=0,_;y<g.length&&(_=g[y]);++y)if(!G(_)){if(_.kind===q.OPERATION_DEFINITION)return t(_.name&&_.name.value);if(_.kind===q.FRAGMENT_DEFINITION)return n(_.name.value)}return L.error(14),null};let i=0;for(let g=e.definitions.length-1;g>=0;--g)e.definitions[g].kind===q.OPERATION_DEFINITION&&++i;const o=ou(r),a=g=>dn(g)&&g.map(o).some(y=>y&&y.remove),c=new Map;let l=!1;const h={enter(g){if(a(g.directives))return l=!0,null}},d=xe(e,{Field:h,InlineFragment:h,VariableDefinition:{enter(){return!1}},Variable:{enter(g,y,_,O,C){const k=s(C);k&&k.variables.add(g.name.value)}},FragmentSpread:{enter(g,y,_,O,C){if(a(g.directives))return l=!0,null;const k=s(C);k&&k.fragmentSpreads.add(g.name.value)}},FragmentDefinition:{enter(g,y,_,O){c.set(JSON.stringify(O),g)},leave(g,y,_,O){const C=c.get(JSON.stringify(O));if(g===C)return g;if(i>0&&g.selectionSet.selections.every(k=>k.kind===q.FIELD&&k.name.value==="__typename"))return n(g.name.value).removed=!0,l=!0,null}},Directive:{leave(g){if(o(g))return l=!0,null}}});if(!l)return e;const f=g=>(g.transitiveVars||(g.transitiveVars=new Set(g.variables),g.removed||g.fragmentSpreads.forEach(y=>{f(n(y)).transitiveVars.forEach(_=>{g.transitiveVars.add(_)})})),g),p=new Set;d.definitions.forEach(g=>{g.kind===q.OPERATION_DEFINITION?f(t(g.name&&g.name.value)).fragmentSpreads.forEach(y=>{p.add(y)}):g.kind===q.FRAGMENT_DEFINITION&&i===0&&!n(g.name.value).removed&&p.add(g.name.value)}),p.forEach(g=>{f(n(g)).fragmentSpreads.forEach(y=>{p.add(y)})});const m=g=>!!(!p.has(g)||n(g).removed),S={enter(g){if(m(g.name.value))return null}};return au(xe(d,{FragmentSpread:S,FragmentDefinition:S,OperationDefinition:{leave(g){if(g.variableDefinitions){const y=f(t(g.name&&g.name.value)).transitiveVars;if(y.size<g.variableDefinitions.length)return{...g,variableDefinitions:g.variableDefinitions.filter(_=>y.has(_.variable.name.value))}}}}}))}function Mn(r){const e=new Map;return function(n=r){let s=e.get(n);return s||e.set(n,s={variables:new Set,fragmentSpreads:new Set}),s}}function ou(r){const e=new Map,t=new Map;return r.forEach(n=>{n&&(n.name?e.set(n.name,n):n.test&&t.set(n.test,n))}),n=>{let s=e.get(n.name.value);return!s&&t.size&&t.forEach((i,o)=>{o(n)&&(s=i)}),s}}function ai(r,e){return!r||r.selectionSet.selections.every(t=>t.kind===q.FRAGMENT_SPREAD&&ai(e[t.name.value],e))}function au(r){return ai(Pe(r)||Gl(r),It(At(r)))?null:r}function cu(r){return xe(r,{FragmentSpread(e){var t;if(!((t=e.directives)!=null&&t.some(({name:n})=>n.value==="unmask")))return null}})}function ut(r){return r.alias?r.alias.value:r.name.value}function fr({directives:r},e){return!r||!r.length?!0:uu(r).every(({directive:t,ifArgument:n})=>{let s=!1;return n.value.kind==="Variable"?(s=e&&e[n.value.name.value],L(s!==void 0,15,t.name.value)):s=n.value.value,t.name.value==="skip"?!s:s})}function lu({name:{value:r}}){return r==="skip"||r==="include"}function uu(r){const e=[];return r&&r.length&&r.forEach(t=>{if(!lu(t))return;const n=t.arguments,s=t.name.value;L(n&&n.length===1,16,s);const i=n[0];L(i.name&&i.name.value==="if",17,s);const o=i.value;L(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),18,s),e.push({directive:t,ifArgument:i})}),e}function fu(r,e){let t=null;r.directives&&(t={},r.directives.forEach(s=>{t[s.name.value]={},s.arguments&&s.arguments.forEach(({name:i,value:o})=>nt(t[s.name.value],i,o,e))}));let n=null;return r.arguments&&r.arguments.length&&(n={},r.arguments.forEach(({name:s,value:i})=>nt(n,s,i,e))),oi(r.name.value,n,t)}function Qt(r){const e={data:r.data};return r.error&&(e.error=r.error),e}function Yr(r,e=()=>{}){return t=>new Y(n=>{let s=e();return t.subscribe({next(i){let o;try{o=r(i,s)}catch(a){n.error(a)}o!==void 0&&n.next(o)},error(i){n.error(i)},complete(){n.complete()}})})}function ci(r,{data:e,...t},{data:n,...s},i){return H(t,s)&&Ut(ni(r).selectionSet,e,n,{fragmentMap:It(At(r)),variables:i})}function Ut(r,e,t,n){if(e===t)return!0;const s=new Set;return r.selections.every(i=>{if(s.has(i)||(s.add(i),!fr(i,n.variables))||Ln(i))return!0;if(Rt(i)){const o=ut(i),a=e&&e[o],c=t&&t[o],l=i.selectionSet;if(!l)return H(a,c);const h=Array.isArray(a),d=Array.isArray(c);if(h!==d)return!1;if(h&&d){const f=a.length;if(c.length!==f)return!1;for(let p=0;p<f;++p)if(!Ut(l,a[p],c[p],n))return!1;return!0}return Ut(l,a,c,n)}else{const o=ur(i,n.fragmentMap);if(o)return Ln(o)?!0:Ut(o.selectionSet,e,t,n)}})}function Ln(r){return!!r.directives&&r.directives.some(hu)}function hu(r){return r.name.value==="nonreactive"}class du{constructor(){b(this,"startRequest")}isIncrementalResult(e){return!1}prepareRequest(e){return L(!_t(["defer"],e.query),64),e}extractErrors(){}}function pu(r,{client:e}){const t={query:r.query,variables:r.variables||{},extensions:r.extensions||{},operationName:ot(r.query),operationType:Pe(r.query).operation};let n={...r.context};const s=o=>{typeof o=="function"?n={...n,...o(i())}:n={...n,...o}},i=()=>Object.freeze({...n});return Object.defineProperty(t,"setContext",{enumerable:!1,value:s}),Object.defineProperty(t,"getContext",{enumerable:!1,value:i}),Object.defineProperty(t,"client",{enumerable:!1,value:e}),t}function mu(r,e){const t={...r},n=new Set(Object.keys(r));return xe(e,{Variable(s,i,o){o&&o.kind!=="VariableDefinition"&&n.delete(s.name.value)}}),n.forEach(s=>{delete t[s]}),t}class le{constructor(e){b(this,"left");b(this,"right");e&&(this.request=e)}static empty(){return new le(()=>Xt)}static from(e){if(e.length===0)return le.empty();const[t,...n]=e;return t.concat(...n)}static split(e,t,n=new le((s,i)=>i(s))){const s=new le((i,o)=>e(i)?t.request(i,o):n.request(i,o));return Object.assign(s,{left:t,right:n})}static execute(e,t,n){return e.request(pu(t,n),()=>Xt)}static concat(...e){return le.from(e)}split(e,t,n){return this.concat(le.split(e,t,n))}concat(...e){return e.length===0?this:e.reduce(this.combine.bind(this),this)}combine(e,t){const n=new le((s,i)=>e.request(s,o=>t.request(o,i)));return Object.assign(n,{left:e,right:t})}request(e,t){throw ve(63)}}const Jr=le.execute;function yu(r){return r}class Ne{constructor(e,t={}){b(this,"transform");b(this,"cached");b(this,"resultCache",new WeakSet);b(this,"left");b(this,"right");this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=t.cache!==!1,this.resetCache()}getCacheKey(e){return[e]}static identity(){return new Ne(yu,{cache:!1})}static split(e,t,n=Ne.identity()){return Object.assign(new Ne(s=>(e(s)?t:n).transformDocument(s),{cache:!1}),{left:t,right:n})}resetCache(){if(this.cached){const e=new Me;this.performWork=it(Ne.prototype.performWork.bind(this),{makeCacheKey:t=>{const n=this.getCacheKey(t);if(n)return L(Array.isArray(n),20),e.lookupArray(n)},max:Te["documentTransform.cache"],cache:Nt})}}performWork(e){return Ae(e),this.transform(e)}transformDocument(e){if(this.resultCache.has(e))return e;const t=this.performWork(e);return this.resultCache.add(t),t}concat(e){return Object.assign(new Ne(t=>e.transformDocument(this.transformDocument(t)),{cache:!1}),{left:this,right:e})}}let Tr;const tt=Object.assign(r=>{let e=Tr.get(r);return e||(e=$c(r),Tr.set(r,e)),e},{reset(){Tr=new ii(Te.print||2e3)}});tt.reset();function Q(r){return!!(r&&typeof r=="object"&&typeof r.__ref=="string")}const qn={kind:q.FIELD,name:{kind:q.NAME,value:"__typename"}},li=Object.assign(function(r){return xe(r,{SelectionSet:{enter(e,t,n){if(n&&n.kind===q.OPERATION_DEFINITION)return;const{selections:s}=e;if(!s||s.some(a=>a.kind===q.FIELD&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)))return;const o=n;if(!(o.kind===q.FIELD&&o.directives&&o.directives.some(a=>a.name.value==="export")))return{...e,selections:[...s,qn]}}}})},{added(r){return r===qn}});function ui(r,e){var t;return((t=Pe(r))==null?void 0:t.operation)===e}function gu(r){return ui(r,"mutation")}function vu(r){return ui(r,"subscription")}function bu(r){return r===7||r===8}function Xr(r){return!bu(r)}class wu{constructor(){b(this,"assumeImmutableResults",!1);b(this,"getFragmentDoc",it(Kl,{max:Te["cache.fragmentQueryDocuments"]||1e3,cache:Nt}))}lookupFragment(e){return null}batch(e){const t=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0;let n;return this.performTransaction(()=>n=e.update(this),t),n}recordOptimisticTransaction(e,t){this.performTransaction(e,t)}transformDocument(e){return e}transformForLink(e){return e}identify(e){}gc(){return[]}modify(e){return!1}readQuery(e,t=!!e.optimistic){return this.read({...e,rootId:e.id||"ROOT_QUERY",optimistic:t})}watchFragment(e){const{fragment:t,fragmentName:n,from:s,optimistic:i=!0,...o}=e,a=this.getFragmentDoc(t,n),c=typeof s>"u"||typeof s=="string"?s:this.identify(s),l={...o,returnPartialData:!0,id:c,query:a,optimistic:i};let h;return new Y(d=>this.watch({...l,immediate:!0,callback:f=>{let p=f.result;if(p===null&&(p={}),h&&ci(a,{data:h.result},{data:p},e.variables))return;const m={data:p,dataState:f.complete?"complete":"partial",complete:!!f.complete};f.missing&&(m.missing=f.missing.missing),h={...f,result:p},d.next(m)}}))}readFragment(e,t=!!e.optimistic){return this.read({...e,query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t})}writeQuery({id:e,data:t,...n}){return this.write(Object.assign(n,{dataId:e||"ROOT_QUERY",result:t}))}writeFragment({id:e,data:t,fragment:n,fragmentName:s,...i}){return this.write(Object.assign(i,{query:this.getFragmentDoc(n,s),dataId:e,result:t}))}updateQuery(e,t){return this.batch({update(n){const s=n.readQuery(e),i=t(s);return i==null?s:(n.writeQuery({...e,data:i}),i)}})}updateFragment(e,t){return this.batch({update(n){const s=n.readFragment(e),i=t(s);return i==null?s:(n.writeFragment({...e,data:i}),i)}})}}class pn extends Error{constructor(t,n,s,i){super(t);b(this,"message");b(this,"path");b(this,"query");b(this,"variables");b(this,"missing");if(this.message=t,this.path=n,this.query=s,this.variables=i,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let o=this.path.length-1;o>=0;--o)this.missing={[this.path[o]]:this.missing}}else this.missing=this.path;this.__proto__=pn.prototype}}const{hasOwnProperty:X}=Object.prototype;function fi({__typename:r,id:e,_id:t},n){if(typeof r=="string"&&(n&&(n.keyObject=e!=null?{id:e}:t!=null?{_id:t}:void 0),e==null&&t!=null&&(e=t),e!=null))return`${r}:${typeof e=="number"||typeof e=="string"?e:JSON.stringify(e)}`}const Su={dataIdFromObject:fi,resultCaching:!0};function _u(r){return ke(Su,r)}const hi=/^[_a-z][_0-9a-z]*/i;function ct(r){const e=r.match(hi);return e?e[0]:r}function Zr(r,e,t){return ae(e)?G(e)?e.every(n=>Zr(r,n,t)):r.selections.every(n=>{if(Rt(n)&&fr(n,t)){const s=ut(n);return X.call(e,s)&&(!n.selectionSet||Zr(n.selectionSet,e[s],t))}return!0}):!1}function Xe(r){return ae(r)&&!Q(r)&&!G(r)}function ku(){return new at}function di(r,e){const t=It(At(r));return{fragmentMap:t,lookupFragment(n){let s=t[n];return!s&&e&&(s=e.lookup(n)),s||null}}}const Ht={},Pr=()=>Ht,Bn={};class hr{constructor(e,t){b(this,"policies");b(this,"group");b(this,"data",{});b(this,"rootIds",{});b(this,"refs",{});b(this,"getFieldValue",(e,t)=>Qr(Q(e)?this.get(e.__ref,t):e&&e[t]));b(this,"canRead",e=>Q(e)?this.has(e.__ref):typeof e=="object");b(this,"toReference",(e,t)=>{if(typeof e=="string")return et(e);if(Q(e))return e;const[n]=this.policies.identify(e);if(n){const s=et(n);return t&&this.merge(n,e),s}});this.policies=e,this.group=t}toObject(){return{...this.data}}has(e){return this.lookup(e,!0)!==void 0}get(e,t){if(this.group.depend(e,t),X.call(this.data,e)){const n=this.data[e];if(n&&X.call(n,t))return n[t]}if(t==="__typename"&&X.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof _e)return this.parent.get(e,t)}lookup(e,t){if(t&&this.group.depend(e,"__exists"),X.call(this.data,e))return this.data[e];if(this instanceof _e)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return{}}merge(e,t){let n;Q(e)&&(e=e.__ref),Q(t)&&(t=t.__ref);const s=typeof e=="string"?this.lookup(n=e):e,i=typeof t=="string"?this.lookup(n=t):t;if(!i)return;L(typeof n=="string",95);const o=new at(Cu).merge(s,i);if(this.data[n]=o,o!==s&&(delete this.refs[n],this.group.caching)){const a={};s||(a.__exists=1),Object.keys(i).forEach(c=>{if(!s||s[c]!==o[c]){a[c]=1;const l=ct(c);l!==c&&!this.policies.hasKeyArgs(o.__typename,l)&&(a[l]=1),o[c]===void 0&&!(this instanceof _e)&&delete o[c]}}),a.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[n]===o.__typename&&delete a.__typename,Object.keys(a).forEach(c=>this.group.dirty(n,c))}}modify(e,t,n){const s=this.lookup(e);if(s){const i={};let o=!1,a=!0;const c={DELETE:Ht,INVALIDATE:Bn,isReference:Q,toReference:this.toReference,canRead:this.canRead,readField:(l,h)=>this.policies.readField(typeof l=="string"?{fieldName:l,from:h||et(e)}:l,{store:this})};if(Object.keys(s).forEach(l=>{const h=ct(l);let d=s[l];if(d===void 0)return;const f=typeof t=="function"?t:t[l]||(n?void 0:t[h]);if(f){let p=f===Pr?Ht:f(Qr(d),{...c,fieldName:h,storeFieldName:l,storage:this.getStorage(e,l)});p===Bn?this.group.dirty(e,l):(p===Ht&&(p=void 0),p!==d&&(i[l]=p,o=!0,d=p))}d!==void 0&&(a=!1)}),o)return this.merge(e,i),a&&(this instanceof _e?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1}delete(e,t,n){const s=this.lookup(e);if(s){const i=this.getFieldValue(s,"__typename"),o=t&&n?this.policies.getStoreFieldName({typename:i,fieldName:t,args:n}):t;return this.modify(e,o?{[o]:Pr}:Pr,!!n)}return!1}evict(e,t){let n=!1;return e.id&&(X.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof _e&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n}clear(){this.replace(null)}extract(){const e=this.toObject(),t=[];return this.getRootIdSet().forEach(n=>{X.call(this.policies.rootTypenamesById,n)||t.push(n)}),t.length&&(e.__META={extraRootIds:t.sort()}),e}replace(e){if(Object.keys(this.data).forEach(t=>{e&&X.call(e,t)||this.delete(t)}),e){const{__META:t,...n}=e;Object.keys(n).forEach(s=>{this.merge(s,n[s])}),t&&t.extraRootIds.forEach(this.retain,this)}}retain(e){return this.rootIds[e]=(this.rootIds[e]||0)+1}release(e){if(this.rootIds[e]>0){const t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0}getRootIdSet(e=new Set){return Object.keys(this.rootIds).forEach(e.add,e),this instanceof _e?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e}gc(){const e=this.getRootIdSet(),t=this.toObject();e.forEach(s=>{X.call(t,s)&&(Object.keys(this.findChildRefIds(s)).forEach(e.add,e),delete t[s])});const n=Object.keys(t);if(n.length){let s=this;for(;s instanceof _e;)s=s.parent;n.forEach(i=>s.delete(i))}return n}findChildRefIds(e){if(!X.call(this.refs,e)){const t=this.refs[e]={},n=this.data[e];if(!n)return t;const s=new Set([n]);s.forEach(i=>{Q(i)&&(t[i.__ref]=!0),ae(i)&&Object.keys(i).forEach(o=>{const a=i[o];ae(a)&&s.add(a)})})}return this.refs[e]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}get supportsResultCaching(){return this.group.caching}}class pi{constructor(e,t=null){b(this,"caching");b(this,"parent");b(this,"d",null);b(this,"keyMaker");this.caching=e,this.parent=t,this.resetCaching()}resetCaching(){this.d=this.caching?ri():null,this.keyMaker=new Me}depend(e,t){if(this.d){this.d(Ir(e,t));const n=ct(t);n!==t&&this.d(Ir(e,n)),this.parent&&this.parent.depend(e,t)}}dirty(e,t){this.d&&this.d.dirty(Ir(e,t),t==="__exists"?"forget":"setDirty")}}function Ir(r,e){return e+"#"+r}function Vn(r,e){Ot(r)&&r.group.depend(e,"__exists")}class xu extends hr{constructor({policies:t,resultCaching:n=!0,seed:s}){super(t,new pi(n));b(this,"stump",new Ou(this));b(this,"storageTrie",new Me);s&&this.replace(s)}addLayer(t,n){return this.stump.addLayer(t,n)}removeLayer(){return this}getStorage(){return this.storageTrie.lookupArray(arguments)}}hr.Root=xu;class _e extends hr{constructor(t,n,s,i){super(n.policies,i);b(this,"id");b(this,"parent");b(this,"replay");b(this,"group");this.id=t,this.parent=n,this.replay=s,this.group=i,s(this)}addLayer(t,n){return new _e(t,this,n,this.group)}removeLayer(t){const n=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(s=>{const i=this.data[s],o=n.lookup(s);o?i?i!==o&&Object.keys(i).forEach(a=>{H(i[a],o[a])||this.group.dirty(s,a)}):(this.group.dirty(s,"__exists"),Object.keys(o).forEach(a=>{this.group.dirty(s,a)})):this.delete(s)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(t){const n=this.parent.findChildRefIds(t);return X.call(this.data,t)?{...n,...super.findChildRefIds(t)}:n}getStorage(...t){let n=this.parent;for(;n.parent;)n=n.parent;return n.getStorage(...t)}}class Ou extends _e{constructor(e){super("EntityStore.Stump",e,()=>{},new pi(e.group.caching,e.group))}removeLayer(){return this}merge(e,t){return this.parent.merge(e,t)}}function Cu(r,e,t){const n=r[t],s=e[t];return H(n,s)?n:s}function Ot(r){return!!(r&&r.supportsResultCaching)}const mi=new ar;function Eu(r){var n,s;const e=(n=r.directives)==null?void 0:n.find(({name:i})=>i.value==="unmask");if(!e)return"mask";const t=(s=e.arguments)==null?void 0:s.find(({name:i})=>i.value==="mode");return t&&"value"in t.value&&t.value.value==="migrate"?"migrate":"unmask"}function yi(r,e,t){return mi.withValue(!0,()=>kt(r,e,t,!1))}function ju(r,e){if(e.has(r))return e.get(r);const t=Array.isArray(r)?[]:{};return e.set(r,t),t}function kt(r,e,t,n,s){const{knownChanged:i}=t,o=ju(r,t.mutableTargets);if(Array.isArray(r)){for(const[a,c]of Array.from(r.entries())){if(c===null){o[a]=null;continue}const l=kt(c,e,t,n);i.has(l)&&i.add(o),o[a]=l}return i.has(o)?o:r}for(const a of e.selections){let c;if(n&&i.add(o),a.kind===q.FIELD){const l=ut(a),h=a.selectionSet;if(c=o[l]||r[l],c===void 0)continue;if(h&&c!==null){const d=kt(r[l],h,t,n);i.has(d)&&(c=d)}o[l]=c}if(a.kind===q.INLINE_FRAGMENT&&(!a.typeCondition||t.cache.fragmentMatches(a,r.__typename))&&(c=kt(r,a.selectionSet,t,n)),a.kind===q.FRAGMENT_SPREAD){const l=a.name.value,h=t.fragmentMap[l]||(t.fragmentMap[l]=t.cache.lookupFragment(l));L(h,39,l);const d=Eu(a);d!=="mask"&&(c=kt(r,h.selectionSet,t,d==="migrate"))}i.has(c)&&i.add(o)}return"__typename"in r&&!("__typename"in o)&&(o.__typename=r.__typename),Object.keys(o).length!==Object.keys(r).length&&i.add(o),i.has(o)?o:r}function Nu(r,e,t,n){const s=e.definitions.filter(o=>o.kind===q.FRAGMENT_DEFINITION);typeof n>"u"&&(L(s.length===1,41,s.length),n=s[0].name.value);const i=s.find(o=>o.name.value===n);return L(!!i,42,n),r==null||H(r,{})?r:yi(r,i.selectionSet,{operationName:i.name.value,fragmentMap:It(At(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}function Tu(r,e,t){var s;const n=Pe(e);return L(n,43),r==null?r:yi(r,n.selectionSet,{operationType:n.operation,operationName:(s=n.name)==null?void 0:s.value,fragmentMap:It(At(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}const zn={};function mn(r){const e=JSON.stringify(r);return zn[e]||(zn[e]={})}function $n(r){const e=mn(r);return e.keyFieldsFn||(e.keyFieldsFn=(t,n)=>{const s=(o,a)=>n.readField(a,o),i=n.keyObject=yn(r,o=>{let a=rt(n.storeObject,o,s);return a===void 0&&t!==n.storeObject&&X.call(t,o[0])&&(a=rt(t,o,vi)),L(a!==void 0,98,o.join("."),t),a});return`${n.typename}:${JSON.stringify(i)}`})}function Wn(r){const e=mn(r);return e.keyArgsFn||(e.keyArgsFn=(t,{field:n,variables:s,fieldName:i})=>{const o=yn(r,c=>{const l=c[0],h=l.charAt(0);if(h==="@"){if(n&&dn(n.directives)){const d=l.slice(1),f=n.directives.find(m=>m.name.value===d),p=f&&cn(f,s);return p&&rt(p,c.slice(1))}return}if(h==="$"){const d=l.slice(1);if(s&&X.call(s,d)){const f=c.slice(0);return f[0]=d,rt(s,f)}return}if(t)return rt(t,c)}),a=JSON.stringify(o);return(t||a!=="{}")&&(i+=":"+a),i})}function yn(r,e){const t=new at;return gi(r).reduce((n,s)=>{let i=e(s);if(i!==void 0){for(let o=s.length-1;o>=0;--o)i={[s[o]]:i};n=t.merge(n,i)}return n},{})}function gi(r){const e=mn(r);if(!e.paths){const t=e.paths=[],n=[];r.forEach((s,i)=>{G(s)?(gi(s).forEach(o=>t.push(n.concat(o))),n.length=0):(n.push(s),G(r[i+1])||(t.push(n.slice(0)),n.length=0))})}return e.paths}function vi(r,e){return r[e]}function rt(r,e,t){return t=t||vi,bi(e.reduce(function n(s,i){return G(s)?s.map(o=>n(o,i)):s&&t(s,i)},r))}function bi(r){return ae(r)?G(r)?r.map(bi):yn(Object.keys(r).sort(),e=>rt(r,e)):r}const wi=new ar,Qn=new WeakMap;function Ct(r){let e=Qn.get(r);return e||Qn.set(r,e={vars:new Set,dep:ri()}),e}function Un(r){Ct(r).vars.forEach(e=>e.forgetCache(r))}function Pu(r){Ct(r).vars.forEach(e=>e.attachCache(r))}function Iu(r){const e=new Set,t=new Set,n=function(i){if(arguments.length>0){if(r!==i){r=i,e.forEach(a=>{Ct(a).dep.dirty(n),Au(a)});const o=Array.from(t);t.clear(),o.forEach(a=>a(r))}}else{const o=wi.getValue();o&&(s(o),Ct(o).dep(n))}return r};n.onNextChange=i=>(t.add(i),()=>{t.delete(i)});const s=n.attachCache=i=>(e.add(i),Ct(i).vars.add(n),n);return n.forgetCache=i=>e.delete(i),n}function Au(r){r.broadcastWatches&&r.broadcastWatches()}function en(r){return r.args!==void 0?r.args:r.field?cn(r.field,r.variables):null}const Ru=()=>{},Hn=(r,e)=>e.fieldName,Kn=(r,e,{mergeObjects:t})=>t(r,e),Gn=(r,e)=>e;class Fu{constructor(e){b(this,"config");b(this,"typePolicies",{});b(this,"toBeAdded",{});b(this,"supertypeMap",new Map);b(this,"fuzzySubtypes",new Map);b(this,"cache");b(this,"rootIdsByTypename",{});b(this,"rootTypenamesById",{});b(this,"usingPossibleTypes",!1);this.config=e,this.config={dataIdFromObject:fi,...e},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}identify(e,t){var h;const n=this,s=t&&(t.typename||((h=t.storeObject)==null?void 0:h.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];const i=t&&t.storeObject||e,o={...t,typename:s,storeObject:i,readField:t&&t.readField||((...d)=>{const f=gn(d,i);return n.readField(f,{store:n.cache.data,variables:f.variables})})};let a;const c=s&&this.getTypePolicy(s);let l=c&&c.keyFn||this.config.dataIdFromObject;return mi.withValue(!0,()=>{for(;l;){const d=l({...e,...i},o);if(G(d))l=$n(d);else{a=d;break}}}),a=a?String(a):void 0,o.keyObject?[a,o.keyObject]:[a]}addTypePolicies(e){Object.keys(e).forEach(t=>{const{queryType:n,mutationType:s,subscriptionType:i,...o}=e[t];n&&this.setRootTypename("Query",t),s&&this.setRootTypename("Mutation",t),i&&this.setRootTypename("Subscription",t),X.call(this.toBeAdded,t)?this.toBeAdded[t].push(o):this.toBeAdded[t]=[o]})}updateTypePolicy(e,t,n){const s=this.getTypePolicy(e),{keyFields:i,fields:o}=t;function a(c,l){c.merge=typeof l=="function"?l:l===!0?Kn:l===!1?Gn:c.merge}a(s,t.merge),s.keyFn=i===!1?Ru:G(i)?$n(i):typeof i=="function"?i:s.keyFn,o&&Object.keys(o).forEach(c=>{let l=n[c];(!l||(l==null?void 0:l.typename)!==e)&&(l=n[c]={typename:e});const h=o[c];if(typeof h=="function")l.read=h;else{const{keyArgs:d,read:f,merge:p}=h;l.keyFn=d===!1?Hn:G(d)?Wn(d):typeof d=="function"?d:l.keyFn,typeof f=="function"&&(l.read=f),a(l,p)}l.read&&l.merge&&(l.keyFn=l.keyFn||Hn)})}setRootTypename(e,t=e){const n="ROOT_"+e.toUpperCase(),s=this.rootTypenamesById[n];t!==s&&(L(!s||s===e,99,e),s&&delete this.rootIdsByTypename[s],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)}addPossibleTypes(e){this.usingPossibleTypes=!0,Object.keys(e).forEach(t=>{this.getSupertypeSet(t,!0),e[t].forEach(n=>{this.getSupertypeSet(n,!0).add(t);const s=n.match(hi);(!s||s[0]!==n)&&this.fuzzySubtypes.set(n,new RegExp(n))})})}getTypePolicy(e){if(!X.call(this.typePolicies,e)){const n=this.typePolicies[e]={};n.fields={};let s=this.supertypeMap.get(e);!s&&this.fuzzySubtypes.size&&(s=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((i,o)=>{if(i.test(e)){const a=this.supertypeMap.get(o);a&&a.forEach(c=>s.add(c))}})),s&&s.size&&s.forEach(i=>{const{fields:o,...a}=this.getTypePolicy(i);Object.assign(n,a),Object.assign(n.fields,o)})}const t=this.toBeAdded[e];return t&&t.length&&t.splice(0).forEach(n=>{this.updateTypePolicy(e,n,this.typePolicies[e].fields)}),this.typePolicies[e]}getFieldPolicy(e,t){if(e)return this.getTypePolicy(e).fields[t]}getSupertypeSet(e,t){let n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n}fragmentMatches(e,t,n,s){if(!e.typeCondition)return!0;if(!t)return!1;const i=e.typeCondition.name.value;if(t===i)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(i)){const o=this.getSupertypeSet(t,!0),a=[o],c=h=>{const d=this.getSupertypeSet(h,!1);d&&d.size&&a.indexOf(d)<0&&a.push(d)};let l=!!(n&&this.fuzzySubtypes.size);for(let h=0;h<a.length;++h){const d=a[h];if(d.has(i))return o.has(i)||o.add(i),!0;d.forEach(c),l&&h===a.length-1&&Zr(e.selectionSet,n,s)&&(l=!1,this.fuzzySubtypes.forEach((f,p)=>{const m=t.match(f);m&&m[0]===t&&c(p)}))}}return!1}hasKeyArgs(e,t){const n=this.getFieldPolicy(e,t);return!!(n&&n.keyFn)}getStoreFieldName(e){const{typename:t,fieldName:n}=e,s=this.getFieldPolicy(t,n);let i,o=s&&s.keyFn;if(o&&t){const a={typename:t,fieldName:n,field:e.field||null,variables:e.variables},c=en(e);for(;o;){const l=o(c,a);if(G(l))o=Wn(l);else{i=l||n;break}}}return i===void 0&&(i=e.field?fu(e.field,e.variables):oi(n,en(e))),i===!1?n:n===ct(i)?i:n+":"+i}readField(e,t){const n=e.from;if(!n||!(e.field||e.fieldName))return;if(e.typename===void 0){const h=t.store.getFieldValue(n,"__typename");h&&(e.typename=h)}const i=this.getStoreFieldName(e),o=ct(i),a=t.store.getFieldValue(n,i),c=this.getFieldPolicy(e.typename,o),l=c&&c.read;if(l){const h=Yn(this,n,e,t,t.store.getStorage(Q(n)?n.__ref:n,i));return wi.withValue(this.cache,l,[a,h])}return a}getReadFunction(e,t){const n=this.getFieldPolicy(e,t);return n&&n.read}getMergeFunction(e,t,n){let s=this.getFieldPolicy(e,t),i=s&&s.merge;return!i&&n&&(s=this.getTypePolicy(n),i=s&&s.merge),i}runMergeFunction(e,t,{field:n,typename:s,merge:i},o,a){return i===Kn?Si(o.store)(e,t):i===Gn?t:(o.overwrite&&(e=void 0),i(e,t,Yn(this,void 0,{typename:s,fieldName:n.name.value,field:n,variables:o.variables},o,a||{})))}}function Yn(r,e,t,n,s){const i=r.getStoreFieldName(t),o=ct(i),a=t.variables||n.variables,{toReference:c,canRead:l}=n.store;return{args:en(t),field:t.field||null,fieldName:o,storeFieldName:i,variables:a,isReference:Q,toReference:c,storage:s,cache:r.cache,canRead:l,readField(...h){return r.readField(gn(h,e,a),n)},mergeObjects:Si(n.store)}}function gn(r,e,t){const{0:n,1:s,length:i}=r;let o;return typeof n=="string"?o={fieldName:n,from:i>1?s:e}:(o={...n},X.call(o,"from")||(o.from=e)),o.variables===void 0&&(o.variables=t),o}function Si(r){return function(t,n){if(G(t)||G(n))throw ve(102);if(ae(t)&&ae(n)){const s=r.getFieldValue(t,"__typename"),i=r.getFieldValue(n,"__typename");if(s&&i&&s!==i)return n;if(Q(t)&&Xe(n))return r.merge(t.__ref,n),t;if(Xe(t)&&Q(n))return r.merge(t,n.__ref),n;if(Xe(t)&&Xe(n))return{...t,...n}}return n}}function Jn(r){return[r.selectionSet,r.objectOrReference,r.context]}class Du{constructor(e){b(this,"executeSelectionSet");b(this,"executeSubSelectedArray");b(this,"config");b(this,"knownResults",new WeakMap);this.config=e,this.executeSelectionSet=it(t=>{const n=Jn(t),s=this.executeSelectionSet.peek(...n);return s||(Vn(t.context.store,t.enclosingRef.__ref),this.execSelectionSetImpl(t))},{max:Te["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Jn,makeCacheKey(t,n,s){if(Ot(s.store))return s.store.makeCacheKey(t,Q(n)?n.__ref:n,s.varString)}}),this.executeSubSelectedArray=it(t=>(Vn(t.context.store,t.enclosingRef.__ref),this.execSubSelectedArrayImpl(t)),{max:Te["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:t,array:n,context:s}){if(Ot(s.store))return s.store.makeCacheKey(t,n,s.varString)}})}diffQueryAgainstStore({store:e,query:t,rootId:n="ROOT_QUERY",variables:s,returnPartialData:i=!0}){const o=this.config.cache.policies;s={...hn(Yl(t)),...s};const a=et(n),c=this.executeSelectionSet({selectionSet:ni(t).selectionSet,objectOrReference:a,enclosingRef:a,context:{store:e,query:t,policies:o,variables:s,varString:Re(s),...di(t,this.config.fragments)}});let l;c.missing&&(l=new pn(Mu(c.missing),c.missing,t,s));const h=!l,{result:d}=c;return{result:h||i?Object.keys(d).length===0?null:d:null,complete:h,missing:l}}isFresh(e,t,n,s){if(Ot(s.store)&&this.knownResults.get(e)===n){const i=this.executeSelectionSet.peek(n,t,s);if(i&&e===i.result)return!0}return!1}execSelectionSetImpl({selectionSet:e,objectOrReference:t,enclosingRef:n,context:s}){if(Q(t)&&!s.policies.rootTypenamesById[t.__ref]&&!s.store.has(t.__ref))return{result:{},missing:`Dangling reference to missing ${t.__ref} object`};const{variables:i,policies:o,store:a}=s,c=a.getFieldValue(t,"__typename"),l=[];let h;const d=new at;typeof c=="string"&&!o.rootIdsByTypename[c]&&l.push({__typename:c});function f(y,_){return y.missing&&(h=d.merge(h,{[_]:y.missing})),y.result}const p=new Set(e.selections);p.forEach(y=>{if(fr(y,i))if(Rt(y)){let _=o.readField({fieldName:y.name.value,field:y,variables:s.variables,from:t},s);const O=ut(y);_===void 0?li.added(y)||(h=d.merge(h,{[O]:`Can't find field '${y.name.value}' on ${Q(t)?t.__ref+" object":"object "+JSON.stringify(t,null,2)}`})):G(_)?_.length>0&&(_=f(this.executeSubSelectedArray({field:y,array:_,enclosingRef:n,context:s}),O)):y.selectionSet&&_!=null&&(_=f(this.executeSelectionSet({selectionSet:y.selectionSet,objectOrReference:_,enclosingRef:Q(_)?_:n,context:s}),O)),_!==void 0&&l.push({[O]:_})}else{const _=ur(y,s.lookupFragment);if(!_&&y.kind===q.FRAGMENT_SPREAD)throw ve(103,y.name.value);_&&o.fragmentMatches(_,c)&&_.selectionSet.selections.forEach(p.add,p)}});const S={result:nu(l),missing:h},g=Qr(S);return g.result&&this.knownResults.set(g.result,e),g}execSubSelectedArrayImpl({field:e,array:t,enclosingRef:n,context:s}){let i,o=new at;function a(c,l){return c.missing&&(i=o.merge(i,{[l]:c.missing})),c.result}return e.selectionSet&&(t=t.filter(s.store.canRead)),t=t.map((c,l)=>c===null?null:G(c)?a(this.executeSubSelectedArray({field:e,array:c,enclosingRef:n,context:s}),l):e.selectionSet?a(this.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,enclosingRef:Q(c)?c:n,context:s}),l):c),{result:t,missing:i}}}function Mu(r){try{JSON.stringify(r,(e,t)=>{if(typeof t=="string")throw t;return t})}catch(e){return e}}function Ar(r,e,t){const n=`${e}${t}`;let s=r.flavors.get(n);return s||r.flavors.set(n,s=r.clientOnly===e&&r.deferred===t?r:{...r,clientOnly:e,deferred:t}),s}class Lu{constructor(e,t,n){b(this,"cache");b(this,"reader");b(this,"fragments");this.cache=e,this.reader=t,this.fragments=n}writeToStore(e,{query:t,result:n,dataId:s,variables:i,overwrite:o}){const a=Pe(t),c=ku();i={...hn(a),...i};const l={store:e,written:{},merge(d,f){return c.merge(d,f)},variables:i,varString:Re(i),...di(t,this.fragments),overwrite:!!o,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},h=this.processSelectionSet({result:n||{},dataId:s,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:l});if(!Q(h))throw ve(105,n);return l.incomingById.forEach(({storeObject:d,mergeTree:f,fieldNodeSet:p},m)=>{const S=et(m);if(f&&f.map.size){const g=this.applyMerges(f,S,d,l);if(Q(g))return;d=g}e.merge(m,d)}),e.retain(h.__ref),h}processSelectionSet({dataId:e,result:t,selectionSet:n,context:s,mergeTree:i}){const{policies:o}=this.cache;let a={};const c=e&&o.rootTypenamesById[e]||rn(t,n,s.fragmentMap)||e&&s.store.get(e,"__typename");typeof c=="string"&&(a.__typename=c);const l=(...d)=>{const f=gn(d,a,s.variables);if(Q(f.from)){const p=s.incomingById.get(f.from.__ref);if(p){const m=o.readField({...f,from:p.storeObject},s);if(m!==void 0)return m}}return o.readField(f,s)},h=new Set;this.flattenFields(n,t,s,c).forEach((d,f)=>{const p=ut(f),m=t[p];if(h.add(f),m!==void 0){const S=o.getStoreFieldName({typename:c,fieldName:f.name.value,field:f,variables:d.variables}),g=Xn(i,S);let y=this.processFieldValue(m,f,f.selectionSet?Ar(d,!1,!1):d,g),_;f.selectionSet&&(Q(y)||Xe(y))&&(_=l("__typename",y));const O=o.getMergeFunction(c,f.name.value,_);O?g.info={field:f,typename:c,merge:O}:Zn(i,S),a=d.merge(a,{[S]:y})}});try{const[d,f]=o.identify(t,{typename:c,selectionSet:n,fragmentMap:s.fragmentMap,storeObject:a,readField:l});e=e||d,f&&(a=s.merge(a,f))}catch(d){if(!e)throw d}if(typeof e=="string"){const d=et(e),f=s.written[e]||(s.written[e]=[]);if(f.indexOf(n)>=0||(f.push(n),this.reader&&this.reader.isFresh(t,d,n,s)))return d;const p=s.incomingById.get(e);return p?(p.storeObject=s.merge(p.storeObject,a),p.mergeTree=tn(p.mergeTree,i),h.forEach(m=>p.fieldNodeSet.add(m))):s.incomingById.set(e,{storeObject:a,mergeTree:tr(i)?void 0:i,fieldNodeSet:h}),d}return a}processFieldValue(e,t,n,s){return!t.selectionSet||e===null?e:G(e)?e.map((i,o)=>{const a=this.processFieldValue(i,t,n,Xn(s,o));return Zn(s,o),a}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:s})}flattenFields(e,t,n,s=rn(t,e,n.fragmentMap)){const i=new Map,{policies:o}=this.cache,a=new Me(!1);return function c(l,h){const d=a.lookup(l,h.clientOnly,h.deferred);d.visited||(d.visited=!0,l.selections.forEach(f=>{if(!fr(f,n.variables))return;let{clientOnly:p,deferred:m}=h;if(!(p&&m)&&dn(f.directives)&&f.directives.forEach(S=>{const g=S.name.value;if(g==="client"&&(p=!0),g==="defer"){const y=cn(S,n.variables);(!y||y.if!==!1)&&(m=!0)}}),Rt(f)){const S=i.get(f);S&&(p=p&&S.clientOnly,m=m&&S.deferred),i.set(f,Ar(n,p,m))}else{const S=ur(f,n.lookupFragment);if(!S&&f.kind===q.FRAGMENT_SPREAD)throw ve(107,f.name.value);S&&o.fragmentMatches(S,s,t,n.variables)&&c(S.selectionSet,Ar(n,p,m))}}))}(e,n),i}applyMerges(e,t,n,s,i){if(e.map.size&&!Q(n)){const o=!G(n)&&(Q(t)||Xe(t))?t:void 0,a=n;o&&!i&&(i=[Q(o)?o.__ref:o]);let c;const l=(h,d)=>G(h)?typeof d=="number"?h[d]:void 0:s.store.getFieldValue(h,String(d));e.map.forEach((h,d)=>{const f=l(o,d),p=l(a,d);if(p===void 0)return;i&&i.push(d);const m=this.applyMerges(h,f,p,s,i);m!==p&&(c=c||new Map,c.set(d,m)),i&&L(i.pop()===d)}),c&&(n=G(a)?a.slice(0):{...a},c.forEach((h,d)=>{n[d]=h}))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,s,i&&s.store.getStorage(...i)):n}}const _i=[];function Xn({map:r},e){return r.has(e)||r.set(e,_i.pop()||{map:new Map}),r.get(e)}function tn(r,e){if(r===e||!e||tr(e))return r;if(!r||tr(r))return e;const t=r.info&&e.info?{...r.info,...e.info}:r.info||e.info,n=r.map.size&&e.map.size,s=n?new Map:r.map.size?r.map:e.map,i={info:t,map:s};if(n){const o=new Set(e.map.keys());r.map.forEach((a,c)=>{i.map.set(c,tn(a,e.map.get(c))),o.delete(c)}),o.forEach(a=>{i.map.set(a,tn(e.map.get(a),r.map.get(a)))})}return i}function tr(r){return!r||!(r.info||r.map.size)}function Zn({map:r},e){const t=r.get(e);t&&tr(t)&&(_i.push(t),r.delete(e))}function rn(r,e,t){let n;for(const s of e.selections)if(Rt(s)){if(s.name.value==="__typename")return r[ut(s)]}else n?n.push(s):n=[s];if(typeof r.__typename=="string")return r.__typename;if(n)for(const s of n){const i=rn(r,ur(s,t).selectionSet,t);if(typeof i=="string")return i}}class qu extends wu{constructor(t={}){super();b(this,"data");b(this,"optimisticData");b(this,"config");b(this,"watches",new Set);b(this,"storeReader");b(this,"storeWriter");b(this,"addTypenameTransform",new Ne(li));b(this,"maybeBroadcastWatch");b(this,"assumeImmutableResults",!0);b(this,"policies");b(this,"makeVar",Iu);b(this,"txCount",0);this.config=_u(t),this.policies=new Fu({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){const t=this.data=new hr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()}resetResultCache(){const{fragments:t}=this.config;this.addTypenameTransform.resetCache(),t==null||t.resetCaches(),this.storeWriter=new Lu(this,this.storeReader=new Du({cache:this,fragments:t}),t),this.maybeBroadcastWatch=it((n,s)=>this.broadcastWatch(n,s),{max:Te["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:n=>{const s=n.optimistic?this.optimisticData:this.data;if(Ot(s)){const{optimistic:i,id:o,variables:a}=n;return s.makeCacheKey(n.query,n.callback,Re({optimistic:i,id:o,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(n=>n.resetCaching())}restore(t){return this.init(),t&&this.data.replace(t),this}extract(t=!1){return(t?this.optimisticData:this.data).extract()}read(t){const{returnPartialData:n=!1}=t;return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n}).result}write(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}modify(t){if(X.call(t,"id")&&!t.id)return!1;const n=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(t.id||"ROOT_QUERY",t.fields,!1)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}diff(t){return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config})}watch(t){return this.watches.size||Pu(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),()=>{this.watches.delete(t)&&!this.watches.size&&Un(this),this.maybeBroadcastWatch.forget(t)}}gc(t){Re.reset(),tt.reset();const n=this.optimisticData.gc();return t&&!this.txCount&&t.resetResultCache&&this.resetResultCache(),n}retain(t,n){return(n?this.optimisticData:this.data).retain(t)}release(t,n){return(n?this.optimisticData:this.data).release(t)}identify(t){if(Q(t))return t.__ref;try{return this.policies.identify(t)[0]}catch{}}evict(t){if(!t.id){if(X.call(t,"id"))return!1;t={...t,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}reset(t){return this.init(),Re.reset(),t&&t.discardWatches?(this.watches.forEach(n=>this.maybeBroadcastWatch.forget(n)),this.watches.clear(),Un(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(t){const n=this.optimisticData.removeLayer(t);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())}batch(t){const{update:n,optimistic:s=!0,removeOptimistic:i,onWatchUpdated:o}=t;let a;const c=h=>{const{data:d,optimisticData:f}=this;++this.txCount,h&&(this.data=this.optimisticData=h);try{return a=n(this)}finally{--this.txCount,this.data=d,this.optimisticData=f}},l=new Set;return o&&!this.txCount&&this.broadcastWatches({...t,onWatchUpdated(h){return l.add(h),!1}}),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,c):s===!1?c(this.data):c(),typeof i=="string"&&(this.optimisticData=this.optimisticData.removeLayer(i)),o&&l.size?(this.broadcastWatches({...t,onWatchUpdated(h,d){const f=o.call(this,h,d);return f!==!1&&l.delete(h),f}}),l.size&&l.forEach(h=>this.maybeBroadcastWatch.dirty(h))):this.broadcastWatches(t),a}performTransaction(t,n){return this.batch({update:t,optimistic:n||n!==null})}transformDocument(t){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(t))}fragmentMatches(t,n){return this.policies.fragmentMatches(t,n)}lookupFragment(t){var n;return((n=this.config.fragments)==null?void 0:n.lookup(t))||null}broadcastWatches(t){this.txCount||this.watches.forEach(n=>this.maybeBroadcastWatch(n,t))}addFragmentsToDocument(t){const{fragments:n}=this.config;return n?n.transform(t):t}broadcastWatch(t,n){const{lastDiff:s}=t,i=this.diff(t);n&&(t.optimistic&&typeof n.optimistic=="string"&&(i.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,t,i,s)===!1)||(!s||!H(s.result,i.result))&&t.callback(t.lastDiff=i,s)}}function Ft(r,e){return typeof r=="object"&&r!==null&&r[Symbol.for("apollo.error")]===e}function Dt(r){Object.defineProperty(r,Symbol.for("apollo.error"),{value:r.name,enumerable:!1,writable:!1,configurable:!1})}function es(r){return r.map(e=>e.message||"Error message not found.").join(`
`)}const Et=class Et extends Error{constructor(t){super(Et.formatMessage(t,{defaultFormatMessage:es}));b(this,"errors");this.name="CombinedProtocolErrors",this.errors=t,Dt(this),Object.setPrototypeOf(this,Et.prototype)}static is(t){return Ft(t,"CombinedProtocolErrors")}};b(Et,"formatMessage",es);let rr=Et;function Bu(r){return r!==null&&typeof r=="object"&&typeof r.message=="string"&&typeof r.name=="string"&&(typeof r.stack=="string"||typeof r.stack>"u")}class vn extends Error{static is(e){return Ft(e,"UnconventionalError")}constructor(e){super("An error of unexpected shape occurred.",{cause:e}),this.name="UnconventionalError",Dt(this),Object.setPrototypeOf(this,vn.prototype)}}function ts(r){return r.filter(e=>e).map(e=>e.message||"Error message not found.").join(`
`)}const jt=class jt extends Error{constructor(t,n=t.errors||[]){super(jt.formatMessage(n,{result:t,defaultFormatMessage:ts}));b(this,"errors");b(this,"data");b(this,"extensions");this.errors=n,this.data=t.data,this.extensions=t.extensions,this.name="CombinedGraphQLErrors",Dt(this),Object.setPrototypeOf(this,jt.prototype)}static is(t){return Ft(t,"CombinedGraphQLErrors")}};b(jt,"formatMessage",ts);let $e=jt;const Vu=new WeakSet;function zu(r){Vu.add(r)}class dr extends Error{constructor(t,n){super(t);b(this,"response");b(this,"statusCode");b(this,"bodyText");this.name="ServerError",this.response=n.response,this.statusCode=n.response.status,this.bodyText=n.bodyText,Dt(this),Object.setPrototypeOf(this,dr.prototype)}static is(t){return Ft(t,"ServerError")}}class pr extends Error{constructor(t,n){super(t instanceof Error?t.message:"Could not parse server response",{cause:t});b(this,"response");b(this,"statusCode");b(this,"bodyText");this.name="ServerParseError",this.response=n.response,this.statusCode=n.response.status,this.bodyText=n.bodyText,Dt(this),Object.setPrototypeOf(this,pr.prototype)}static is(t){return Ft(t,"ServerParseError")}}const nr=Symbol();function $u(r){return"extensions"in r?rr.is(r.extensions[nr]):!1}function Wu(r){return Bu(r)?r:typeof r=="string"?new Error(r,{cause:r}):new vn(r)}const{assign:rs}=Object,Ge={loading:!0,networkStatus:A.loading,data:void 0,dataState:"empty",partial:!0},Rr={loading:!1,networkStatus:A.ready,data:void 0,dataState:"empty",partial:!0};var ms;ms=Symbol.observable;class Fr{constructor({queryManager:e,options:t,transformedQuery:n=e.transform(t.query)}){b(this,"options");b(this,"queryName");b(this,"_lastWrite");b(this,"unsubscribeFromCache");b(this,"input");b(this,"subject");b(this,"isTornDown");b(this,"queryManager");b(this,"subscriptions",new Set);b(this,"waitForNetworkResult");b(this,"lastQuery");b(this,"linkSubscription");b(this,"pollingInfo");b(this,"subscribe");b(this,"pipe");b(this,ms);b(this,"@@observable");b(this,"stableLastResult");b(this,"didWarnCacheOnlyPolling",!1);b(this,"dirty",!1);b(this,"notifyTimeout");b(this,"activeOperations",new Set);b(this,"operator",Yr(e=>{const{query:t,variables:n,meta:s}=e;if(e.source==="setResult")return{query:t,variables:n,result:e.value,meta:s};if(e.kind==="C"||!vt(e,this))return;let i;const o=this.subject.getValue();if(e.source==="cache"){if(i=e.value,i.networkStatus===A.ready&&i.partial&&(!this.options.returnPartialData||o.result.networkStatus===A.error)&&this.options.fetchPolicy!=="cache-only")return}else if(e.source==="network")this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),i=e.kind==="E"?{...vt(o,e)?o.result:{data:void 0,dataState:"empty",partial:!0},error:e.error,networkStatus:A.error,loading:!1}:e.value,e.kind==="E"&&i.dataState==="streaming"&&(i.dataState="complete"),i.error&&(s.shouldEmit=1);else if(e.source==="newNetworkStatus"){const a=vt(o,e)?o.result:this.getInitialResult(s.fetchPolicy),{resetError:c}=e.value,l=c?void 0:a.error,h=l?A.error:A.ready;i={...a,error:l,networkStatus:h}}return L(i),i.error||delete i.error,i.networkStatus=this.calculateNetworkStatus(i.networkStatus),i.loading=Xr(i.networkStatus),i=this.maskResult(i),{query:t,variables:n,result:i,meta:s}}));this.queryManager=e,this.waitForNetworkResult=t.fetchPolicy==="network-only",this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:s="cache-first"}={}}=e.defaultOptions,{fetchPolicy:i=s,initialFetchPolicy:o=i==="standby"?s:i}=t;this.lastQuery=n,this.options={...t,initialFetchPolicy:o,fetchPolicy:i,variables:this.getVariablesWithDefaults(t.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const a=Pe(this.query);this.queryName=a&&a.name&&a.name.value}get query(){return this.lastQuery}get variables(){return this.options.variables}get networkStatus(){return this.subject.getValue().result.networkStatus}initializeObservablesQueue(){this.subject=new Jc({query:this.query,variables:this.variables,result:Ge,meta:{}});const e=this.subject.pipe(er({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),Yr(({query:t,variables:n,result:s,meta:i},o)=>{const{shouldEmit:a}=i;if(s===Ge&&(o.previous=void 0,o.previousVariables=void 0),this.options.fetchPolicy==="standby"||a===2)return;if(a===1)return h();const{previous:c,previousVariables:l}=o;if(c){const d=this.queryManager.getDocumentInfo(t),f=this.queryManager.dataMasking,p=f?d.nonReactiveQuery:t;if((f||d.hasNonreactiveDirective?ci(p,c,s,n):H(c,s))&&H(l,n))return}if(a===3&&(!this.options.notifyOnNetworkStatusChange||H(c,s)))return;return h();function h(){return o.previous=s,o.previousVariables=n,s}},()=>({})));this.pipe=e.pipe.bind(e),this.subscribe=e.subscribe.bind(e),this.input=new lt,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}getCacheDiff({optimistic:e=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:e})}getInitialResult(e){const t=this.queryManager.prioritizeCacheValues?"cache-first":e||this.options.fetchPolicy,n=()=>{const s=this.getCacheDiff(),i=this.options.returnPartialData||s.complete?s.result??void 0:void 0;return this.maskResult({data:i,dataState:s.complete?"complete":i===void 0?"empty":"partial",loading:!s.complete,networkStatus:s.complete?A.ready:A.loading,partial:!s.complete})};switch(t){case"cache-only":return{...n(),loading:!1,networkStatus:A.ready};case"cache-first":return n();case"cache-and-network":return{...n(),loading:!0,networkStatus:A.loading};case"standby":return Rr;default:return Ge}}resubscribeCache(){var c;const{variables:e,fetchPolicy:t}=this.options,n=this.query,s=t==="standby"||t==="no-cache"||this.waitForNetworkResult,i=!vt({query:n,variables:e},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((s||i)&&((c=this.unsubscribeFromCache)==null||c.call(this)),s||!i)return;const o={query:n,variables:e,optimistic:!0,watcher:this,callback:l=>{const h=this.queryManager.getDocumentInfo(n);if((h.hasClientExports||h.hasForcedResolvers)&&(o.lastDiff=void 0),o.lastOwnDiff===l)return;const{result:d}=this.subject.getValue();!l.complete&&(d.error||d===Ge||d===Rr)||H(d.data,l.result)||this.scheduleNotify()}},a=this.queryManager.cache.watch(o);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,a()},{query:n,variables:e})}getCurrentResult(){const{result:e}=this.subject.getValue();let t=e.networkStatus===A.error||this.hasObservers()||this.options.fetchPolicy==="no-cache"?e:this.getInitialResult();return t===Ge&&(t=this.getInitialResult()),H(this.stableLastResult,t)||(this.stableLastResult=t),this.stableLastResult}refetch(e){const{fetchPolicy:t}=this.options,n={pollInterval:0};return t==="no-cache"?n.fetchPolicy="no-cache":n.fetchPolicy="network-only",e&&!H(this.variables,e)&&(n.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...e})),this._lastWrite=void 0,this._reobserve(n,{newNetworkStatus:A.refetch})}fetchMore({query:e,variables:t,context:n,errorPolicy:s,updateQuery:i}){L(this.options.fetchPolicy!=="cache-only",78,ot(this.query,"(anonymous)"));const o={...ke(this.options,{errorPolicy:"none"},{query:e,context:n,errorPolicy:s}),variables:e?t:{...this.variables,...t},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};o.query=this.transformDocument(o.query),this.lastQuery=e?this.transformDocument(this.options.query):o.query;let a=!1;const c=this.options.fetchPolicy!=="no-cache";c||L(i,79);const{finalize:l,pushNotification:h}=this.pushOperation(A.fetchMore);return h({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(o,A.fetchMore).then(d=>{if(l(),c){const f=this.getCacheDiff();this.queryManager.cache.batch({update:p=>{i?p.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},m=>i(m,{fetchMoreResult:d.data,variables:o.variables})):p.writeQuery({query:o.query,variables:o.variables,data:d.data})},onWatchUpdated:(p,m)=>{p.watcher===this&&!H(m.result,f.result)&&(a=!0)}})}else{const f=this.getCurrentResult(),p=i(f.data,{fetchMoreResult:d.data,variables:o.variables});h({kind:"N",value:{...f,networkStatus:A.ready,loading:!1,data:p,dataState:f.dataState==="streaming"?"streaming":"complete"},source:"network"})}return this.maskResult(d)}).finally(()=>{l(),c&&!a&&h({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(e){const t=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:n=>{const{updateQuery:s,onError:i}=e,{error:o}=n;if(o){i?i(o):L.error(80,o);return}s&&this.updateQuery((a,c)=>s(a,{subscriptionData:n,...c}))}});return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)&&t.unsubscribe()}}applyOptions(e){const t=ke(this.options,e||{});rs(this.options,t),this.updatePolling()}async setVariables(e){return e=this.getVariablesWithDefaults(e),H(this.variables,e)?Qt(this.getCurrentResult()):(this.options.variables=e,this.hasObservers()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},{newNetworkStatus:A.setVariables}):Qt(this.getCurrentResult()))}updateQuery(e){const{queryManager:t}=this,{result:n,complete:s}=this.getCacheDiff({optimistic:!1}),i=e(n,{variables:this.variables,complete:!!s,previousData:n});i&&(t.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),t.broadcastQueries())}startPolling(e){this.options.pollInterval=e,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(e,t){if(t.nextFetchPolicy){const{fetchPolicy:n="cache-first",initialFetchPolicy:s=n}=t;n==="standby"||(typeof t.nextFetchPolicy=="function"?t.fetchPolicy=t.nextFetchPolicy.call(t,n,{reason:e,options:t,observable:this,initialFetchPolicy:s}):e==="variables-changed"?t.fetchPolicy=s:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy}fetch(e,t,n,s){const i=this.options.fetchPolicy;e.context??(e.context={});let o=!1;const a=()=>{o=!0},c=g=>new Y(y=>{try{return g.subscribe({next(_){o=!0,y.next(_)},error:_=>y.error(_),complete:()=>y.complete()})}finally{o||(p.override=t,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:d,variables:f,meta:{shouldEmit:3,fetchPolicy:i}}))}});let{observable:l,fromLink:h}=this.queryManager.fetchObservableWithInfo(e,{networkStatus:t,query:n,onCacheHit:a,fetchQueryOperator:c,observableQuery:this});const{query:d,variables:f}=this,p={abort:()=>{S.unsubscribe()},query:d,variables:f};this.activeOperations.add(p);let m=t==A.refetch||t==A.setVariables;l=l.pipe(s,Zt());const S=l.pipe(er({next:g=>{g.source==="newNetworkStatus"||g.kind==="N"&&g.value.loading?p.override=t:delete p.override},finalize:()=>this.activeOperations.delete(p)})).subscribe({next:g=>{const y={};m&&g.kind==="N"&&"loading"in g.value&&!g.value.loading&&(m=!1,y.shouldEmit=1),this.input.next({...g,query:d,variables:f,meta:y})}});return{fromLink:h,subscription:S,observable:l}}updatePolling(){if(this.queryManager.ssrMode)return;const{pollingInfo:e,options:{fetchPolicy:t,pollInterval:n}}=this;if(!n||!this.hasObservers()||t==="cache-only"){this.cancelPolling();return}if((e==null?void 0:e.interval)===n)return;const s=e||(this.pollingInfo={});s.interval=n;const i=()=>{var a,c;this.pollingInfo&&(!Xr(this.networkStatus)&&!((c=(a=this.options).skipPollAttempt)!=null&&c.call(a))?this._reobserve({fetchPolicy:this.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},{newNetworkStatus:A.poll}).then(o,o):o())},o=()=>{const a=this.pollingInfo;a&&(clearTimeout(a.timeout),a.timeout=setTimeout(i,a.interval))};o()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(e){return this._reobserve(e)}_reobserve(e,t){this.isTornDown=!1;let{newNetworkStatus:n}=t||{};this.queryManager.obsQueries.add(this);const s=n===A.refetch||n===A.poll,i=this.variables,o=this.options.fetchPolicy,a=ke(this.options,e||{}),c=s?a:rs(this.options,a),l=this.transformDocument(c.query);this.lastQuery=l,e&&"variables"in e&&(c.variables=this.getVariablesWithDefaults(e.variables)),s||(this.updatePolling(),e&&e.variables&&!H(e.variables,i)&&c.fetchPolicy!=="standby"&&(c.fetchPolicy===o||typeof c.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",c),n===void 0&&(n=A.setVariables)));const h=this.networkStatus;n||(n=A.loading,h!==A.loading&&(e!=null&&e.variables)&&!H(e.variables,i)&&(n=A.setVariables),c.fetchPolicy==="standby"&&(n=A.ready)),c.fetchPolicy==="standby"&&this.cancelPolling(),this.resubscribeCache();const{promise:d,operator:f}=Qu(y=>{switch(y.kind){case"E":throw y.error;case"N":if(y.source!=="newNetworkStatus"&&!y.value.loading)return y.value}},c.fetchPolicy==="standby"?{data:void 0}:void 0),{subscription:p,observable:m,fromLink:S}=this.fetch(c,n,l,f);!s&&(S||!this.linkSubscription)&&(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=p);const g=Object.assign(su(d.then(y=>Qt(this.maskResult(y))).finally(()=>{!this.hasObservers()&&this.activeOperations.size===0&&this.tearDownQuery()})),{retain:()=>{const y=m.subscribe({}),_=()=>y.unsubscribe();return d.then(_,_),g}});return g}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){var e;this.isTornDown||(this.resetNotifications(),(e=this.unsubscribeFromCache)==null||e.call(this),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(e){return this.queryManager.transform(e)}maskResult(e){const t=this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,cause:this});return t===e.data?e:{...e,data:t}}resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(e=!1){if(!e){const n=this.queryManager.getDocumentInfo(this.query);if(n.hasClientExports||n.hasForcedResolvers)return}const{dirty:t}=this;if(this.resetNotifications(),t&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!this.activeOperations.size)){const n=this.getCacheDiff();H(n.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:n.result,dataState:n.complete?"complete":n.result?"partial":"empty",networkStatus:A.ready,loading:!1,error:void 0,partial:!n.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}pushOperation(e){let t=!1;const{query:n,variables:s}=this,i=()=>{this.activeOperations.delete(o)},o={override:e,abort:()=>{t=!0,i()},query:n,variables:s};return this.activeOperations.add(o),{finalize:i,pushNotification:(a,c)=>{t||this.input.next({...a,query:n,variables:s,meta:{...c}})}}}calculateNetworkStatus(e){if(e===A.streaming)return e;const t=Array.from(this.activeOperations.values()).findLast(n=>vt(n,this)&&n.override!==void 0);return(t==null?void 0:t.override)??e}abortActiveOperations(){this.activeOperations.forEach(e=>e.abort())}reset(){const e=this.options.fetchPolicy==="cache-only";this.setResult(e?Rr:Ge,{shouldEmit:e?1:2}),this.abortActiveOperations()}setResult(e,t){this.input.next({source:"setResult",kind:"N",value:e,query:this.query,variables:this.variables,meta:{...t}})}reobserveCacheFirst(){const{fetchPolicy:e,nextFetchPolicy:t}=this.options;e==="cache-and-network"||e==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(n,s){return this.nextFetchPolicy=t,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(n,s):e}}):this.reobserve()}getVariablesWithDefaults(e){return this.queryManager.getVariables(this.query,e)}}function vt(r,e){return!!(r&&e&&r.query===e.query&&H(r.variables,e.variables))}function Qu(r,e){let t=e,n,s;const i=new Promise((a,c)=>{n=a,s=c}),o=er({next(a){try{const c=r(a);c!==void 0&&(t=c)}catch(c){s(c)}},finalize:()=>{if(t)n(t);else{const a="The operation was aborted.",c="AbortError";s(typeof DOMException<"u"?new DOMException(a,c):Object.assign(new Error(a),{name:c}))}}});return{promise:i,operator:o}}const ns={},Ze=new WeakMap;function Dr(r,e){const t=r[e];typeof t=="function"&&(r[e]=function(){return Ze.set(r,(Ze.get(r)+1)%1e15),t.apply(this,arguments)})}const ss=new WeakMap;class Mr{constructor(e,t){b(this,"lastRequestId",1);b(this,"cache");b(this,"queryManager");b(this,"id");b(this,"observableQuery");b(this,"incremental");b(this,"_lastWrite");const n=this.cache=e.cache,s=(ss.get(e)||0)+1;ss.set(e,s),this.id=s+"",this.observableQuery=t,this.queryManager=e,Ze.has(n)||(Ze.set(n,0),Dr(n,"evict"),Dr(n,"modify"),Dr(n,"reset"))}get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(e){(this.observableQuery||this)._lastWrite=e}resetLastWrite(){this.lastWrite=void 0}shouldWrite(e,t){const{lastWrite:n}=this;return!(n&&n.dmCount===Ze.get(this.cache)&&H(t,n.variables)&&H(e.data,n.result.data))}get hasNext(){return this.incremental?this.incremental.hasNext:!1}maybeHandleIncrementalResult(e,t,n){const{incrementalHandler:s}=this.queryManager;return s.isIncrementalResult(t)?(this.incremental||(this.incremental=s.startRequest({query:n})),this.incremental.handle(e,t)):t}markQueryResult(e,{document:t,variables:n,errorPolicy:s,cacheWriteBehavior:i}){var h;const o={query:t,variables:n,returnPartialData:!0,optimistic:!0};(h=this.observableQuery)==null||h.resetNotifications();const a=i===0,c=a?void 0:this.cache.diff(o);let l=this.maybeHandleIncrementalResult(c==null?void 0:c.result,e,t);return a||(Lr(l,s)?this.cache.batch({onWatchUpdated:(d,f)=>{d.watcher===this.observableQuery&&(d.lastOwnDiff=f)},update:d=>{if(this.shouldWrite(l,n))d.writeQuery({query:t,data:l.data,variables:n,overwrite:i===1}),this.lastWrite={result:l,variables:n,dmCount:Ze.get(this.cache)};else if(c&&c.complete){l={...l,data:c.result};return}const f=d.diff(o);f.complete&&(l={...l,data:f.result})}}):this.lastWrite=void 0),l}markMutationResult(e,t,n=this.cache){const s=[],i=t.cacheWriteBehavior===0;let o=this.maybeHandleIncrementalResult(i?void 0:n.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}).result,e,t.document);if(t.errorPolicy==="ignore"&&(o={...o,errors:[]}),Je(o)&&t.errorPolicy==="none")return Promise.resolve(o);const a=()=>({...o,dataState:this.hasNext?"streaming":"complete"});if(!i&&Lr(o,t.errorPolicy)){s.push({result:o.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables});const{updateQueries:l}=t;l&&this.queryManager.getObservableQueries("all").forEach(h=>{const d=h&&h.queryName;if(!d||!Object.hasOwnProperty.call(l,d))return;const f=l[d],{query:p,variables:m}=h,{result:S,complete:g}=h.getCacheDiff({optimistic:!1});if(g&&S){const y=f(S,{mutationResult:a(),queryName:p&&ot(p)||void 0,queryVariables:m});y&&s.push({result:y,dataId:"ROOT_QUERY",query:p,variables:m})}})}let c=t.refetchQueries;if(typeof c=="function"&&(c=c(a())),s.length>0||(c||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){const l=[];if(this.queryManager.refetchQueries({updateCache:h=>{i||s.forEach(f=>h.write(f));const{update:d}=t;if(d){if(!i){const f=h.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});f.complete&&(o={...o,data:f.result})}this.hasNext||d(h,o,{context:t.context,variables:t.variables})}!i&&!t.keepRootFields&&!this.hasNext&&h.modify({id:"ROOT_MUTATION",fields(f,{fieldName:p,DELETE:m}){return p==="__typename"?f:m}})},include:c,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(h=>l.push(h)),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(l).then(()=>o)}return Promise.resolve(o)}markMutationOptimistic(e,t){const n=typeof e=="function"?e(t.variables,{IGNORE:ns}):e;return n===ns?!1:(this.cache.recordOptimisticTransaction(s=>{try{this.markMutationResult({data:n},t,s)}catch(i){L.error(i)}},this.id),!0)}markSubscriptionResult(e,{document:t,variables:n,errorPolicy:s,cacheWriteBehavior:i}){i!==0&&(Lr(e,s)&&this.cache.write({query:t,result:e.data,dataId:"ROOT_SUBSCRIPTION",variables:n}),this.queryManager.broadcastQueries())}}function Lr(r,e="none"){const t=e==="ignore"||e==="all";let n=!Je(r);return!n&&t&&r.data&&(n=!0),n}class Uu{constructor(e){b(this,"defaultOptions");b(this,"client");b(this,"clientOptions");b(this,"assumeImmutableResults");b(this,"documentTransform");b(this,"ssrMode");b(this,"defaultContext");b(this,"dataMasking");b(this,"incrementalHandler");b(this,"localState");b(this,"queryDeduplication");b(this,"prioritizeCacheValues",!1);b(this,"onBroadcast");b(this,"mutationStore");b(this,"obsQueries",new Set);b(this,"fetchCancelFns",new Map);b(this,"transformCache",new ii(Te["queryManager.getDocumentInfo"]||2e3));b(this,"requestIdCounter",1);b(this,"inFlightLinkObservables",new Me(!1));b(this,"noCacheWarningsByCause",new WeakSet);const t=new Ne(s=>this.cache.transformDocument(s),{cache:!1});this.client=e.client,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientOptions=e.clientOptions,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking,this.localState=e.localState,this.incrementalHandler=e.incrementalHandler;const n=e.documentTransform;this.documentTransform=n?t.concat(n).concat(t):t,this.defaultContext=e.defaultContext||{},(this.onBroadcast=e.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(e=>e.stop()),this.cancelPendingFetches(ve(83))}cancelPendingFetches(e){this.fetchCancelFns.forEach(t=>t(e)),this.fetchCancelFns.clear()}async mutate({mutation:e,variables:t,optimisticResponse:n,updateQueries:s,refetchQueries:i=[],awaitRefetchQueries:o=!1,update:a,onQueryUpdated:c,fetchPolicy:l,errorPolicy:h,keepRootFields:d,context:f}){const p=new Mr(this);e=this.cache.transformForLink(this.transform(e));const{hasClientExports:m}=this.getDocumentInfo(e);t=this.getVariables(e,t),m&&(t=await this.localState.getExportedVariables({client:this.client,document:e,variables:t,context:f}));const S=this.mutationStore&&(this.mutationStore[p.id]={mutation:e,variables:t,loading:!0,error:null}),g=n&&p.markMutationOptimistic(n,{document:e,variables:t,cacheWriteBehavior:l==="no-cache"?0:2,errorPolicy:h,context:f,updateQueries:s,update:a,keepRootFields:d});return this.broadcastQueries(),new Promise((y,_)=>{const O={};return this.getObservableFromLink(e,{...f,optimisticResponse:g?n:void 0},t,{},!1).observable.pipe(is(),Ye(C=>{const k={...C};return ze(p.markMutationResult(k,{document:e,variables:t,cacheWriteBehavior:l==="no-cache"?0:2,errorPolicy:h,context:f,update:a,updateQueries:s,awaitRefetchQueries:o,refetchQueries:i,removeOptimistic:g?p.id:void 0,onQueryUpdated:c,keepRootFields:d}))})).pipe(Qe(C=>{if(Je(C)&&h==="none")throw new $e(C);return S&&(S.loading=!1,S.error=null),C})).subscribe({next:C=>{if(this.broadcastQueries(),!p.hasNext){const k={data:this.maskOperation({document:e,data:C.data,fetchPolicy:l,cause:O})};Je(C)&&(k.error=new $e(C)),Object.keys(C.extensions||{}).length&&(k.extensions=C.extensions),y(k)}},error:C=>{if(S&&(S.loading=!1,S.error=C),g&&this.cache.removeOptimistic(p.id),this.broadcastQueries(),h==="ignore")return y({data:void 0});if(h==="all")return y({data:void 0,error:C});_(C)}})})}fetchQuery(e,t){return Ae(e.query,wt.QUERY),(async()=>yl(this.fetchObservableWithInfo(e,{networkStatus:t}).observable.pipe(Yr(n=>{switch(n.kind){case"E":throw n.error;case"N":if(n.source!=="newNetworkStatus")return Qt(n.value)}})),{defaultValue:{data:void 0}}))()}transform(e){return this.documentTransform.transformDocument(e)}getDocumentInfo(e){const{transformCache:t}=this;if(!t.has(e)){const s=Pe(e),i={hasClientExports:_t(["client","export"],e,!0),hasForcedResolvers:tu(e),hasNonreactiveDirective:_t(["nonreactive"],e),hasIncrementalDirective:_t(["defer"],e),nonReactiveQuery:Hu(e),clientQuery:_t(["client"],e)?e:null,serverQuery:iu([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),operationType:s==null?void 0:s.operation,defaultVars:hn(s),asQuery:{...e,definitions:e.definitions.map(o=>o.kind==="OperationDefinition"&&o.operation!=="query"?{...o,operation:"query"}:o)}};t.set(e,i)}const n=t.get(e);if(n.violation)throw n.violation;return n}getVariables(e,t){const n=this.getDocumentInfo(e).defaultVars,s=Object.entries(t??{}).map(([i,o])=>[i,o===void 0?n[i]:o]);return{...n,...Object.fromEntries(s)}}watchQuery(e){Ae(e.query,wt.QUERY);const t=this.transform(e.query);return e={...e,variables:this.getVariables(t,e.variables)},typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!0),new Fr({queryManager:this,options:e,transformedQuery:t})}query(e){const t=this.transform(e.query);return this.fetchQuery({...e,query:t}).then(n=>({...n,data:this.maskOperation({document:t,data:n==null?void 0:n.data,fetchPolicy:e.fetchPolicy})}))}generateRequestId(){return this.requestIdCounter++}clearStore(e={discardWatches:!0}){return this.cancelPendingFetches(ve(85)),this.obsQueries.forEach(t=>{t.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(e)}getObservableQueries(e="active"){const t=new Set,n=new Map,s=new Map,i=new Set;return Array.isArray(e)&&e.forEach(o=>{if(typeof o=="string")n.set(o,o),s.set(o,!1);else if(ru(o)){const a=tt(this.transform(o));n.set(a,ot(o)),s.set(a,!1)}else ae(o)&&o.query&&i.add(o)}),this.obsQueries.forEach(o=>{const a=tt(this.transform(o.options.query));if(e==="all"){t.add(o);return}const{queryName:c,options:{fetchPolicy:l}}=o;e==="active"&&l==="standby"||(e==="active"||c&&s.has(c)||a&&s.has(a))&&(t.add(o),c&&s.set(c,!0),a&&s.set(a,!0))}),i.size&&i.forEach(o=>{const a=new Fr({queryManager:this,options:{...o,fetchPolicy:"network-only"}});t.add(a)}),t}refetchObservableQueries(e=!1){const t=[];return this.getObservableQueries(e?"all":"active").forEach(n=>{const{fetchPolicy:s}=n.options;(e||s!=="standby")&&s!=="cache-only"&&t.push(n.refetch())}),this.broadcastQueries(),Promise.all(t)}startGraphQLSubscription(e){let{query:t,variables:n}=e;const{fetchPolicy:s,errorPolicy:i="none",context:o={},extensions:a={}}=e;Ae(t,wt.SUBSCRIPTION),t=this.transform(t),n=this.getVariables(t,n);let c;const l=(this.getDocumentInfo(t).hasClientExports?ze(this.localState.getExportedVariables({client:this.client,document:t,variables:n,context:o})):Ve(n)).pipe(Ye(h=>{const{observable:d,restart:f}=this.getObservableFromLink(t,o,h,a),p=new Mr(this);return c=f,d.pipe(Qe(m=>{p.markSubscriptionResult(m,{document:t,variables:h,errorPolicy:i,cacheWriteBehavior:s==="no-cache"?0:2});const S={data:m.data??void 0};return Je(m)?S.error=new $e(m):$u(m)&&(S.error=m.extensions[nr],delete m.extensions[nr]),m.extensions&&Object.keys(m.extensions).length&&(S.extensions=m.extensions),S.error&&i==="none"&&(S.data=void 0),i==="ignore"&&delete S.error,S}),Wt(m=>Ve(i==="ignore"?{data:void 0}:{data:void 0,error:m})),wl(m=>!!(m.data||m.error)))}));return Object.assign(l,{restart:()=>c==null?void 0:c()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(e=>e.notify())}getObservableFromLink(e,t,n,s,i=(t==null?void 0:t.queryDeduplication)??this.queryDeduplication){let o={};const{serverQuery:a,clientQuery:c,operationType:l,hasIncrementalDirective:h}=this.getDocumentInfo(e),d=ot(e),f={client:this.client};if(a){const{inFlightLinkObservables:p,link:m}=this;try{let g=function(y){return new Y(_=>{function O(){return y.subscribe({next:_.next.bind(_),complete:_.complete.bind(_),error:_.error.bind(_)})}let C=O();return o.restart||(o.restart=()=>{C.unsubscribe(),C=O()}),()=>{C.unsubscribe(),o.restart=void 0}})};const S=this.incrementalHandler.prepareRequest({query:a,variables:n,context:{...this.defaultContext,...t,queryDeduplication:i},extensions:s});if(t=S.context,i){const y=tt(a),_=Re(n);o=p.lookup(y,_),o.observable||(o.observable=Jr(m,S,f).pipe(g,Sl(()=>{p.peek(y,_)===o&&p.remove(y,_)}),l===wt.SUBSCRIPTION?Zt():kl({refCount:!0})))}else o.observable=Jr(m,S,f).pipe(g)}catch(S){o.observable=Qs(()=>S)}}else o.observable=Ve({data:{}});if(c){const{operation:p}=Pe(e);L(!h,90,p[0].toUpperCase()+p.slice(1),d??"(anonymous)"),o.observable=o.observable.pipe(Ye(m=>ze(this.localState.execute({client:this.client,document:c,remoteResult:m,context:t,variables:n}))))}return{restart:()=>{var p;return(p=o.restart)==null?void 0:p.call(o)},observable:o.observable.pipe(Wt(p=>{throw p=Wu(p),zu(p),p}))}}getResultsFromLink(e,{queryInfo:t,cacheWriteBehavior:n,observableQuery:s}){const i=t.lastRequestId=this.generateRequestId(),{errorPolicy:o}=e,a=this.cache.transformForLink(e.query);return this.getObservableFromLink(a,e.context,e.variables).observable.pipe(Qe(c=>{const l=t.markQueryResult(c,{...e,document:a,cacheWriteBehavior:n}),h=Je(l);if(h&&o==="none")throw t.resetLastWrite(),s==null||s.resetNotifications(),new $e(l);const d={data:l.data,...t.hasNext?{loading:!0,networkStatus:A.streaming,dataState:"streaming",partial:!0}:{dataState:l.data?"complete":"empty",loading:!1,networkStatus:A.ready,partial:!l.data}};return h&&(o==="none"&&(d.data=void 0,d.dataState="empty"),o!=="ignore"&&(d.error=new $e(l),d.dataState!=="streaming"&&(d.networkStatus=A.error))),d}),Wt(c=>{if(i>=t.lastRequestId&&o==="none")throw t.resetLastWrite(),s==null||s.resetNotifications(),c;const l={data:void 0,dataState:"empty",loading:!1,networkStatus:A.ready,partial:!0};return o!=="ignore"&&(l.error=c,l.networkStatus=A.error),Ve(l)}))}fetchObservableWithInfo(e,{networkStatus:t=A.loading,query:n=e.query,fetchQueryOperator:s=a=>a,onCacheHit:i=()=>{},observableQuery:o}){const a=this.getVariables(n,e.variables),c=this.defaultOptions.watchQuery;let{fetchPolicy:l=c&&c.fetchPolicy||"cache-first",errorPolicy:h=c&&c.errorPolicy||"none",returnPartialData:d=!1,notifyOnNetworkStatusChange:f=!0,context:p={}}=e;this.prioritizeCacheValues&&(l==="network-only"||l==="cache-and-network")&&(l="cache-first");const m=Object.assign({},e,{query:n,variables:a,fetchPolicy:l,errorPolicy:h,returnPartialData:d,notifyOnNetworkStatusChange:f,context:p}),S=new Mr(this,o),g=k=>{m.variables=k;const R=l==="no-cache"?0:t===A.refetch&&m.refetchWritePolicy!=="merge"?1:2,$=this.fetchQueryByPolicy(m,{queryInfo:S,cacheWriteBehavior:R,onCacheHit:i,observableQuery:o});return $.observable=$.observable.pipe(s),m.fetchPolicy!=="standby"&&(o==null||o.applyNextFetchPolicy("after-fetch",e)),$},y=()=>{this.fetchCancelFns.delete(S.id)};this.fetchCancelFns.set(S.id,k=>{_.next({kind:"E",error:k,source:"network"})});const _=new lt;let O,C;if(this.getDocumentInfo(m.query).hasClientExports)O=ze(this.localState.getExportedVariables({client:this.client,document:m.query,variables:m.variables,context:m.context})).pipe(Ye(k=>g(k).observable)),C=!0;else{const k=g(m.variables);C=k.fromLink,O=k.observable}return{observable:new Y(k=>{k.add(y),O.subscribe(k),_.subscribe(k)}).pipe(Zt()),fromLink:C}}refetchQueries({updateCache:e,include:t,optimistic:n=!1,removeOptimistic:s=n?ho("refetchQueries"):void 0,onQueryUpdated:i}){const o=new Map;t&&this.getObservableQueries(t).forEach(c=>{if(c.options.fetchPolicy==="cache-only")return;const l=c.getCurrentResult();o.set(c,{oq:c,lastDiff:{result:l==null?void 0:l.data,complete:!(l!=null&&l.partial)}})});const a=new Map;if(e){const c=new Set;this.cache.batch({update:e,optimistic:n&&s||!1,removeOptimistic:s,onWatchUpdated(l,h,d){const f=l.watcher;if(f instanceof Fr&&!c.has(f)){if(c.add(f),i){o.delete(f);let p=i(f,h,d);return p===!0&&(p=f.refetch().retain()),p!==!1&&a.set(f,p),p}i!==null&&f.options.fetchPolicy!=="cache-only"&&o.set(f,{oq:f,lastDiff:d,diff:h})}}})}return o.size&&o.forEach(({oq:c,lastDiff:l,diff:h})=>{let d;i&&(h||(h=c.getCacheDiff()),d=i(c,h,l)),(!i||d===!0)&&(d=c.refetch().retain()),d!==!1&&a.set(c,d)}),s&&this.cache.removeOptimistic(s),a}maskOperation(e){const{document:t,data:n}=e;return this.dataMasking?Tu(n,t,this.cache):n}maskFragment(e){const{data:t,fragment:n,fragmentName:s}=e;return this.dataMasking?Nu(t,n,this.cache,s):t}fetchQueryByPolicy({query:e,variables:t,fetchPolicy:n,errorPolicy:s,returnPartialData:i,context:o},{cacheWriteBehavior:a,onCacheHit:c,queryInfo:l,observableQuery:h}){const d=()=>this.cache.diff({query:e,variables:t,returnPartialData:!0,optimistic:!0}),f=(m,S)=>{const g=m.result,y=O=>(!m.complete&&!i&&(O=void 0),{data:O,dataState:m.complete?"complete":O?"partial":"empty",loading:Xr(S),networkStatus:S,partial:!m.complete}),_=O=>Ve({kind:"N",value:y(O),source:"cache"});return(m.complete||i)&&this.getDocumentInfo(e).hasForcedResolvers?(c(),ze(this.localState.execute({client:this.client,document:e,remoteResult:g?{data:g}:void 0,context:o,variables:t,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(O=>({kind:"N",value:y(O.data||void 0),source:"cache"})))):s==="none"&&S===A.refetch&&m.missing?_(void 0):_(g||void 0)},p=()=>this.getResultsFromLink({query:e,variables:t,context:o,fetchPolicy:n,errorPolicy:s},{cacheWriteBehavior:a,queryInfo:l,observableQuery:h}).pipe(is(),_l(),Qe(m=>({...m,source:"network"})));switch(n){default:case"cache-first":{const m=d();return m.complete?{fromLink:!1,observable:f(m,A.ready)}:i?{fromLink:!0,observable:Or(f(m,A.loading),p())}:{fromLink:!0,observable:p()}}case"cache-and-network":{const m=d();return m.complete||i?{fromLink:!0,observable:Or(f(m,A.loading),p())}:{fromLink:!0,observable:p()}}case"cache-only":return{fromLink:!1,observable:Or(f(d(),A.ready))};case"network-only":return{fromLink:!0,observable:p()};case"no-cache":return{fromLink:!0,observable:p()};case"standby":return{fromLink:!1,observable:Xt}}}}function is(){let r=!1;return er({next(){r=!0},complete(){L(r,94)}})}function Hu(r){return xe(r,{FragmentSpread:e=>{var t;if(!((t=e.directives)!=null&&t.some(n=>n.name.value==="unmask")))return{...e,directives:[...e.directives||[],{kind:q.DIRECTIVE,name:{kind:q.NAME,value:"nonreactive"}}]}}})}class Ku{constructor(e){b(this,"link");b(this,"cache");b(this,"disableNetworkFetches");b(this,"version");b(this,"queryDeduplication");b(this,"defaultOptions");b(this,"devtoolsConfig");b(this,"queryManager");b(this,"devToolsHookCb");b(this,"resetStoreCallbacks",[]);b(this,"clearStoreCallbacks",[]);b(this,"reFetchObservableQueries");b(this,"maskedFragmentTransform",new Ne(cu));const{cache:t,documentTransform:n,ssrMode:s=!1,ssrForceFetchDelay:i=0,queryDeduplication:o=!0,defaultOptions:a,defaultContext:c,assumeImmutableResults:l=t.assumeImmutableResults,localState:h,devtools:d,dataMasking:f,link:p,incrementalHandler:m=new du}=e;this.link=p,this.cache=t,this.queryDeduplication=o,this.defaultOptions=a||{},this.devtoolsConfig={...d,enabled:(d==null?void 0:d.enabled)??Dc},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=po,this.queryManager=new Uu({client:this,defaultOptions:this.defaultOptions,defaultContext:c,documentTransform:n,queryDeduplication:o,ssrMode:s,dataMasking:!!f,clientOptions:e,incrementalHandler:m,assumeImmutableResults:l,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:h}),this.prioritizeCacheValues=s||i>0,i&&setTimeout(()=>{this.prioritizeCacheValues=!1},i),this.devtoolsConfig.enabled&&this.connectToDevTools()}set prioritizeCacheValues(e){this.queryManager.prioritizeCacheValues=e}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}connectToDevTools(){if(typeof window>"u")return;const e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(e){this.queryManager.localState=e}stop(){this.queryManager.stop()}watchQuery(e){return this.defaultOptions.watchQuery&&(e=Sr(this.defaultOptions.watchQuery,e)),this.queryManager.watchQuery(e)}query(e){return this.defaultOptions.query&&(e=Sr(this.defaultOptions.query,e)),this.queryManager.query(e)}mutate(e){const t=Sr(ke({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),e);return Ae(t.mutation,wt.MUTATION),this.queryManager.mutate(t)}subscribe(e){const t={},n=this.queryManager.startGraphQLSubscription(e),s=n.pipe(Qe(i=>({...i,data:this.queryManager.maskOperation({document:e.query,data:i.data,fetchPolicy:e.fetchPolicy,cause:t})})));return Object.assign(s,{restart:n.restart})}readQuery(e,t=!1){return this.cache.readQuery({...e,query:this.transform(e.query)},t)}watchFragment(e){const t=this.queryManager.dataMasking;return this.cache.watchFragment({...e,fragment:this.transform(e.fragment,t)}).pipe(Qe(n=>n))}readFragment(e,t=!1){return this.cache.readFragment({...e,fragment:this.transform(e.fragment)},t)}writeQuery(e){const t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}writeFragment(e){const t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}__actionHookForDevTools(e){this.devToolsHookCb=e}__requestRaw(e){return Jr(this.link,e,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(e=>e()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(e=>e())))}onResetStore(e){return this.resetStoreCallbacks.push(e),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(t=>t!==e)}}onClearStore(e){return this.clearStoreCallbacks.push(e),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(t=>t!==e)}}refetchObservableQueries(e){return this.queryManager.refetchObservableQueries(e)}refetchQueries(e){const t=this.queryManager.refetchQueries(e),n=[],s=[];t.forEach((o,a)=>{n.push(a),s.push(o)});const i=Promise.all(s);return i.queries=n,i.results=s,i.catch(o=>{}),i}getObservableQueries(e="active"){return this.queryManager.getObservableQueries(e)}extract(e){return this.cache.extract(e)}restore(e){return this.cache.restore(e)}setLink(e){this.link=e}get defaultContext(){return this.queryManager.defaultContext}transform(e,t=!1){const n=this.queryManager.transform(e);return t?this.maskedFragmentTransform.transformDocument(n):n}}const{hasOwnProperty:os}=Object.prototype;function Gu(r){return ae(r)&&"payload"in r}async function*Yu(r){var f;const e=new TextDecoder("utf-8"),t=(f=r.headers)==null?void 0:f.get("content-type"),n=t==null?void 0:t.match(/;\s*boundary=(?:'([^']+)'|"([^"]+)"|([^"'].+?))\s*(?:;|$)/i),s=`\r
--`+((n==null?void 0:n.findLast(p=>!!p))||"-");let i="";L(r.body&&typeof r.body.getReader=="function",60);const a=r.body.getReader();let c=!1,l=!1,h;const d=()=>l&&i[0]=="-"&&i[1]=="-";try{for(;!c;){({value:h,done:c}=await a.read());const p=typeof h=="string"?h:e.decode(h),m=i.length-s.length+1;i+=p;let S=i.indexOf(s,m);for(;S>-1&&!d();){l=!0;let g;[g,i]=[i.slice(0,S),i.slice(S+s.length)];const y=g.indexOf(`\r
\r
`),O=Xu(g.slice(0,y))["content-type"];if(O&&O.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");const C=g.slice(y);C&&(yield C),S=i.indexOf(s)}if(d())return}throw new Error("premature end of multipart body")}finally{a.cancel()}}async function Ju(r,e){for await(const t of Yu(r)){const n=ki(r,t);if(Object.keys(n).length!=0)if(Gu(n)){if(Object.keys(n).length===1&&n.payload===null)return;let s={...n.payload};"errors"in n&&(s.extensions={...s.extensions,[nr]:new rr(n.errors??[])}),e(s)}else e(n)}}function Xu(r){const e={};return r.split(`
`).forEach(t=>{const n=t.indexOf(":");if(n>-1){const s=t.slice(0,n).trim().toLowerCase(),i=t.slice(n+1).trim();e[s]=i}}),e}function ki(r,e){if(r.status>=300)throw new dr(`Response not successful: Received status code ${r.status}`,{response:r,bodyText:e});try{return JSON.parse(e)}catch(t){throw new pr(t,{response:r,bodyText:e})}}function Zu(r,e){try{return JSON.parse(e)}catch(t){throw new pr(t,{response:r,bodyText:e})}}function ef(r,e){const t=r.headers.get("content-type");return t!=null&&t.includes("application/graphql-response+json")?Zu(r,e):ki(r,e)}function tf(r){return e=>e.text().then(t=>{const n=ef(e,t);if(!Array.isArray(n)&&!os.call(n,"data")&&!os.call(n,"errors"))throw new dr(`Server response was malformed for query '${Array.isArray(r)?r.map(s=>s.operationName):r.operationName}'.`,{response:e,bodyText:t});return n})}const rf={includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},nf={accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},sf={method:"POST"},of={http:rf,headers:nf,options:sf},af=(r,e)=>e(r);function cf(r,e,...t){let n={},s={};t.forEach(h=>{var d;n={...n,...h.options,headers:{...n.headers,...h.headers}},h.credentials&&(n.credentials=h.credentials),n.headers.accept=(((d=h.http)==null?void 0:d.accept)||[]).concat(n.headers.accept).join(","),s={...s,...h.http}}),n.headers=lf(n.headers,s.preserveHeaderCase);const{operationName:i,extensions:o,variables:a,query:c}=r,l={operationName:i,variables:a};return s.includeExtensions&&Object.keys(o||{}).length&&(l.extensions=o),s.includeQuery&&(l.query=e(c,tt)),{options:n,body:l}}function lf(r,e){if(!e){const s={};return Object.keys(Object(r)).forEach(i=>{s[i.toLowerCase()]=r[i]}),s}const t={};Object.keys(Object(r)).forEach(s=>{t[s.toLowerCase()]={originalName:s,value:r[s]}});const n={};return Object.keys(t).forEach(s=>{n[t[s].originalName]=t[s].value}),n}const uf=(r,e)=>{const n=r.getContext().uri;return n||(typeof e=="function"?e(r):e||"/graphql")};function ff(r,e){const t=[],n=(l,h)=>{t.push(`${l}=${encodeURIComponent(h)}`)};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){let l;try{l=JSON.stringify(e.variables)}catch(h){return{parseError:h}}n("variables",l)}if(e.extensions){let l;try{l=JSON.stringify(e.extensions)}catch(h){return{parseError:h}}n("extensions",l)}let s="",i=r;const o=r.indexOf("#");o!==-1&&(s=r.substr(o),i=r.substr(0,o));const a=i.indexOf("?")===-1?"?":"&";return{newURI:i+a+t.join("&")+s}}const hf=Os(()=>fetch);function df(){}class pf extends le{constructor(e={}){let{uri:t="/graphql",fetch:n,print:s=af,includeExtensions:i,preserveHeaderCase:o,useGETForQueries:a,includeUnusedVariables:c=!1,...l}=e;const h={http:ke({includeExtensions:i,preserveHeaderCase:o}),options:l.fetchOptions,credentials:l.credentials,headers:l.headers};super(d=>{let f=uf(d,t);const p=d.getContext(),m={...p.http};vu(d.query)&&(m.accept=["multipart/mixed;boundary=graphql;subscriptionSpec=1.0",...m.accept||[]]);const S={http:m,options:p.fetchOptions,credentials:p.credentials,headers:p.headers},{options:g,body:y}=cf(d,s,of,h,S);y.variables&&!c&&(y.variables=mu(y.variables,d.query));let _=new AbortController,O=()=>{_=void 0};if(g.signal){const C=g.signal,k=()=>{_==null||_.abort(C.reason)};C.addEventListener("abort",k,{once:!0}),O=()=>{_==null||_.signal.removeEventListener("abort",O),_=void 0,C.removeEventListener("abort",k),O=df},_.signal.addEventListener("abort",O,{once:!0})}return g.signal=_.signal,a&&!gu(d.query)&&(g.method="GET"),new Y(C=>{if(g.method==="GET"){const{newURI:$,parseError:ne}=ff(f,y);if(ne)throw ne;f=$}else g.body=JSON.stringify(y);const k=n||Os(()=>fetch)||hf,R=C.next.bind(C);return k(f,g).then($=>{var ue;d.setContext({response:$});const ne=(ue=$.headers)==null?void 0:ue.get("content-type");return ne!==null&&/^multipart\/mixed/i.test(ne)?Ju($,R):tf(d)($).then(R)}).then(()=>{O(),C.complete()}).catch($=>{O(),C.error($)}),()=>{_&&_.abort()}})})}}class mf extends le{constructor(e={}){super((t,n)=>{const s=t.client,i=s.queryManager.clientOptions,o=t.getContext();{const{name:a,version:c,transport:l="headers"}=ke({},i.clientAwareness,e.clientAwareness,o.clientAwareness);l==="headers"&&t.setContext(({headers:h,extensions:d})=>({headers:ke({"apollographql-client-name":a,"apollographql-client-version":c},h)}))}{const{transport:a="extensions"}=ke({},i.enhancedClientAwareness,e.enhancedClientAwareness);a==="extensions"&&(t.extensions=ke({clientLibrary:{name:"@apollo/client",version:s.version}},t.extensions))}return n(t)})}}class yf extends le{constructor(e={}){const{left:t,right:n,request:s}=le.from([new mf(e),new pf(e)]);super(s),Object.assign(this,{left:t,right:n})}}const gf=(r={})=>new yf(r),vf="_paymentIcons_gyl40_1",bf="_icon_gyl40_9",je={paymentIcons:vf,icon:bf},wf=()=>{const r=or();return u.jsxs("div",{className:je.paymentIcons,children:[u.jsx("img",{src:"/svgs/payment-icons/Visa.png",alt:"Visa",className:je.icon}),u.jsx("img",{src:"/svgs/payment-icons/Mastercard.png",alt:"MasterCard",className:je.icon}),u.jsx("img",{src:"/svgs/payment-icons/PayPal.png",alt:"PayPal",className:je.icon}),u.jsx("img",{src:"/svgs/payment-icons/ApplePay.png",alt:"ApplePay",className:je.icon}),u.jsx("img",{src:"/svgs/payment-icons/GooglePay.png",alt:"GooglePay",className:je.icon}),u.jsx("img",{src:"/svgs/payment-icons/Amex.png",alt:"Amex",className:je.icon}),u.jsx("img",{src:"/svgs/payment-icons/ShopPay.png",alt:"ShopifyPay",className:je.icon}),!r&&u.jsx("img",{src:"/svgs/payment-icons/Discover.png",alt:"Discover",className:je.icon})]})},Sf=()=>{var m;const{isCartOpen:r,closeCart:e}=gs(),{lines:t,checkoutUrl:n,cost:s,status:i,linesUpdate:o}=vs(),a=t??[],[c,l]=I.useState(!1),{isDropLocked:h,loading:d}=vo(),f=I.useCallback(S=>{if(a.length===0){S.preventDefault();return}l(!0)},[a.length]),p=I.useCallback(async(S,g)=>{g<0||await o([{id:S,quantity:g}])},[o]);return I.useEffect(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[r]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${W.backdrop} ${r?W.visible:""}`,onClick:e}),u.jsxs("div",{className:`${W.drawer} ${r?W.open:""}`,role:"dialog","aria-modal":"true",tabIndex:-1,style:{transform:r?"translateX(0)":"translateX(200%)"},children:[u.jsxs("div",{className:W.header,children:[u.jsx("p",{children:"Bag"}),u.jsx("button",{onClick:e,className:W.closeBtn,children:u.jsx(Cs,{size:24})})]}),u.jsx("hr",{}),u.jsx("div",{className:W.content,"data-lenis-prevent":!0,children:i==="uninitialized"?u.jsx("p",{children:"Loading cart..."}):a.length===0?u.jsx("p",{children:"Your bag is empty"}):u.jsx("div",{className:W.lineItems,children:a.map(S=>{var g,y,_,O,C,k,R,$,ne,ue,pe,Mt,Le,Lt,ht,Ce,dt;return u.jsxs("div",{className:W.lineItem,children:[u.jsx("div",{className:W.imageContainer,children:u.jsx("img",{src:((y=(g=S.merchandise)==null?void 0:g.image)==null?void 0:y.url)||(($=(R=(k=(C=(O=(_=S.merchandise)==null?void 0:_.product)==null?void 0:O.images)==null?void 0:C.edges)==null?void 0:k[0])==null?void 0:R.node)==null?void 0:$.transformedSrc)||"",alt:((ue=(ne=S.merchandise)==null?void 0:ne.product)==null?void 0:ue.title)||"Cart item"})}),u.jsxs("div",{className:W.itemInfo,children:[u.jsxs("div",{className:W.flexBoxPriceSize,children:[u.jsx("p",{children:(Mt=(pe=S.merchandise)==null?void 0:pe.product)==null?void 0:Mt.title}),u.jsx("div",{className:W.flex_grower}),u.jsxs("p",{children:["$",Number(((Lt=(Le=S.cost)==null?void 0:Le.totalAmount)==null?void 0:Lt.amount)??((Ce=(ht=S.cost)==null?void 0:ht.subtotalAmount)==null?void 0:Ce.amount)??0).toFixed(2)]})]}),u.jsx("p",{className:W.sizeText,children:(dt=S.merchandise)==null?void 0:dt.title}),u.jsx("div",{className:W.sizeAdjustments,children:u.jsxs("div",{className:W.sizeAdjuster,children:[u.jsx("div",{className:W.sizeAdjusterBtn,onClick:()=>{p(S.id,Math.max(S.quantity-1,0))},children:u.jsx(uc,{})}),u.jsx("div",{className:W.sizeAdjusterCount,children:S.quantity}),u.jsx("div",{className:W.sizeAdjusterBtn,onClick:()=>{p(S.id,S.quantity+1)},children:u.jsx(Vt,{})})]})})]})]},S.id)})})}),!d&&!h&&u.jsx("div",{className:W.recommendedProductsWrapper,children:u.jsx(mo,{withAddToCart:!0,onClick:e})}),u.jsxs("div",{className:W.footer,children:[u.jsxs("div",{className:W.checkoutText,children:[u.jsx("p",{children:"Subtotal:"}),u.jsxs("p",{children:["$",Number(((m=s==null?void 0:s.subtotalAmount)==null?void 0:m.amount)??0).toFixed(2)]})]}),u.jsx("a",{href:a.length>0&&n?n:"#",className:`${a.length===0?W.disabled:""}`,onClick:f,children:u.jsx("div",{className:`${W.checkoutBtn} ${c?W.checkoutBtnLoading:""}`,children:a.length===0?"Cart is empty":c?"Processing...":"Proceed to checkout"})}),u.jsx(wf,{})]})]})]})},_f=({children:r})=>{const{pathname:e}=ys(),[t,n]=I.useState(!1);or();const[s,i]=I.useState(!1),o=e.substring(1);return u.jsxs("div",{className:En.layoutContainer,children:[u.jsx(_a,{}),u.jsx(ta,{title:o,setNavbarOpen:n,navbarOpen:t,setSidebarOpen:i}),u.jsx(ga,{sidebarOpen:s,setSidebarOpen:i}),u.jsx(Sf,{}),u.jsx("div",{className:En.contentContainer,children:r}),e!=="/"&&u.jsx(fc,{}),u.jsx(Sa,{}),u.jsx(Va,{})]})};var bt={},as;function kf(){if(as)return bt;as=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.parse=o,bt.serialize=l;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,p){const m=new i,S=f.length;if(S<2)return m;const g=(p==null?void 0:p.decode)||h;let y=0;do{const _=f.indexOf("=",y);if(_===-1)break;const O=f.indexOf(";",y),C=O===-1?S:O;if(_>C){y=f.lastIndexOf(";",_-1)+1;continue}const k=a(f,y,_),R=c(f,_,k),$=f.slice(k,R);if(m[$]===void 0){let ne=a(f,_+1,C),ue=c(f,C,ne);const pe=g(f.slice(ne,ue));m[$]=pe}y=C+1}while(y<S);return m}function a(f,p,m){do{const S=f.charCodeAt(p);if(S!==32&&S!==9)return p}while(++p<m);return m}function c(f,p,m){for(;p>m;){const S=f.charCodeAt(--p);if(S!==32&&S!==9)return p+1}return m}function l(f,p,m){const S=(m==null?void 0:m.encode)||encodeURIComponent;if(!r.test(f))throw new TypeError(`argument name is invalid: ${f}`);const g=S(p);if(!e.test(g))throw new TypeError(`argument val is invalid: ${p}`);let y=f+"="+g;if(!m)return y;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);y+="; Max-Age="+m.maxAge}if(m.domain){if(!t.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);y+="; Domain="+m.domain}if(m.path){if(!n.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);y+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);y+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(y+="; HttpOnly"),m.secure&&(y+="; Secure"),m.partitioned&&(y+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return y}function h(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return s.call(f)==="[object Date]"}return bt}var Kt=kf();function xf(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function Of(r){return typeof r=="string"?Kt.parse(r):typeof r=="object"&&r!==null?r:{}}function qr(r,e={}){const t=Cf(r);if(!e.doNotParse)try{return JSON.parse(t)}catch{}return r}function Cf(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class Ef{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const s=this.cookies;this.cookies=Kt.parse(document.cookie),this._checkChanges(s)};const n=typeof document>"u"?"":document.cookie;this.cookies=Of(e||n),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=xf()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(n=>{e[n]!==this.cookies[n]&&this._emitChange({name:n,value:qr(this.cookies[n])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),qr(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let n in this.cookies)t[n]=qr(this.cookies[n],e);return t}set(e,t,n){n?n=Object.assign(Object.assign({},this.defaultSetOptions),n):n=this.defaultSetOptions;const s=typeof t=="string"?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:s}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kt.serialize(e,s,n)),this._emitChange({name:e,value:t,options:n})}remove(e,t){const n=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kt.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}const jf=I.createContext(null),{Provider:Nf,Consumer:Nh}=jf,Tf=r=>{const e=I.useMemo(()=>r.cookies?r.cookies:new Ef(void 0,r.defaultSetOptions),[r.cookies,r.defaultSetOptions]);return I.createElement(Nf,{value:e},r.children)};var Br={exports:{}},B={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs;function Pf(){if(cs)return B;cs=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,o=r?Symbol.for("react.provider"):60109,a=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,S=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function O(k){if(typeof k=="object"&&k!==null){var R=k.$$typeof;switch(R){case e:switch(k=k.type,k){case c:case l:case n:case i:case s:case d:return k;default:switch(k=k&&k.$$typeof,k){case a:case h:case m:case p:case o:return k;default:return R}}case t:return R}}}function C(k){return O(k)===l}return B.AsyncMode=c,B.ConcurrentMode=l,B.ContextConsumer=a,B.ContextProvider=o,B.Element=e,B.ForwardRef=h,B.Fragment=n,B.Lazy=m,B.Memo=p,B.Portal=t,B.Profiler=i,B.StrictMode=s,B.Suspense=d,B.isAsyncMode=function(k){return C(k)||O(k)===c},B.isConcurrentMode=C,B.isContextConsumer=function(k){return O(k)===a},B.isContextProvider=function(k){return O(k)===o},B.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},B.isForwardRef=function(k){return O(k)===h},B.isFragment=function(k){return O(k)===n},B.isLazy=function(k){return O(k)===m},B.isMemo=function(k){return O(k)===p},B.isPortal=function(k){return O(k)===t},B.isProfiler=function(k){return O(k)===i},B.isStrictMode=function(k){return O(k)===s},B.isSuspense=function(k){return O(k)===d},B.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===l||k===i||k===s||k===d||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===p||k.$$typeof===o||k.$$typeof===a||k.$$typeof===h||k.$$typeof===g||k.$$typeof===y||k.$$typeof===_||k.$$typeof===S)},B.typeOf=O,B}var ls;function If(){return ls||(ls=1,Br.exports=Pf()),Br.exports}var Vr,us;function Af(){if(us)return Vr;us=1;var r=If(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[r.ForwardRef]=n,i[r.Memo]=s;function o(m){return r.isMemo(m)?s:i[m.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(m,S,g){if(typeof S!="string"){if(f){var y=d(S);y&&y!==f&&p(m,y,g)}var _=c(S);l&&(_=_.concat(l(S)));for(var O=o(m),C=o(S),k=0;k<_.length;++k){var R=_[k];if(!t[R]&&!(g&&g[R])&&!(C&&C[R])&&!(O&&O[R])){var $=h(S,R);try{a(m,R,$)}catch{}}}}return m}return Vr=p,Vr}Af();var re=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},ie={searchParams:"URLSearchParams"in re,iterable:"Symbol"in re&&"iterator"in Symbol,blob:"FileReader"in re&&"Blob"in re&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in re,arrayBuffer:"ArrayBuffer"in re};function Rf(r){return r&&DataView.prototype.isPrototypeOf(r)}if(ie.arrayBuffer)var Ff=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Df=ArrayBuffer.isView||function(r){return r&&Ff.indexOf(Object.prototype.toString.call(r))>-1};function ft(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(r)||r==="")throw new TypeError('Invalid character in header field name: "'+r+'"');return r.toLowerCase()}function bn(r){return typeof r!="string"&&(r=String(r)),r}function wn(r){var e={next:function(){var t=r.shift();return{done:t===void 0,value:t}}};return ie.iterable&&(e[Symbol.iterator]=function(){return e}),e}function J(r){this.map={},r instanceof J?r.forEach(function(e,t){this.append(t,e)},this):Array.isArray(r)?r.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(e){this.append(e,r[e])},this)}J.prototype.append=function(r,e){r=ft(r),e=bn(e);var t=this.map[r];this.map[r]=t?t+", "+e:e};J.prototype.delete=function(r){delete this.map[ft(r)]};J.prototype.get=function(r){return r=ft(r),this.has(r)?this.map[r]:null};J.prototype.has=function(r){return this.map.hasOwnProperty(ft(r))};J.prototype.set=function(r,e){this.map[ft(r)]=bn(e)};J.prototype.forEach=function(r,e){for(var t in this.map)this.map.hasOwnProperty(t)&&r.call(e,this.map[t],t,this)};J.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),wn(r)};J.prototype.values=function(){var r=[];return this.forEach(function(e){r.push(e)}),wn(r)};J.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),wn(r)};ie.iterable&&(J.prototype[Symbol.iterator]=J.prototype.entries);function zr(r){if(!r._noBody){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}}function xi(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function Mf(r){var e=new FileReader,t=xi(e);return e.readAsArrayBuffer(r),t}function Lf(r){var e=new FileReader,t=xi(e),n=/charset=([A-Za-z0-9_-]+)/.exec(r.type),s=n?n[1]:"utf-8";return e.readAsText(r,s),t}function qf(r){for(var e=new Uint8Array(r),t=new Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]);return t.join("")}function fs(r){if(r.slice)return r.slice(0);var e=new Uint8Array(r.byteLength);return e.set(new Uint8Array(r)),e.buffer}function Oi(){return this.bodyUsed=!1,this._initBody=function(r){this.bodyUsed=this.bodyUsed,this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:ie.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:ie.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:ie.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():ie.arrayBuffer&&ie.blob&&Rf(r)?(this._bodyArrayBuffer=fs(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ie.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||Df(r))?this._bodyArrayBuffer=fs(r):this._bodyText=r=Object.prototype.toString.call(r):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ie.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ie.blob&&(this.blob=function(){var r=zr(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var r=zr(this);return r||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(ie.blob)return this.blob().then(Mf);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var r=zr(this);if(r)return r;if(this._bodyBlob)return Lf(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(qf(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ie.formData&&(this.formData=function(){return this.text().then(zf)}),this.json=function(){return this.text().then(JSON.parse)},this}var Bf=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Vf(r){var e=r.toUpperCase();return Bf.indexOf(e)>-1?e:r}function He(r,e){if(!(this instanceof He))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var t=e.body;if(r instanceof He){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,e.headers||(this.headers=new J(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!t&&r._bodyInit!=null&&(t=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new J(e.headers)),this.method=Vf(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in re){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&t)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(t),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}He.prototype.clone=function(){return new He(this,{body:this._bodyInit})};function zf(r){var e=new FormData;return r.trim().split("&").forEach(function(t){if(t){var n=t.split("="),s=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(s),decodeURIComponent(i))}}),e}function $f(r){var e=new J,t=r.replace(/\r?\n[\t ]+/g," ");return t.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var s=n.split(":"),i=s.shift().trim();if(i){var o=s.join(":").trim();try{e.append(i,o)}catch(a){console.warn("Response "+a.message)}}}),e}Oi.call(He.prototype);function Oe(r,e){if(!(this instanceof Oe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new J(e.headers),this.url=e.url||"",this._initBody(r)}Oi.call(Oe.prototype);Oe.prototype.clone=function(){return new Oe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new J(this.headers),url:this.url})};Oe.error=function(){var r=new Oe(null,{status:200,statusText:""});return r.ok=!1,r.status=0,r.type="error",r};var Wf=[301,302,303,307,308];Oe.redirect=function(r,e){if(Wf.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Oe(null,{status:e,headers:{location:r}})};var We=re.DOMException;try{new We}catch{We=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},We.prototype=Object.create(Error.prototype),We.prototype.constructor=We}function Ci(r,e){return new Promise(function(t,n){var s=new He(r,e);if(s.signal&&s.signal.aborted)return n(new We("Aborted","AbortError"));var i=new XMLHttpRequest;function o(){i.abort()}i.onload=function(){var l={statusText:i.statusText,headers:$f(i.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(i.status<200||i.status>599)?l.status=200:l.status=i.status,l.url="responseURL"in i?i.responseURL:l.headers.get("X-Request-URL");var h="response"in i?i.response:i.responseText;setTimeout(function(){t(new Oe(h,l))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new We("Aborted","AbortError"))},0)};function a(l){try{return l===""&&re.location.href?re.location.href:l}catch{return l}}if(i.open(s.method,a(s.url),!0),s.credentials==="include"?i.withCredentials=!0:s.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(ie.blob?i.responseType="blob":ie.arrayBuffer&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof J||re.Headers&&e.headers instanceof re.Headers)){var c=[];Object.getOwnPropertyNames(e.headers).forEach(function(l){c.push(ft(l)),i.setRequestHeader(l,bn(e.headers[l]))}),s.headers.forEach(function(l,h){c.indexOf(h)===-1&&i.setRequestHeader(h,l)})}else s.headers.forEach(function(l,h){i.setRequestHeader(h,l)});s.signal&&(s.signal.addEventListener("abort",o),i.onreadystatechange=function(){i.readyState===4&&s.signal.removeEventListener("abort",o)}),i.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}Ci.polyfill=!0;re.fetch||(re.fetch=Ci,re.Headers=J,re.Request=He,re.Response=Oe);var $r,hs;function Qf(){return hs||(hs=1,$r=self.fetch.bind(self)),$r}var Uf=Qf();const Hf=Mi(Uf),Kf=new Ku({cache:new qu,link:gf({uri:"https://semi-aquatics.myshopify.com/api/2022-01/graphql.json",headers:{Accept:"application/graphql","X-Shopify-Storefront-Access-Token":"a841eca62f514cb4af9d650a38075fbf"},fetch:Hf})});function ee(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Gf=typeof Symbol=="function"&&Symbol.observable||"@@observable",ds=Gf,Wr=()=>Math.random().toString(36).substring(7).split("").join("."),Yf={INIT:`@@redux/INIT${Wr()}`,REPLACE:`@@redux/REPLACE${Wr()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wr()}`},sr=Yf;function Jf(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function Ei(r,e,t){if(typeof r!="function")throw new Error(ee(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ee(1));return t(Ei)(r,e)}let n=r,s=e,i=new Map,o=i,a=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((g,y)=>{o.set(y,g)}))}function h(){if(c)throw new Error(ee(3));return s}function d(g){if(typeof g!="function")throw new Error(ee(4));if(c)throw new Error(ee(5));let y=!0;l();const _=a++;return o.set(_,g),function(){if(y){if(c)throw new Error(ee(6));y=!1,l(),o.delete(_),i=null}}}function f(g){if(!Jf(g))throw new Error(ee(7));if(typeof g.type>"u")throw new Error(ee(8));if(typeof g.type!="string")throw new Error(ee(17));if(c)throw new Error(ee(9));try{c=!0,s=n(s,g)}finally{c=!1}return(i=o).forEach(_=>{_()}),g}function p(g){if(typeof g!="function")throw new Error(ee(10));n=g,f({type:sr.REPLACE})}function m(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ee(11));function _(){const C=y;C.next&&C.next(h())}return _(),{unsubscribe:g(_)}},[ds](){return this}}}return f({type:sr.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:p,[ds]:m}}function Xf(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:sr.INIT})>"u")throw new Error(ee(12));if(typeof t(void 0,{type:sr.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ee(13))})}function Zf(r){const e=Object.keys(r),t={};for(let i=0;i<e.length;i++){const o=e[i];typeof r[o]=="function"&&(t[o]=r[o])}const n=Object.keys(t);let s;try{Xf(t)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const l={};for(let h=0;h<n.length;h++){const d=n[h],f=t[d],p=o[d],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(ee(14));l[d]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function eh(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function th(...r){return e=>(t,n)=>{const s=e(t,n);let i=()=>{throw new Error(ee(15))};const o={getState:s.getState,dispatch:(c,...l)=>i(c,...l)},a=r.map(c=>c(o));return i=eh(...a)(s.dispatch),{...s,dispatch:i}}}var xt={exports:{}},rh=xt.exports,ps;function nh(){return ps||(ps=1,function(r,e){(function(t,n){n(e)})(rh,function(t){function n(v,x){v.super_=x,v.prototype=Object.create(x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}function s(v,x){Object.defineProperty(this,"kind",{value:v,enumerable:!0}),x&&x.length&&Object.defineProperty(this,"path",{value:x,enumerable:!0})}function i(v,x,w){i.super_.call(this,"E",v),Object.defineProperty(this,"lhs",{value:x,enumerable:!0}),Object.defineProperty(this,"rhs",{value:w,enumerable:!0})}function o(v,x){o.super_.call(this,"N",v),Object.defineProperty(this,"rhs",{value:x,enumerable:!0})}function a(v,x){a.super_.call(this,"D",v),Object.defineProperty(this,"lhs",{value:x,enumerable:!0})}function c(v,x,w){c.super_.call(this,"A",v),Object.defineProperty(this,"index",{value:x,enumerable:!0}),Object.defineProperty(this,"item",{value:w,enumerable:!0})}function l(v,x,w){var E=v.slice(x+1||v.length);return v.length=x<0?v.length+x:x,v.push.apply(v,E),v}function h(v){var x=typeof v>"u"?"undefined":Ce(v);return x!=="object"?x:v===Math?"math":v===null?"null":Array.isArray(v)?"array":Object.prototype.toString.call(v)==="[object Date]"?"date":typeof v.toString=="function"&&/^\/.*\//.test(v.toString())?"regexp":"object"}function d(v,x,w,E,T,F,D){T=T||[],D=D||[];var M=T.slice(0);if(typeof F<"u"){if(E){if(typeof E=="function"&&E(M,F))return;if((typeof E>"u"?"undefined":Ce(E))==="object"){if(E.prefilter&&E.prefilter(M,F))return;if(E.normalize){var fe=E.normalize(M,F,v,x);fe&&(v=fe[0],x=fe[1])}}}M.push(F)}h(v)==="regexp"&&h(x)==="regexp"&&(v=v.toString(),x=x.toString());var me=typeof v>"u"?"undefined":Ce(v),ce=typeof x>"u"?"undefined":Ce(x),se=me!=="undefined"||D&&D[D.length-1].lhs&&D[D.length-1].lhs.hasOwnProperty(F),ye=ce!=="undefined"||D&&D[D.length-1].rhs&&D[D.length-1].rhs.hasOwnProperty(F);if(!se&&ye)w(new o(M,x));else if(!ye&&se)w(new a(M,v));else if(h(v)!==h(x))w(new i(M,v,x));else if(h(v)==="date"&&v-x!==0)w(new i(M,v,x));else if(me==="object"&&v!==null&&x!==null)if(D.filter(function(U){return U.lhs===v}).length)v!==x&&w(new i(M,v,x));else{if(D.push({lhs:v,rhs:x}),Array.isArray(v)){var V;for(v.length,V=0;V<v.length;V++)V>=x.length?w(new c(M,V,new a(void 0,v[V]))):d(v[V],x[V],w,E,M,V,D);for(;V<x.length;)w(new c(M,V,new o(void 0,x[V++])))}else{var qe=Object.keys(v),Ee=Object.keys(x);qe.forEach(function(U,Ke){var pt=Ee.indexOf(U);pt>=0?(d(v[U],x[U],w,E,M,U,D),Ee=l(Ee,pt)):d(v[U],void 0,w,E,M,U,D)}),Ee.forEach(function(U){d(void 0,x[U],w,E,M,U,D)})}D.length=D.length-1}else v!==x&&(me==="number"&&isNaN(v)&&isNaN(x)||w(new i(M,v,x)))}function f(v,x,w,E){return E=E||[],d(v,x,function(T){T&&E.push(T)},w),E.length?E:void 0}function p(v,x,w){if(w.path&&w.path.length){var E,T=v[x],F=w.path.length-1;for(E=0;E<F;E++)T=T[w.path[E]];switch(w.kind){case"A":p(T[w.path[E]],w.index,w.item);break;case"D":delete T[w.path[E]];break;case"E":case"N":T[w.path[E]]=w.rhs}}else switch(w.kind){case"A":p(v[x],w.index,w.item);break;case"D":v=l(v,x);break;case"E":case"N":v[x]=w.rhs}return v}function m(v,x,w){if(v&&x&&w&&w.kind){for(var E=v,T=-1,F=w.path?w.path.length-1:0;++T<F;)typeof E[w.path[T]]>"u"&&(E[w.path[T]]=typeof w.path[T]=="number"?[]:{}),E=E[w.path[T]];switch(w.kind){case"A":p(w.path?E[w.path[T]]:E,w.index,w.item);break;case"D":delete E[w.path[T]];break;case"E":case"N":E[w.path[T]]=w.rhs}}}function S(v,x,w){if(w.path&&w.path.length){var E,T=v[x],F=w.path.length-1;for(E=0;E<F;E++)T=T[w.path[E]];switch(w.kind){case"A":S(T[w.path[E]],w.index,w.item);break;case"D":T[w.path[E]]=w.lhs;break;case"E":T[w.path[E]]=w.lhs;break;case"N":delete T[w.path[E]]}}else switch(w.kind){case"A":S(v[x],w.index,w.item);break;case"D":v[x]=w.lhs;break;case"E":v[x]=w.lhs;break;case"N":v=l(v,x)}return v}function g(v,x,w){if(v&&x&&w&&w.kind){var E,T,F=v;for(T=w.path.length-1,E=0;E<T;E++)typeof F[w.path[E]]>"u"&&(F[w.path[E]]={}),F=F[w.path[E]];switch(w.kind){case"A":S(F[w.path[E]],w.index,w.item);break;case"D":F[w.path[E]]=w.lhs;break;case"E":F[w.path[E]]=w.lhs;break;case"N":delete F[w.path[E]]}}}function y(v,x,w){if(v&&x){var E=function(T){w&&!w(v,x,T)||m(v,x,T)};d(v,x,E)}}function _(v){return"color: "+Sn[v].color+"; font-weight: bold"}function O(v){var x=v.kind,w=v.path,E=v.lhs,T=v.rhs,F=v.index,D=v.item;switch(x){case"E":return[w.join("."),E,"→",T];case"N":return[w.join("."),T];case"D":return[w.join(".")];case"A":return[w.join(".")+"["+F+"]",D];default:return[]}}function C(v,x,w,E){var T=f(v,x);try{E?w.groupCollapsed("diff"):w.group("diff")}catch{w.log("diff")}T?T.forEach(function(F){var D=F.kind,M=O(F);w.log.apply(w,["%c "+Sn[D].text,_(D)].concat(dt(M)))}):w.log("—— no diff ——");try{w.groupEnd()}catch{w.log("—— diff end —— ")}}function k(v,x,w,E){switch(typeof v>"u"?"undefined":Ce(v)){case"object":return typeof v[E]=="function"?v[E].apply(v,dt(w)):v[E];case"function":return v(x);default:return v}}function R(v){var x=v.timestamp,w=v.duration;return function(E,T,F){var D=["action"];return D.push("%c"+String(E.type)),x&&D.push("%c@ "+T),w&&D.push("%c(in "+F.toFixed(2)+" ms)"),D.join(" ")}}function $(v,x){var w=x.logger,E=x.actionTransformer,T=x.titleFormatter,F=T===void 0?R(x):T,D=x.collapsed,M=x.colors,fe=x.level,me=x.diff,ce=typeof x.titleFormatter>"u";v.forEach(function(se,ye){var V=se.started,qe=se.startedTime,Ee=se.action,U=se.prevState,Ke=se.error,pt=se.took,Be=se.nextState,mr=v[ye+1];mr&&(Be=mr.prevState,pt=mr.started-V);var be=E(Ee),xn=typeof D=="function"?D(function(){return Be},Ee,se):D,ji=Lt(qe),Ni=M.title?"color: "+M.title(be)+";":"",mt=["color: gray; font-weight: lighter;"];mt.push(Ni),x.timestamp&&mt.push("color: gray; font-weight: lighter;"),x.duration&&mt.push("color: gray; font-weight: lighter;");var yt=F(be,ji,pt);try{xn?M.title&&ce?w.groupCollapsed.apply(w,["%c "+yt].concat(mt)):w.groupCollapsed(yt):M.title&&ce?w.group.apply(w,["%c "+yt].concat(mt)):w.group(yt)}catch{w.log(yt)}var yr=k(fe,be,[U],"prevState"),gr=k(fe,be,[be],"action"),vr=k(fe,be,[Ke,U],"error"),br=k(fe,be,[Be],"nextState");if(yr)if(M.prevState){var Ti="color: "+M.prevState(U)+"; font-weight: bold";w[yr]("%c prev state",Ti,U)}else w[yr]("prev state",U);if(gr)if(M.action){var Pi="color: "+M.action(be)+"; font-weight: bold";w[gr]("%c action    ",Pi,be)}else w[gr]("action    ",be);if(Ke&&vr)if(M.error){var Ii="color: "+M.error(Ke,U)+"; font-weight: bold;";w[vr]("%c error     ",Ii,Ke)}else w[vr]("error     ",Ke);if(br)if(M.nextState){var Ai="color: "+M.nextState(Be)+"; font-weight: bold";w[br]("%c next state",Ai,Be)}else w[br]("next state",Be);me&&C(U,Be,w,xn);try{w.groupEnd()}catch{w.log("—— log end ——")}})}function ne(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=Object.assign({},_n,v),w=x.logger,E=x.stateTransformer,T=x.errorTransformer,F=x.predicate,D=x.logErrors,M=x.diffPredicate;if(typeof w>"u")return function(){return function(me){return function(ce){return me(ce)}}};if(v.getState&&v.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(me){return function(ce){return me(ce)}}};var fe=[];return function(me){var ce=me.getState;return function(se){return function(ye){if(typeof F=="function"&&!F(ce,ye))return se(ye);var V={};fe.push(V),V.started=ht.now(),V.startedTime=new Date,V.prevState=E(ce()),V.action=ye;var qe=void 0;if(D)try{qe=se(ye)}catch(U){V.error=T(U)}else qe=se(ye);V.took=ht.now()-V.started,V.nextState=E(ce());var Ee=x.diff&&typeof M=="function"?M(ce,ye):x.diff;if($(fe,Object.assign({},x,{diff:Ee})),fe.length=0,V.error)throw V.error;return qe}}}}var ue,pe,Mt=function(v,x){return new Array(x+1).join(v)},Le=function(v,x){return Mt("0",x-v.toString().length)+v},Lt=function(v){return Le(v.getHours(),2)+":"+Le(v.getMinutes(),2)+":"+Le(v.getSeconds(),2)+"."+Le(v.getMilliseconds(),3)},ht=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},dt=function(v){if(Array.isArray(v)){for(var x=0,w=Array(v.length);x<v.length;x++)w[x]=v[x];return w}return Array.from(v)},qt=[];ue=(typeof Bt>"u"?"undefined":Ce(Bt))==="object"&&Bt?Bt:typeof window<"u"?window:{},pe=ue.DeepDiff,pe&&qt.push(function(){typeof pe<"u"&&ue.DeepDiff===f&&(ue.DeepDiff=pe,pe=void 0)}),n(i,s),n(o,s),n(a,s),n(c,s),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:g,enumerable:!0},isConflict:{value:function(){return typeof pe<"u"},enumerable:!0},noConflict:{value:function(){return qt&&(qt.forEach(function(v){v()}),qt=null),f},enumerable:!0}});var Sn={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},_n={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(v){return v},actionTransformer:function(v){return v},errorTransformer:function(v){return v},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},kn=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=v.dispatch,w=v.getState;return typeof x=="function"||typeof w=="function"?ne()({dispatch:x,getState:w}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};t.defaults=_n,t.createLogger=ne,t.logger=kn,t.default=kn,Object.defineProperty(t,"__esModule",{value:!0})})}(xt,xt.exports)),xt.exports}nh();const sh={passwordGuessed:""},ih=(r=sh,e)=>{switch(e.type){case bo.SET_PASSWORD_GUESSED:return{...r,passwordGuessed:e.payload};default:return r}},oh={SET_CART_QUANTITY:"SET_CART_QUANTITY"},ah={cartItemCount:0},ch=(r=ah,e)=>{switch(e.type){case oh.SET_CART_QUANTITY:return{...r,cartItemCount:e.payload};default:return r}},lh=Zf({cart:ch,user:ih}),uh=[],fh=Ei(lh,th(...uh)),Th=({formMethod:r,currentUrl:e,nextUrl:t})=>!!(r&&r!=="GET"||e.toString()===t.toString());function Ph(){return[{rel:"preconnect",href:"https://cdn.shopify.com"},{rel:"preconnect",href:"https://shop.app"},{rel:"icon",type:"image/svg+xml",href:So},{rel:"stylesheet",href:_o},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}]}if(typeof window>"u"){const r=console.error;console.error=(...e)=>{var t,n,s,i;(n=(t=e[0])==null?void 0:t.includes)!=null&&n.call(t,"useLayoutEffect")&&((i=(s=e[0])==null?void 0:s.includes)!=null&&i.call(s,"server"))||r(...e)}}function Ih({children:r}){const e=Ui();return u.jsxs("html",{lang:"en",children:[u.jsxs("head",{children:[u.jsx("meta",{charSet:"utf-8"}),u.jsx("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),u.jsx("style",{dangerouslySetInnerHTML:{__html:`
              * {
                margin: 0;
                padding: 0;
              }
              html, body {
                width: 100%;
                height: 100%;
              }
              body {
                background: white;
              }
            `},nonce:e,suppressHydrationWarning:!0}),u.jsx(Bi,{})]}),u.jsxs("body",{suppressHydrationWarning:!0,children:[r,u.jsx(Vi,{nonce:e}),u.jsx(zi,{nonce:e})]})]})}const Ah=Li(function(){const e=$i("root");return e?u.jsx(yo,{children:u.jsx(Hi.Provider,{cart:e.cart,shop:e.shop,consent:e.consent,children:u.jsx(hh,{children:u.jsx(_f,{children:u.jsx(On,{})})})})}):u.jsx(On,{})});function hh({children:r}){return u.jsx(wo,{store:fh,children:u.jsx(go,{children:u.jsx(Mc,{client:Kf,children:u.jsx(Tf,{children:u.jsx(Qo,{children:r})})})})})}const Rh=qi(function(){var s;const e=Wi();let t="Unknown error",n=500;return Qi(e)?(t=((s=e==null?void 0:e.data)==null?void 0:s.message)??e.data,n=e.status):e instanceof Error&&(t=e.message),u.jsxs("div",{className:"route-error",children:[u.jsx("h1",{children:"Oops"}),u.jsx("h2",{children:n}),t&&u.jsx("fieldset",{children:u.jsx("pre",{children:t})})]})});export{Rh as ErrorBoundary,Ih as Layout,Ah as default,Ph as links,Th as shouldRevalidate};
