var Ds=Object.defineProperty;var Fs=(r,e,t)=>e in r?Ds(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var b=(r,e,t)=>Fs(r,typeof e!="symbol"?e+"":e,t);import{a as I,p as yi,L as de,q as Ms,t as Bt,w as Ls,v as qs,x as Bs,S as Vs,y as zs,z as Ws,O as Cn,A as $s,i as Qs}from"./chunk-TMI4QPZX-ByyJG4wn.js";import{j as u}from"./jsx-runtime-C2tkE_r8.js";import{W as Us,y as Hs}from"./index-X1EBz-IK.js";import{u as gi,a as vi,b as bi,F as Ks,g as Gs,i as L,Q as Ys,K as q,c as En,d as Js,e as Xs,p as Zs,S as Gt,f as eo,h as to,j as oe,k as wi,_ as sr,E as Si,l as ro,m as no,n as ki,o as io,q as so,r as xi,s as wr,t as oo,v as ao,w as co,x as Ie,y as Oi,z as Yt,A as Ue,B as lo,C as uo,D as ve,G as fo,H,I as xe,J as Qr,N as A,O as wt,L as ho,M as po,P as Sr,R as Ci,T as mo,U as yo,V as go,W as vo}from"./recommended-products.component-D5vDQZuf.js";import{u as or,M as bo}from"./use-is-mobile-T0pw4rL4.js";import{G as Pt}from"./iconBase-BrRXCXs8.js";import{E as nn}from"./email-form.component-D8cn0SvE.js";import{u as wo,a as So}from"./user.types-DWOeYgbg.js";import{P as ko}from"./index-CLcShtRP.js";import"./cookies-utils-DqiKtheR.js";import"./product-preview.component-CGnctVRA.js";import"./index-B9ygI19o.js";function xo(r){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M372 160v-12A116.13 116.13 0 0 0 258.89 32h-5.78A116.13 116.13 0 0 0 140 148v12H52a4 4 0 0 0-4 4v300a16 16 0 0 0 16 16h384a16 16 0 0 0 16-16V164a4 4 0 0 0-4-4zm-40 0H180v-11c0-41.84 33.41-76.56 75.25-77A76.08 76.08 0 0 1 332 148z"},child:[]}]})(r)}function Ei(r){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(r)}const we={overlay:"overlay",modalContent:"modalContent",closeButton:"closeButton",modalTitle:"modalTitle",modalSubtitle:"modalSubtitle",formOverrides:"formOverrides",modalInput:"modalInput",modalSubmitButton:"modalSubmitButton",modalMessageContainer:"modalMessageContainer"},ji=({isOpen:r,onClose:e,onSuccess:t})=>r?u.jsx("div",{className:we.overlay,onClick:e,children:u.jsxs("div",{className:we.modalContent,onClick:n=>n.stopPropagation(),children:[u.jsx("button",{className:we.closeButton,onClick:e,children:u.jsx(Ei,{size:24})}),u.jsx("h3",{className:we.modalTitle,children:"Become Part of the Tide"}),u.jsx("p",{className:we.modalSubtitle,children:"early access, inside drops, and 15% off your first order."}),u.jsx("div",{className:we.formOverrides,children:u.jsx(nn,{isSidebar:!1,placeholder:"Enter your email",inputContainerClassName:we.formOverrides,inputClassName:we.modalInput,buttonClassName:we.modalSubmitButton,messageContainerClassName:we.modalMessageContainer,onSuccess:t})})]})}):null,Ni=I.createContext(void 0),Oo=()=>{const r=I.useContext(Ni);if(r===void 0)throw new Error("useWaveSounds must be used within a WaveSoundsProvider");return r},Co=({children:r})=>{const[e,t]=I.useState(!1),n=I.useRef(null);I.useEffect(()=>{const s=new Audio("/wave-sounds.mp3");return s.loop=!0,s.volume=.3,n.current=s,()=>{n.current&&(n.current.pause(),n.current=null)}},[]);const i=()=>{if(!n.current)return;if(e){n.current.pause(),t(!1);return}const s=n.current.play();s!==void 0?s.then(()=>t(!0)).catch(o=>{console.error("Error playing wave sounds:",o)}):t(!0)};return u.jsx(Ni.Provider,{value:{isPlaying:e,toggleWaveSounds:i},children:r})},Se={waveToggle:"waveToggle",active:"active",waveIcon:"waveIcon",wave:"wave",wave1:"wave1",wave2:"wave2",wave3:"wave3",label:"label"},Ti=({className:r})=>{const{isPlaying:e,toggleWaveSounds:t}=Oo();return u.jsxs("button",{className:`${Se.waveToggle} ${e?Se.active:""} ${r||""}`,onClick:t,"aria-label":e?"Stop wave sounds":"Play wave sounds",children:[u.jsxs("div",{className:Se.waveIcon,children:[u.jsx("div",{className:`${Se.wave} ${Se.wave1}`}),u.jsx("div",{className:`${Se.wave} ${Se.wave2}`}),u.jsx("div",{className:`${Se.wave} ${Se.wave3}`})]}),u.jsx("span",{className:Se.label,children:"waves"})]})},kr="newsletter_popup:v1",Eo=2,_i=()=>{const[r,e]=I.useState(!1);return I.useEffect(()=>{if(typeof window>"u")return;const i=localStorage.getItem(kr);if(!i){const s=setTimeout(()=>{},2e3);return()=>clearTimeout(s)}try{const s=JSON.parse(i);if(s.subscribed)return;if(s.dismissed&&(Date.now()-s.dismissed)/(1e3*60*60*24)>=Eo){const c=setTimeout(()=>{},2e3);return()=>clearTimeout(c)}}catch(s){console.error("Error parsing newsletter modal data:",s);const o=setTimeout(()=>{},2e3);return()=>clearTimeout(o)}},[]),{isOpen:r,handleClose:()=>{e(!1);const i={dismissed:Date.now()};localStorage.setItem(kr,JSON.stringify(i))},handleSuccess:()=>{e(!1);const i={subscribed:!0};localStorage.setItem(kr,JSON.stringify(i))}}},K={scrollingText:"scrollingText",navbarContainer:"navbarContainer",navLink:"navLink",navLinksPill:"navLinksPill",logoLink:"logoLink",topLogo:"topLogo",rightContainer:"rightContainer",waveToggleDesktop:"waveToggleDesktop",signUpNewsletter:"signUpNewsletter",bagContainer:"bagContainer",mobileCartWrapper:"mobileCartWrapper",mobileBadge:"mobileBadge",cartCount:"cartCount",active:"active"},jo=({title:r,setNavbarOpen:e,navbarOpen:t,setSidebarOpen:n})=>{const i=yi(),{openCart:s}=gi(),{totalQuantity:o}=vi(),a=o??0,c=or(),{isOpen:l,handleClose:h,handleSuccess:d}=_i(),[f,p]=I.useState(!1),m=S=>i.pathname===S;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:K.navbarContainer,children:[c?u.jsx("div",{className:K.navLink,onClick:()=>n(!0),children:"Menu"}):u.jsxs("div",{className:K.navLinksPill,children:[u.jsx(de,{to:"/shop",className:`${K.navLink} ${m("/shop")?K.active:""}`,children:"Shop"}),u.jsx(de,{to:"/story",className:`${K.navLink} ${m("/story")?K.active:""}`,children:"Story"}),u.jsx(de,{to:"/artists",className:`${K.navLink} ${m("/artists")?K.active:""}`,children:"Artists"})]}),u.jsx(de,{to:"/",className:K.logoLink,children:u.jsx("img",{src:"/top-nav-logo.png",alt:"Top Logo",className:K.topLogo})}),u.jsxs("div",{className:K.rightContainer,children:[c?null:u.jsxs(u.Fragment,{children:[u.jsx(Ti,{className:K.waveToggleDesktop}),u.jsx("div",{className:K.signUpNewsletter,onClick:()=>p(!0),children:u.jsx("div",{className:K.scrollingText,children:'THE FALL COLLECTION: "NEXT FORM" IS AVAILABLE NOW.                        THE FALL COLLECTION: "NEXT FORM" IS AVAILABLE NOW.                '})})]}),u.jsx("div",{className:K.bagContainer,onClick:s,children:c?u.jsxs("div",{className:K.mobileCartWrapper,children:[u.jsx(xo,{}),a>0&&u.jsx("span",{className:K.mobileBadge,children:a})]}):u.jsxs(u.Fragment,{children:["Bag",u.jsx("span",{className:K.cartCount,children:a})]})})]})]}),u.jsx(ji,{isOpen:l||f,onClose:()=>{p(!1),h()},onSuccess:d})]})};function No(r){return Pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,3 L21,21 M3,21 L21,3"},child:[]}]})(r)}const Ur="https://instagram.com/semiaquatics",To="mailto:info@semiaquatics.com",te={HOME:{url:"/",text:"Home"},SHOP:{url:"/shop",text:"Shop"},STORY:{url:"/story",text:"Story"},ARTISTS:{url:"/artists",text:"Artists"},PRIVACY_POLICY:{url:"/privacy-policy",text:"Privacy"},TERMS:{url:"/terms-of-service"},FAQ:{url:"/faq"}},_o=[{href:te.HOME.url,label:te.HOME.text},{href:te.SHOP.url,label:te.SHOP.text},{href:te.STORY.url,label:te.STORY.text},{href:te.ARTISTS.url,label:te.ARTISTS.text}],he={sidebarContainer:"sidebarContainer",sidebarContainerClosed:"sidebarContainerClosed",closeMenuToggle:"closeMenuToggle",sidebarWrapper:"sidebarWrapper",innerContainer:"innerContainer",dropLink:"dropLink",flexGrow:"flexGrow",bottomNavbar:"bottomNavbar",waveToggleContainer:"waveToggleContainer",emailFormContainer:"emailFormContainer",flexer:"flexer",footerEmail:"footerEmail"},Po=({sidebarOpen:r,setSidebarOpen:e})=>{const t=I.useRef(null),n=()=>e(!1);return bi(t,n),u.jsxs("div",{className:`${he.sidebarContainer} ${r?"":he.sidebarContainerClosed}`,"data-lenis-prevent":!0,ref:t,style:{transform:r?"translateX(0)":"translateX(-100%)"},children:[u.jsx("button",{className:he.closeMenuToggle,onClick:n,children:u.jsx(No,{})}),u.jsx("div",{className:he.sidebarWrapper,children:u.jsxs("div",{className:he.innerContainer,children:[_o.map(({href:i,label:s})=>u.jsx(de,{to:i,children:u.jsx("p",{onClick:n,className:he.dropLink,children:s})},i)),u.jsx("span",{className:he.flexGrow}),u.jsxs("div",{className:he.bottomNavbar,children:[u.jsx("div",{className:he.emailFormContainer,children:u.jsx(nn,{isSidebar:!0})}),u.jsxs("div",{className:he.flexer,children:[u.jsx("a",{target:"_blank",href:Ur,rel:"noopener noreferrer",children:u.jsx(Ks,{})}),u.jsx("a",{href:To,className:he.footerEmail,children:"info@semiaquatics.com"})]}),u.jsx(de,{to:te.PRIVACY_POLICY.url,children:u.jsx("p",{children:te.PRIVACY_POLICY.text})}),u.jsxs("p",{className:"footer-item",children:["© ",new Date().getFullYear()," Semi Aquatics"]}),u.jsx("div",{className:he.waveToggleContainer,children:u.jsx(Ti,{})})]})]})})]})},Io=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB"]);function Jt(r){if(!r)return!1;const e=r.toUpperCase();return Io.has(e)}const Hr="consent:v1";function Ao(r){if(typeof document>"u")return;const e=document.cookie.match(new RegExp("(?:^|; )"+r.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function Ro(){if(!(typeof window>"u"))try{const r=window.localStorage.getItem(Hr);if(!r)return;const e=JSON.parse(r);if(e&&e.version===1)return e}catch{}}function Pi(){const[r,e]=I.useState(void 0),[t,n]=I.useState(void 0);I.useEffect(()=>{const o=Ao("country")||void 0;e(o);const a=Ro(),c=!Jt(o);if(a){if(n(a),typeof window<"u"&&window.gtag){const l=a.analytics?"granted":"denied",h=a.marketing?"granted":"denied";window.gtag("consent","update",{analytics_storage:l,ad_storage:h,ad_user_data:h,ad_personalization:h})}}else if(c){const l={analytics:!0,marketing:!0,timestamp:Date.now(),version:1,regionModel:"NOTICE",country:o};n(l);try{typeof window<"u"&&window.localStorage.setItem(Hr,JSON.stringify(l))}catch{}typeof window<"u"&&window.gtag&&window.gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"})}},[]);const i=I.useMemo(()=>Jt(r)?"PRIOR":"NOTICE",[r]),s=I.useCallback(o=>{const a={analytics:!!o.analytics,marketing:!!o.marketing,timestamp:Date.now(),version:1,regionModel:i,country:r};try{typeof window<"u"&&window.localStorage.setItem(Hr,JSON.stringify(a))}catch{}n(a);try{if(typeof window<"u"&&window.gtag){const c=a.analytics?"granted":"denied",l=a.marketing?"granted":"denied";window.gtag("consent","update",{analytics_storage:c,ad_storage:l,ad_user_data:l,ad_personalization:l})}}catch{}try{typeof window<"u"&&window.dispatchEvent(new CustomEvent("consent:updated",{detail:a}))}catch{}},[r,i]);return{country:r,consent:t,saveConsent:s,regionModel:i}}const Do=()=>{const{consent:r}=Pi(),[e,t]=I.useState(!1),[n,i]=I.useState(!1);return I.useEffect(()=>{t(!!(r!=null&&r.analytics)),i(!!(r!=null&&r.marketing))},[r]),u.jsxs(u.Fragment,{children:[e&&u.jsxs(u.Fragment,{children:[u.jsx("script",{src:"https://www.googletagmanager.com/gtag/js?id=G-VVVEV1RSEL",async:!0}),u.jsx("script",{dangerouslySetInnerHTML:{__html:`
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-VVVEV1RSEL');
            `}})]}),n&&u.jsxs(u.Fragment,{children:[u.jsx("script",{src:"https://backend.alia-cloudflare.com/public/embed.js?shop=semi-aquatics.myshopify.com",async:!0}),u.jsx("script",{src:"https://cdn.attn.tv/semiaquatics/dtag.js",async:!0}),u.jsx("script",{dangerouslySetInnerHTML:{__html:`
              !function(f,b,e,v,n,t,s)
              {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
              n.callMethod.apply(n,arguments):n.queue.push(arguments)};
              if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
              n.queue=[];t=b.createElement(e);t.async=!0;
              t.src=v;s=b.getElementsByTagName(e)[0];
              s.parentNode.insertBefore(t,s)}(window, document,'script',
              'https://connect.facebook.net/en_US/fbevents.js');
              fbq('init', '269716947689981');
              fbq('track', 'PageView');
            `}}),u.jsx("noscript",{children:u.jsx("img",{height:"1",width:"1",style:{display:"none"},src:"https://www.facebook.com/tr?id=269716947689981&ev=PageView&noscript=1"})})]})]})},Fo=()=>null,z={banner:"banner",card:"card",content:"content",text:"text",link:"link",actions:"actions",btn:"btn",btnPrimary:"btnPrimary",backdrop:"backdrop",modal:"modal",modalInner:"modalInner",modalHeader:"modalHeader",closeIcon:"closeIcon",toggleRow:"toggleRow",switch:"switch",on:"on",knob:"knob"},Mo=te.PRIVACY_POLICY.url,Lo="We use cookies to run our store (essential), understand traffic (analytics), and improve marketing.";function qo(){const{country:r,consent:e,saveConsent:t}=Pi(),[n,i]=I.useState(!1),[s,o]=I.useState(!1),[a,c]=I.useState(!1),[l,h]=I.useState(!1),d=I.useRef(null),f=I.useRef(null);I.useEffect(()=>{try{const y=window.localStorage.getItem("consent:v1");i(!y)}catch{i(!0)}},[]),I.useMemo(()=>Jt(r)?"PRIOR":"NOTICE",[r]),I.useEffect(()=>{function y(k){k.key==="consent:v1"&&i(!k.newValue)}return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[]),I.useEffect(()=>{function y(){o(!0),i(!0)}return window.addEventListener("consent:manage",y),()=>window.removeEventListener("consent:manage",y)},[]),I.useEffect(()=>{if(!s)return;const y=d.current;if(!y)return;const k=y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),C=k[0],E=k[k.length-1];C==null||C.focus();function x(R){R.key==="Escape"&&o(!1),R.key==="Tab"&&(document.activeElement===E&&!R.shiftKey&&(R.preventDefault(),C==null||C.focus()),document.activeElement===C&&R.shiftKey&&(R.preventDefault(),E==null||E.focus()))}return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),bi(f,o);function p(){i(!1),o(!1),t({analytics:!0,marketing:!0})}function m(){i(!1),o(!1),t({analytics:!1,marketing:!1})}function S(){c(!!(e!=null&&e.analytics)),h(!!(e!=null&&e.marketing)),o(!0)}function g(){t({analytics:a,marketing:l}),i(!1),o(!1)}return!n||!Jt(r)?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:z.banner,role:"region","aria-label":"Cookie consent",children:u.jsxs("div",{className:`${z.card} ${z.content}`,children:[u.jsxs("div",{className:z.text,children:[Lo," ",u.jsx("a",{className:z.link,href:"#",onClick:y=>{y.preventDefault(),S()},children:"Cookie Settings"})]}),u.jsxs("div",{className:z.actions,children:[u.jsx("button",{className:z.btn,onClick:m,children:"Reject non-essential cookies"}),u.jsx("button",{className:`${z.btn} ${z.btnPrimary}`,onClick:p,children:"Accept all"})]})]})}),s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:z.backdrop,onClick:()=>o(!1)}),u.jsx("div",{className:z.modal,role:"dialog","aria-modal":"true",ref:f,children:u.jsxs("div",{className:z.modalInner,ref:d,children:[u.jsxs("div",{className:z.modalHeader,children:[u.jsx("h3",{children:"Cookie Settings"}),u.jsx("button",{className:z.closeIcon,onClick:()=>o(!1),"aria-label":"Close",children:"✕"})]}),u.jsxs("p",{style:{marginTop:0,marginBottom:10,fontSize:13},children:["Learn more in our ",u.jsx("a",{className:z.link,href:Mo,target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),"."]}),u.jsxs("div",{className:z.toggleRow,children:[u.jsx("div",{children:"Analytics"}),u.jsx("div",{className:`${z.switch} ${a?z.on:""}`,onClick:()=>c(!a),"aria-checked":a,role:"switch",tabIndex:0,children:u.jsx("div",{className:z.knob})})]}),u.jsxs("div",{className:z.toggleRow,children:[u.jsx("div",{children:"Marketing"}),u.jsx("div",{className:`${z.switch} ${l?z.on:""}`,onClick:()=>h(!l),"aria-checked":l,role:"switch",tabIndex:0,children:u.jsx("div",{className:z.knob})})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:16},children:[u.jsx("button",{className:z.btn,onClick:()=>o(!1),children:"Cancel"}),u.jsx("button",{className:`${z.btn} ${z.btnPrimary}`,onClick:g,children:"Save Preferences"})]})]})})]})]})}function Bo(r){return Pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Vt(r){return Pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}const T={footerContainer:"footerContainer",footerTable:"footerTable",footerColumn:"footerColumn",columnHeader:"columnHeader",columnContent:"columnContent",logo:"logo",linksList:"linksList",divider:"divider",emailLink:"emailLink",bottomSection:"bottomSection",countrySelector:"countrySelector",copyright:"copyright",shopPowered:"shopPowered",newsletterRegisterButton:"newsletterRegisterButton",mobileSection:"mobileSection",mobileSectionHeader:"mobileSectionHeader",mobileSectionContent:"mobileSectionContent",expanded:"expanded",mobileSectionContentAlways:"mobileSectionContentAlways",mobileLinksList:"mobileLinksList",mobileBottomSection:"mobileBottomSection",mobileBottomContent:"mobileBottomContent"},Vo=()=>{const r=or(),{handleSuccess:e}=_i(),[t,n]=I.useState({socials:!1,service:!1,legal:!1}),[i,s]=I.useState(!1),o=()=>s(!0),a=()=>s(!1),c=l=>{n(h=>({...h,[l]:!h[l]}))};return r?u.jsxs("footer",{className:T.footerContainer,children:[u.jsxs("div",{className:T.mobileSection,children:[u.jsxs("div",{className:T.mobileSectionHeader,children:[u.jsx("h3",{children:"Newsletter"}),u.jsx("div",{className:T.newsletterRegisterButton,onClick:o,children:"Sign Up"})]}),u.jsx("div",{className:T.mobileSectionContentAlways,children:u.jsx("p",{children:"Sign up for our newsletter to receive updates on new releases, restocks and more."})})]}),u.jsxs("div",{className:T.mobileSection,children:[u.jsx("div",{className:T.mobileSectionHeader,children:u.jsx("h3",{children:"Customer Service"})}),u.jsx("div",{className:T.mobileSectionContentAlways,children:u.jsxs("p",{children:["For questions about orders, you can email ",u.jsx("span",{className:T.emailLink,children:"info@semiaquatics.com"}),"."]})})]}),u.jsxs("div",{className:T.mobileSection,children:[u.jsxs("div",{className:T.mobileSectionHeader,onClick:()=>c("socials"),children:[u.jsx("h3",{children:"Socials"}),u.jsx(Vt,{style:{transform:t.socials?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),u.jsx("div",{className:`${T.mobileSectionContent} ${t.socials?T.expanded:""}`,children:u.jsx("ul",{className:T.mobileLinksList,children:u.jsx("li",{children:u.jsx("a",{href:Ur,children:"Instagram"})})})})]}),u.jsxs("div",{className:T.mobileSection,children:[u.jsxs("div",{className:T.mobileSectionHeader,onClick:()=>c("service"),children:[u.jsx("h3",{children:"Service"}),u.jsx(Vt,{style:{transform:t.service?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),u.jsx("div",{className:`${T.mobileSectionContent} ${t.service?T.expanded:""}`,children:u.jsx("ul",{className:T.mobileLinksList,children:u.jsx("li",{children:u.jsx(de,{to:te.FAQ.url,children:"FAQ"})})})})]}),u.jsxs("div",{className:T.mobileSection,children:[u.jsxs("div",{className:T.mobileSectionHeader,onClick:()=>c("legal"),children:[u.jsx("h3",{children:"Legal"}),u.jsx(Vt,{style:{transform:t.legal?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),u.jsx("div",{className:`${T.mobileSectionContent} ${t.legal?T.expanded:""}`,children:u.jsxs("ul",{className:T.mobileLinksList,children:[u.jsx("li",{children:u.jsx(de,{to:te.TERMS.url,children:"Terms & Conditions"})}),u.jsx("li",{children:u.jsx(de,{to:te.PRIVACY_POLICY.url,children:"Privacy Policy"})})]})})]}),u.jsx("div",{className:T.mobileBottomSection,children:u.jsxs("div",{className:T.mobileBottomContent,children:[u.jsx("div",{className:T.countrySelector,children:"USA / USD $"}),u.jsxs("div",{className:T.copyright,children:["© ",new Date().getFullYear()," Semi Aquatics All rights reserved"]})]})}),u.jsx(ji,{isOpen:i,onClose:a,onSuccess:e})]}):u.jsxs("footer",{className:T.footerContainer,children:[u.jsxs("div",{className:T.footerTable,children:[u.jsxs("div",{className:T.footerColumn,children:[u.jsx("div",{className:T.columnHeader,children:"Semi Aquatics"}),u.jsx("div",{className:T.columnContent,children:u.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0276/3305/7867/files/big3_1410x.png?v=1575617303",alt:"Main Logo",className:T.logo})})]}),u.jsxs("div",{className:T.footerColumn,children:[u.jsx("div",{className:T.columnHeader,children:"Newsletter"}),u.jsxs("div",{className:T.columnContent,children:[u.jsx("p",{children:"Sign up for our newsletter to receive updates on new releases, restocks and more."}),u.jsx(nn,{})]})]}),u.jsxs("div",{className:T.footerColumn,children:[u.jsx("div",{className:T.columnHeader,children:"Customer Service"}),u.jsx("div",{className:T.columnContent,children:u.jsxs("p",{children:["For questions about orders, you can email ",u.jsx("span",{className:T.emailLink,children:"info@semiaquatics.com"}),"."]})})]}),u.jsxs("div",{className:T.footerColumn,children:[u.jsx("div",{className:T.columnHeader,children:"Links"}),u.jsx("div",{className:T.columnContent,children:u.jsxs("ul",{className:T.linksList,children:[u.jsx("li",{children:u.jsx("a",{href:Ur,children:"Instagram"})}),u.jsx("li",{className:T.divider}),u.jsx("li",{children:u.jsx(de,{to:te.TERMS.url,children:"Terms & Conditions"})}),u.jsx("li",{children:u.jsx(de,{to:te.FAQ.url,children:"FAQ"})}),u.jsx("li",{className:T.divider}),u.jsx("li",{children:u.jsx(de,{to:te.PRIVACY_POLICY.url,children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),typeof window<"u"&&window.dispatchEvent(new Event("consent:manage"))},children:"Manage Cookies"})})]})})]})]}),u.jsxs("div",{className:T.bottomSection,children:[u.jsx("div",{className:T.countrySelector,children:"USA / USD $"}),u.jsxs("div",{className:T.copyright,children:["© ",new Date().getFullYear()," Semi Aquatics All rights reserved"]}),u.jsx("div",{className:T.shopPowered})]})]})},zo=!1,Wo=({client:r,children:e})=>{const t=Gs(),n=I.useContext(t),i=I.useMemo(()=>({...n,client:r||n.client}),[n,r]);return L(i.client,38),I.createElement(t.Provider,{value:i},e)};function $o(r){return`"${r.replace(Qo,Uo)}"`}const Qo=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Uo(r){return Ho[r.charCodeAt(0)]}const Ho=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],sn=Object.freeze({});function Oe(r,e,t=Ys){const n=new Map;for(const y of Object.values(q))n.set(y,Ko(e,y));let i,s=Array.isArray(r),o=[r],a=-1,c=[],l=r,h,d;const f=[],p=[];do{a++;const y=a===o.length,k=y&&c.length!==0;if(y){if(h=p.length===0?void 0:f[f.length-1],l=d,d=p.pop(),k)if(s){l=l.slice();let E=0;for(const[x,R]of c){const W=x-E;R===null?(l.splice(W,1),E++):l[W]=R}}else{l={...l};for(const[E,x]of c)l[E]=x}a=i.index,o=i.keys,c=i.edits,s=i.inArray,i=i.prev}else if(d){if(h=s?a:o[a],l=d[h],l==null)continue;f.push(h)}let C;if(!Array.isArray(l)){var m,S;En(l)||Js(!1,`Invalid AST Node: ${Xs(l)}.`);const E=y?(m=n.get(l.kind))===null||m===void 0?void 0:m.leave:(S=n.get(l.kind))===null||S===void 0?void 0:S.enter;if(C=E==null?void 0:E.call(e,l,h,d,f,p),C===sn)break;if(C===!1){if(!y){f.pop();continue}}else if(C!==void 0&&(c.push([h,C]),!y))if(En(C))l=C;else{f.pop();continue}}if(C===void 0&&k&&c.push([h,l]),y)f.pop();else{var g;i={inArray:s,index:a,keys:o,edits:c,prev:i},s=Array.isArray(l),o=s?l:(g=t[l.kind])!==null&&g!==void 0?g:[],a=-1,c=[],d&&p.push(d),d=l}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:r}function Ko(r,e){const t=r[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:r.enter,leave:r.leave}}function Go(r){return Oe(r,Jo)}const Yo=80,Jo={Name:{leave:r=>r.value},Variable:{leave:r=>"$"+r.name},Document:{leave:r=>N(r.definitions,`

`)},OperationDefinition:{leave(r){const e=xr(r.variableDefinitions)?P(`(
`,N(r.variableDefinitions,`
`),`
)`):P("(",N(r.variableDefinitions,", "),")"),t=P("",r.description,`
`)+N([r.operation,N([r.name,e]),N(r.directives," ")]," ");return(t==="query"?"":t+" ")+r.selectionSet}},VariableDefinition:{leave:({variable:r,type:e,defaultValue:t,directives:n,description:i})=>P("",i,`
`)+r+": "+e+P(" = ",t)+P(" ",N(n," "))},SelectionSet:{leave:({selections:r})=>ge(r)},Field:{leave({alias:r,name:e,arguments:t,directives:n,selectionSet:i}){const s=P("",r,": ")+e;let o=s+P("(",N(t,", "),")");return o.length>Yo&&(o=s+P(`(
`,zt(N(t,`
`)),`
)`)),N([o,N(n," "),i]," ")}},Argument:{leave:({name:r,value:e})=>r+": "+e},FragmentSpread:{leave:({name:r,directives:e})=>"..."+r+P(" ",N(e," "))},InlineFragment:{leave:({typeCondition:r,directives:e,selectionSet:t})=>N(["...",P("on ",r),N(e," "),t]," ")},FragmentDefinition:{leave:({name:r,typeCondition:e,variableDefinitions:t,directives:n,selectionSet:i,description:s})=>P("",s,`
`)+`fragment ${r}${P("(",N(t,", "),")")} on ${e} ${P("",N(n," ")," ")}`+i},IntValue:{leave:({value:r})=>r},FloatValue:{leave:({value:r})=>r},StringValue:{leave:({value:r,block:e})=>e?Zs(r):$o(r)},BooleanValue:{leave:({value:r})=>r?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:r})=>r},ListValue:{leave:({values:r})=>"["+N(r,", ")+"]"},ObjectValue:{leave:({fields:r})=>"{"+N(r,", ")+"}"},ObjectField:{leave:({name:r,value:e})=>r+": "+e},Directive:{leave:({name:r,arguments:e})=>"@"+r+P("(",N(e,", "),")")},NamedType:{leave:({name:r})=>r},ListType:{leave:({type:r})=>"["+r+"]"},NonNullType:{leave:({type:r})=>r+"!"},SchemaDefinition:{leave:({description:r,directives:e,operationTypes:t})=>P("",r,`
`)+N(["schema",N(e," "),ge(t)]," ")},OperationTypeDefinition:{leave:({operation:r,type:e})=>r+": "+e},ScalarTypeDefinition:{leave:({description:r,name:e,directives:t})=>P("",r,`
`)+N(["scalar",e,N(t," ")]," ")},ObjectTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>P("",r,`
`)+N(["type",e,P("implements ",N(t," & ")),N(n," "),ge(i)]," ")},FieldDefinition:{leave:({description:r,name:e,arguments:t,type:n,directives:i})=>P("",r,`
`)+e+(xr(t)?P(`(
`,zt(N(t,`
`)),`
)`):P("(",N(t,", "),")"))+": "+n+P(" ",N(i," "))},InputValueDefinition:{leave:({description:r,name:e,type:t,defaultValue:n,directives:i})=>P("",r,`
`)+N([e+": "+t,P("= ",n),N(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>P("",r,`
`)+N(["interface",e,P("implements ",N(t," & ")),N(n," "),ge(i)]," ")},UnionTypeDefinition:{leave:({description:r,name:e,directives:t,types:n})=>P("",r,`
`)+N(["union",e,N(t," "),P("= ",N(n," | "))]," ")},EnumTypeDefinition:{leave:({description:r,name:e,directives:t,values:n})=>P("",r,`
`)+N(["enum",e,N(t," "),ge(n)]," ")},EnumValueDefinition:{leave:({description:r,name:e,directives:t})=>P("",r,`
`)+N([e,N(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:r,name:e,directives:t,fields:n})=>P("",r,`
`)+N(["input",e,N(t," "),ge(n)]," ")},DirectiveDefinition:{leave:({description:r,name:e,arguments:t,repeatable:n,locations:i})=>P("",r,`
`)+"directive @"+e+(xr(t)?P(`(
`,zt(N(t,`
`)),`
)`):P("(",N(t,", "),")"))+(n?" repeatable":"")+" on "+N(i," | ")},SchemaExtension:{leave:({directives:r,operationTypes:e})=>N(["extend schema",N(r," "),ge(e)]," ")},ScalarTypeExtension:{leave:({name:r,directives:e})=>N(["extend scalar",r,N(e," ")]," ")},ObjectTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>N(["extend type",r,P("implements ",N(e," & ")),N(t," "),ge(n)]," ")},InterfaceTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>N(["extend interface",r,P("implements ",N(e," & ")),N(t," "),ge(n)]," ")},UnionTypeExtension:{leave:({name:r,directives:e,types:t})=>N(["extend union",r,N(e," "),P("= ",N(t," | "))]," ")},EnumTypeExtension:{leave:({name:r,directives:e,values:t})=>N(["extend enum",r,N(e," "),ge(t)]," ")},InputObjectTypeExtension:{leave:({name:r,directives:e,fields:t})=>N(["extend input",r,N(e," "),ge(t)]," ")},TypeCoordinate:{leave:({name:r})=>r},MemberCoordinate:{leave:({name:r,memberName:e})=>N([r,P(".",e)])},ArgumentCoordinate:{leave:({name:r,fieldName:e,argumentName:t})=>N([r,P(".",e),P("(",t,":)")])},DirectiveCoordinate:{leave:({name:r})=>N(["@",r])},DirectiveArgumentCoordinate:{leave:({name:r,argumentName:e})=>N(["@",r,P("(",e,":)")])}};function N(r,e=""){var t;return(t=r==null?void 0:r.filter(n=>n).join(e))!==null&&t!==void 0?t:""}function ge(r){return P(`{
`,zt(N(r,`
`)),`
}`)}function P(r,e,t=""){return e!=null&&e!==""?r+e+t:""}function zt(r){return P("  ",r.replace(/\n/g,`
  `))}function xr(r){var e;return(e=r==null?void 0:r.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}var Xo={Promise:void 0};function Wt(r){r()}var on=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function an(r){return r}function Zo(r){return r.length===0?an:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var Y=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this,s=ta(e)?e:new Gt(e,t,n);return Wt(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=jn(t),new t(function(i,s){var o=new Gt({next:function(a){try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[on]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zo(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=jn(e),new e(function(n,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},r.create=function(e){return new r(e)},r}();function jn(r){var e;return(e=r??Xo.Promise)!==null&&e!==void 0?e:Promise}function ea(r){return r&&oe(r.next)&&oe(r.error)&&oe(r.complete)}function ta(r){return r&&r instanceof to||ea(r)&&eo(r)}var ra=wi(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),lt=function(r){sr(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new Nn(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new ra},e.prototype.next=function(t){var n=this;Wt(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=ki(n.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(t)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var n=this;Wt(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;Wt(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Si:(this.currentObservers=null,a.push(t),new ro(function(){n.currentObservers=null,no(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new Y;return t.source=this,t},e.create=function(t,n){return new Nn(t,n)},e}(Y),Nn=function(r){sr(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},e.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Si},e}(lt),na=function(r){sr(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,s=t._value;if(n)throw i;return this._throwIfClosed(),s},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(lt),ia=function(r){sr(e,r);function e(t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=io);var s=r.call(this)||this;return s._bufferSize=t,s._windowTime=n,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,n),s}return e.prototype.next=function(t){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(s.push(t),!o&&s.push(a.now()+c)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!t.closed;c+=s?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,i=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),l=0,h=1;h<s.length&&s[h]<=c;h+=2)l=h;l&&s.splice(0,l+1)}},e}(lt),Xt=new Y(function(r){return r.complete()});function sa(r){return r&&oe(r.schedule)}function oa(r){return r[r.length-1]}function Ii(r){return sa(oa(r))?r.pop():void 0}var Ai=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Ri(r){return oe(r==null?void 0:r.then)}function Di(r){return oe(r[on])}function Fi(r){return Symbol.asyncIterator&&oe(r==null?void 0:r[Symbol.asyncIterator])}function Mi(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function aa(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Li=aa();function qi(r){return oe(r==null?void 0:r[Li])}function Bi(r){return so(this,arguments,function(){var t,n,i,s;return xi(this,function(o){switch(o.label){case 0:t=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wr(t.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,wr(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wr(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Vi(r){return oe(r==null?void 0:r.getReader)}function Fe(r){if(r instanceof Y)return r;if(r!=null){if(Di(r))return ca(r);if(Ai(r))return la(r);if(Ri(r))return ua(r);if(Fi(r))return zi(r);if(qi(r))return fa(r);if(Vi(r))return ha(r)}throw Mi(r)}function ca(r){return new Y(function(e){var t=r[on]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function la(r){return new Y(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function ua(r){return new Y(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,oo)})}function fa(r){return new Y(function(e){var t,n;try{for(var i=ki(r),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()})}function zi(r){return new Y(function(e){da(r,e).catch(function(t){return e.error(t)})})}function ha(r){return zi(Bi(r))}function da(r,e){var t,n,i,s;return ao(this,void 0,void 0,function(){var o,a;return xi(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=co(r),c.label=1;case 1:return[4,t.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Wi(r,e){return e===void 0&&(e=0),Ie(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function pa(r,e){return Fe(r).pipe(Wi(e),Oi(e))}function ma(r,e){return Fe(r).pipe(Wi(e),Oi(e))}function ya(r,e){return new Y(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function ga(r,e){return new Y(function(t){var n;return Yt(t,e,function(){n=r[Li](),Yt(t,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){t.error(a);return}o?t.complete():t.next(s)},0,!0)}),function(){return oe(n==null?void 0:n.return)&&n.return()}})}function $i(r,e){if(!r)throw new Error("Iterable cannot be null");return new Y(function(t){Yt(t,e,function(){var n=r[Symbol.asyncIterator]();Yt(t,e,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function va(r,e){return $i(Bi(r),e)}function ba(r,e){if(r!=null){if(Di(r))return pa(r,e);if(Ai(r))return ya(r,e);if(Ri(r))return ma(r,e);if(Fi(r))return $i(r,e);if(qi(r))return ga(r,e);if(Vi(r))return va(r,e)}throw Mi(r)}function ze(r,e){return e?ba(r,e):Fe(r)}function Ve(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ii(r);return ze(r,t)}function Qi(r,e){var t=oe(r)?r:function(){return r},n=function(i){return i.error(t())};return new Y(n)}var Tn;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(Tn||(Tn={}));var Or=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){return wa(this,e)},r.prototype.do=function(e,t,n){var i=this,s=i.kind,o=i.value,a=i.error;return s==="N"?e==null?void 0:e(o):s==="E"?t==null?void 0:t(a):n==null?void 0:n()},r.prototype.accept=function(e,t,n){var i;return oe((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,i=e.error,s=t==="N"?Ve(n):t==="E"?Qi(function(){return i}):t==="C"?Xt:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},r.createNext=function(e){return new r("N",e)},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();function wa(r,e){var t,n,i,s=r,o=s.kind,a=s.value,c=s.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,a):o==="E"?(n=e.error)===null||n===void 0||n.call(e,c):(i=e.complete)===null||i===void 0||i.call(e)}var Sa=wi(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function ka(r,e){var t=typeof e=="object";return new Promise(function(n,i){var s=!1,o;r.subscribe({next:function(a){o=a,s=!0},error:i,complete:function(){s?n(o):t?n(e.defaultValue):i(new Sa)}})})}function Qe(r,e){return Ie(function(t,n){var i=0;t.subscribe(Ue(n,function(s){n.next(r.call(e,s,i++))}))})}function xa(r,e,t,n,i,s,o,a){var c=[],l=0,h=0,d=!1,f=function(){d&&!c.length&&!l&&e.complete()},p=function(S){return l<n?m(S):c.push(S)},m=function(S){l++;var g=!1;Fe(t(S,h++)).subscribe(Ue(e,function(y){e.next(y)},function(){g=!0},void 0,function(){if(g)try{l--;for(var y=function(){var k=c.shift();o||m(k)};c.length&&l<n;)y();f()}catch(k){e.error(k)}}))};return r.subscribe(Ue(e,p,function(){d=!0,f()})),function(){}}function Ye(r,e,t){return t===void 0&&(t=1/0),oe(e)?Ye(function(n,i){return Qe(function(s,o){return e(n,s,i,o)})(Fe(r(n,i)))},t):(typeof e=="number"&&(t=e),Ie(function(n,i){return xa(n,i,r,t)}))}function Oa(r){return Ye(an,r)}function Ca(){return Oa(1)}function Cr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Ca()(ze(r,Ii(r)))}function Ea(r,e){return Ie(function(t,n){var i=0;t.subscribe(Ue(n,function(s){return r.call(e,s,i++)&&n.next(s)}))})}function $t(r){return Ie(function(e,t){var n=null,i=!1,s;n=e.subscribe(Ue(t,void 0,void 0,function(o){s=Fe(r(o,$t(r)(e))),n?(n.unsubscribe(),n=null,s.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(t))})}function ja(r){return Ie(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}function Na(){return Ie(function(r,e){r.subscribe(Ue(e,function(t){e.next(Or.createNext(t))},function(){e.next(Or.createComplete()),e.complete()},function(t){e.next(Or.createError(t)),e.complete()}))})}function Zt(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new lt}:e,n=r.resetOnError,i=n===void 0?!0:n,s=r.resetOnComplete,o=s===void 0?!0:s,a=r.resetOnRefCountZero,c=a===void 0?!0:a;return function(l){var h,d,f,p=0,m=!1,S=!1,g=function(){d==null||d.unsubscribe(),d=void 0},y=function(){g(),h=f=void 0,m=S=!1},k=function(){var C=h;y(),C==null||C.unsubscribe()};return Ie(function(C,E){p++,!S&&!m&&g();var x=f=f??t();E.add(function(){p--,p===0&&!S&&!m&&(d=Er(k,c))}),x.subscribe(E),!h&&p>0&&(h=new Gt({next:function(R){return x.next(R)},error:function(R){S=!0,g(),d=Er(y,i,R),x.error(R)},complete:function(){m=!0,g(),d=Er(y,o),x.complete()}}),Fe(C).subscribe(h))})(l)}}function Er(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var i=new Gt({next:function(){i.unsubscribe(),r()}});return Fe(e.apply(void 0,lo([],uo(t)))).subscribe(i)}}function Ta(r,e,t){var n,i,s,o,a=!1;return r&&typeof r=="object"?(n=r.bufferSize,o=n===void 0?1/0:n,i=r.windowTime,e=i===void 0?1/0:i,s=r.refCount,a=s===void 0?!1:s,t=r.scheduler):o=r??1/0,Zt({connector:function(){return new ia(o,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function er(r,e,t){var n=oe(r)||e||t?{next:r,error:e,complete:t}:r;return n?Ie(function(i,s){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;i.subscribe(Ue(s,function(c){var l;(l=n.next)===null||l===void 0||l.call(n,c),s.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},function(c){var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),s.error(c)},function(){var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):an}function nt(r,e,t,n){if(t.kind===q.INT||t.kind===q.FLOAT)r[e.value]=Number(t.value);else if(t.kind===q.BOOLEAN||t.kind===q.STRING)r[e.value]=t.value;else if(t.kind===q.OBJECT){const i={};t.fields.map(s=>nt(i,s.name,s.value,n)),r[e.value]=i}else if(t.kind===q.VARIABLE){const i=(n||{})[t.name.value];r[e.value]=i}else if(t.kind===q.LIST)r[e.value]=t.values.map(i=>{const s={};return nt(s,e,i,n),s[e.value]});else if(t.kind===q.ENUM)r[e.value]=t.value;else if(t.kind===q.NULL)r[e.value]=null;else throw ve(19,e.value,t.kind)}function cn(r,e){if(r.arguments&&r.arguments.length){const t={};return r.arguments.forEach(({name:n,value:i})=>nt(t,n,i,e)),t}return null}function _a(){}class Kr{constructor(e=1/0,t=_a){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:i}=t;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1}}function Gr(){}const Pa=Gr,Ia=typeof WeakRef<"u"?WeakRef:function(r){return{deref:()=>r}},Aa=typeof WeakMap<"u"?WeakMap:Map,Ra=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Gr,unregister:Gr}},Da=10024;class Tt{constructor(e=1/0,t=Pa){this.max=e,this.dispose=t,this.map=new Aa,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const n=this.unfinalizedNodes.values();for(let i=0;i<Da;i++){const s=n.next().value;if(!s)break;this.unfinalizedNodes.delete(s);const o=s.key;delete s.key,s.keyRef=new Ia(o),this.registry.register(o,s,s)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new Ra(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:i}=t;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return t?(this.deleteNode(t),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}const Fa=()=>Object.create(null),{forEach:Ma,slice:_n}=Array.prototype,{hasOwnProperty:La}=Object.prototype;class Me{constructor(e=!0,t=Fa){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return Ma.call(e,n=>t=t.getChildTrie(n)),La.call(t,"data")?t.data:t.data=this.makeData(_n.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,i=e.length;t&&n<i;++n){const s=t.mapFor(e[n],!1);t=s&&s.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],i=this.mapFor(n,!1),s=i&&i.get(n);s&&(t=s.removeArray(_n.call(e,1)),!s.data&&!s.weak&&!(s.strong&&s.strong.size)&&i.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new Me(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&qa(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}function qa(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}let Z=null;const Pn={};let Ba=1;const Va=()=>class{constructor(){this.id=["slot",Ba++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Z;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===Pn)break;return e!==Z&&(Z.slots[this.id]=t),!0}return Z&&(Z.slots[this.id]=Pn),!1}getValue(){if(this.hasValue())return Z.slots[this.id]}withValue(e,t,n,i){const s={__proto__:null,[this.id]:e},o=Z;Z={parent:o,slots:s};try{return t.apply(i,n)}finally{Z=o}}static bind(e){const t=Z;return function(){const n=Z;try{return Z=t,e.apply(this,arguments)}finally{Z=n}}}static noContext(e,t,n){if(Z){const i=Z;try{return Z=null,e.apply(n,t)}finally{Z=i}}else return e.apply(n,t)}};function In(r){try{return r()}catch{}}const jr="@wry/context:Slot",za=In(()=>globalThis)||In(()=>global)||Object.create(null),An=za,ar=An[jr]||Array[jr]||function(r){try{Object.defineProperty(An,jr,{value:r,enumerable:!1,writable:!1,configurable:!0})}finally{return r}}(Va()),{bind:Iu,noContext:Au}=ar,cr=new ar,{hasOwnProperty:Wa}=Object.prototype,ln=Array.from||function(r){const e=[];return r.forEach(t=>e.push(t)),e};function un(r){const{unsubscribe:e}=r;typeof e=="function"&&(r.unsubscribe=void 0,e())}const _t=[],$a=100;function it(r,e){if(!r)throw new Error(e||"assertion failure")}function Ui(r,e){const t=r.length;return t>0&&t===e.length&&r[t-1]===e[t-1]}function Hi(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function Ki(r){return r.slice(0)}class lr{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++lr.count}peek(){if(this.value.length===1&&!De(this))return Rn(this),this.value[0]}recompute(e){return it(!this.recomputing,"already recomputing"),Rn(this),De(this)?Qa(this,e):Hi(this.value)}setDirty(){this.dirty||(this.dirty=!0,Gi(this),un(this))}dispose(){this.setDirty(),es(this),fn(this,(e,t)=>{e.setDirty(),ts(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=_t.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(ln(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),_t.push(this.deps),this.deps=null)}}lr.count=0;function Rn(r){const e=cr.getValue();if(e)return r.parents.add(e),e.childValues.has(r)||e.childValues.set(r,[]),De(r)?Ji(e,r):Xi(e,r),e}function Qa(r,e){return es(r),cr.withValue(r,Ua,[r,e]),Ka(r,e)&&Ha(r),Hi(r.value)}function Ua(r,e){r.recomputing=!0;const{normalizeResult:t}=r;let n;t&&r.value.length===1&&(n=Ki(r.value)),r.value.length=0;try{if(r.value[0]=r.fn.apply(null,e),t&&n&&!Ui(n,r.value))try{r.value[0]=t(r.value[0],n[0])}catch{}}catch(i){r.value[1]=i}r.recomputing=!1}function De(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function Ha(r){r.dirty=!1,!De(r)&&Yi(r)}function Gi(r){fn(r,Ji)}function Yi(r){fn(r,Xi)}function fn(r,e){const t=r.parents.size;if(t){const n=ln(r.parents);for(let i=0;i<t;++i)e(n[i],r)}}function Ji(r,e){it(r.childValues.has(e)),it(De(e));const t=!De(r);if(!r.dirtyChildren)r.dirtyChildren=_t.pop()||new Set;else if(r.dirtyChildren.has(e))return;r.dirtyChildren.add(e),t&&Gi(r)}function Xi(r,e){it(r.childValues.has(e)),it(!De(e));const t=r.childValues.get(e);t.length===0?r.childValues.set(e,Ki(e.value)):Ui(t,e.value)||r.setDirty(),Zi(r,e),!De(r)&&Yi(r)}function Zi(r,e){const t=r.dirtyChildren;t&&(t.delete(e),t.size===0&&(_t.length<$a&&_t.push(t),r.dirtyChildren=null))}function es(r){r.childValues.size>0&&r.childValues.forEach((e,t)=>{ts(r,t)}),r.forgetDeps(),it(r.dirtyChildren===null)}function ts(r,e){e.parents.delete(r),r.childValues.delete(e),Zi(r,e)}function Ka(r,e){if(typeof r.subscribe=="function")try{un(r),r.unsubscribe=r.subscribe.apply(null,e)}catch{return r.setDirty(),!1}return!0}const Ga={setDirty:!0,dispose:!0,forget:!0};function rs(r){const e=new Map;function t(n){const i=cr.getValue();if(i){let s=e.get(n);s||e.set(n,s=new Set),i.dependOn(s)}}return t.dirty=function(i,s){const o=e.get(i);if(o){const a=s&&Wa.call(Ga,s)?s:"setDirty";ln(o).forEach(c=>c[a]()),e.delete(i),un(o)}},t}let Dn;function Ya(...r){return(Dn||(Dn=new Me(typeof WeakMap=="function"))).lookupArray(r)}const Nr=new Set;function st(r,{max:e=Math.pow(2,16),keyArgs:t,makeCacheKey:n=Ya,normalizeResult:i,subscribe:s,cache:o=Kr}=Object.create(null)){const a=typeof o=="function"?new o(e,f=>f.dispose()):o,c=function(){const f=n.apply(null,t?t.apply(null,arguments):arguments);if(f===void 0)return r.apply(null,arguments);let p=a.get(f);p||(a.set(f,p=new lr(r)),p.normalizeResult=i,p.subscribe=s,p.forget=()=>a.delete(f));const m=p.recompute(Array.prototype.slice.call(arguments));return a.set(f,p),Nr.add(a),cr.hasValue()||(Nr.forEach(S=>S.clean()),Nr.clear()),m};Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:e,keyArgs:t,makeCacheKey:n,normalizeResult:i,subscribe:s,cache:a});function l(f){const p=f&&a.get(f);p&&p.setDirty()}c.dirtyKey=l,c.dirty=function(){l(n.apply(null,arguments))};function h(f){const p=f&&a.get(f);if(p)return p.peek()}c.peekKey=h,c.peek=function(){return h(n.apply(null,arguments))};function d(f){return f?a.delete(f):!1}return c.forgetKey=d,c.forget=function(){return d(n.apply(null,arguments))},c.makeCacheKey=n,c.getKey=t?function(){return n.apply(null,t.apply(null,arguments))}:n,Object.freeze(c)}const Ja=Symbol.for("apollo.cacheSize"),_e={...fo[Ja]};function ot(r,e){var t;return((t=r.definitions.find(n=>n.kind==="OperationDefinition"&&!!n.name))==null?void 0:t.name.value)??e}const Ae=st((r,e)=>{L(r&&r.kind==="Document",1);const t=r.definitions.filter(n=>n.kind==="OperationDefinition");e&&L(t.length==1&&t[0].operation===e,4,e,e,t[0].operation),Oe(r,{Field(n,i,s,o){var a;if(n.alias&&(n.alias.value==="__typename"||n.alias.value.startsWith("__ac_"))&&n.alias.value!==n.name.value){let c=r,l=[];for(const h of o)c=c[h],c.kind===q.FIELD&&l.push(((a=c.alias)==null?void 0:a.value)||c.name.value);throw l.splice(-1,1,n.name.value),ve(5,n.alias.value,l.join("."),t[0].operation,ot(r,"(anonymous)"))}}})},{max:_e.checkDocument||2e3,cache:Tt});function It(r=[]){const e={};return r.forEach(t=>{e[t.name.value]=t}),e}function ae(r){return r!==null&&typeof r=="object"}const{hasOwnProperty:Xa}=Object.prototype,Za=function(r,e,t){return this.merge(r[t],e[t])};class at{constructor(e=Za){b(this,"reconciler");b(this,"isObject",ae);b(this,"pastCopies",new Set);this.reconciler=e}merge(e,t,...n){return ae(t)&&ae(e)?(Object.keys(t).forEach(i=>{if(Xa.call(e,i)){const s=e[i];if(t[i]!==s){const o=this.reconciler(e,t,i,...n);o!==s&&(e=this.shallowCopyForMerge(e),e[i]=o)}}else e=this.shallowCopyForMerge(e),e[i]=t[i]}),e):t}shallowCopyForMerge(e){return ae(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e={__proto__:Object.getPrototypeOf(e),...e},this.pastCopies.add(e))),e}}function hn(r){const e={},t=r&&r.variableDefinitions;return t&&t.length&&t.forEach(n=>{n.defaultValue&&nt(e,n.variable.name,n.defaultValue)}),e}function ur(r,e){switch(r.kind){case"InlineFragment":return r;case"FragmentSpread":{const t=r.name.value;if(typeof e=="function")return e(t);const n=e&&e[t];return L(n,9,t),n||null}default:return null}}function ec(r,e){let t=e;const n=[];return r.definitions.forEach(s=>{if(s.kind==="OperationDefinition")throw ve(10,s.operation,s.name?` named '${s.name.value}'`:"");s.kind==="FragmentDefinition"&&n.push(s)}),typeof t>"u"&&(L(n.length===1,11,n.length),t=n[0].name.value),{...r,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}},...r.definitions]}}function tc(r){L(r.kind==="Document",6),L(r.definitions.length<=1,7);const e=r.definitions[0];return L(e.kind==="FragmentDefinition",8),e}function At(r){return r.definitions.filter(e=>e.kind==="FragmentDefinition")}function ns(r){Ae(r);let e;for(let t of r.definitions){if(t.kind==="OperationDefinition")return t;t.kind==="FragmentDefinition"&&!e&&(e=t)}if(e)return e;throw ve(12)}function Pe(r){return Ae(r),r.definitions.filter(e=>e.kind==="OperationDefinition")[0]}function rc(r){const e=Pe(r);return L(e&&e.operation==="query",13),e}const Tr=new WeakSet;function is(r){r.size<=(r.max||-1)||Tr.has(r)||(Tr.add(r),setTimeout(()=>{r.clean(),Tr.delete(r)},100))}const ss=function(r,e){const t=new Tt(r,e);return t.set=function(n,i){const s=Tt.prototype.set.call(this,n,i);return is(this),s},t},nc=function(r,e){const t=new Kr(r,e);return t.set=function(n,i){const s=Kr.prototype.set.call(this,n,i);return is(this),s},t},Re=Object.assign(function(e){return JSON.stringify(e,ic)},{reset(){St=new nc(_e.canonicalStringify||1e3)}});let St;Re.reset();function ic(r,e){if(e&&typeof e=="object"){const t=Object.getPrototypeOf(e);if(t===Object.prototype||t===null){const n=Object.keys(e);if(n.every(sc))return e;const i=JSON.stringify(n);let s=St.get(i);if(!s){n.sort();const a=JSON.stringify(n);s=St.get(a)||n,St.set(i,s),St.set(a,s)}const o=Object.create(t);return s.forEach(a=>{o[a]=e[a]}),o}}return e}function sc(r,e,t){return e===0||t[e-1]<=r}const oc=["connection","include","skip","client","rest","export","nonreactive"];let gt=Re;const os=Object.assign(function(r,e,t){if(e&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){const i=t.connection.filter?t.connection.filter:[];i.sort();const s={};i.forEach(a=>{s[a]=e[a]});const o=gt(s);if(o!=="{}")return`${t.connection.key}(${o})`}return t.connection.key}let n=r;if(e){const i=gt(e);i!=="{}"&&(n+=`(${i})`)}return t&&Object.keys(t).forEach(i=>{oc.indexOf(i)===-1&&(t[i]&&Object.keys(t[i]).length?n+=`@${i}(${gt(t[i])})`:n+=`@${i}`)}),n},{setStringify(r){const e=gt;return gt=r,e}});function Je(r){var e;return!!((e=r.errors)!=null&&e.length)}function kt(r,e,t){const n=new Set(r),i=n.size;return Oe(e,{Directive(s){if(n.delete(s.name.value)&&(!t||!n.size))return sn}}),t?!n.size:n.size<i}function ac(r){let e=!1;return Oe(r,{Directive:{enter(t){if(t.name.value==="client"&&t.arguments&&(e=t.arguments.some(n=>n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0),e))return sn}}}),e}const G=Array.isArray;function cc(r){return ae(r)&&r.kind==="Document"&&Array.isArray(r.definitions)}function Rt(r){return r.kind==="Field"}function dn(r){return Array.isArray(r)&&r.length>0}function et(r){return{__ref:String(r)}}function lc(r){let e=r[0]||{};const t=r.length;if(t>1){const n=new at;for(let i=1;i<t;++i)e=n.merge(e,r[i])}return e}function uc(r){return r.catch(()=>{}),r}function fc(r,e){Ae(e);const t=Fn(""),n=Fn(""),i=g=>{for(let y=0,k;y<g.length&&(k=g[y]);++y)if(!G(k)){if(k.kind===q.OPERATION_DEFINITION)return t(k.name&&k.name.value);if(k.kind===q.FRAGMENT_DEFINITION)return n(k.name.value)}return L.error(14),null};let s=0;for(let g=e.definitions.length-1;g>=0;--g)e.definitions[g].kind===q.OPERATION_DEFINITION&&++s;const o=hc(r),a=g=>dn(g)&&g.map(o).some(y=>y&&y.remove),c=new Map;let l=!1;const h={enter(g){if(a(g.directives))return l=!0,null}},d=Oe(e,{Field:h,InlineFragment:h,VariableDefinition:{enter(){return!1}},Variable:{enter(g,y,k,C,E){const x=i(E);x&&x.variables.add(g.name.value)}},FragmentSpread:{enter(g,y,k,C,E){if(a(g.directives))return l=!0,null;const x=i(E);x&&x.fragmentSpreads.add(g.name.value)}},FragmentDefinition:{enter(g,y,k,C){c.set(JSON.stringify(C),g)},leave(g,y,k,C){const E=c.get(JSON.stringify(C));if(g===E)return g;if(s>0&&g.selectionSet.selections.every(x=>x.kind===q.FIELD&&x.name.value==="__typename"))return n(g.name.value).removed=!0,l=!0,null}},Directive:{leave(g){if(o(g))return l=!0,null}}});if(!l)return e;const f=g=>(g.transitiveVars||(g.transitiveVars=new Set(g.variables),g.removed||g.fragmentSpreads.forEach(y=>{f(n(y)).transitiveVars.forEach(k=>{g.transitiveVars.add(k)})})),g),p=new Set;d.definitions.forEach(g=>{g.kind===q.OPERATION_DEFINITION?f(t(g.name&&g.name.value)).fragmentSpreads.forEach(y=>{p.add(y)}):g.kind===q.FRAGMENT_DEFINITION&&s===0&&!n(g.name.value).removed&&p.add(g.name.value)}),p.forEach(g=>{f(n(g)).fragmentSpreads.forEach(y=>{p.add(y)})});const m=g=>!!(!p.has(g)||n(g).removed),S={enter(g){if(m(g.name.value))return null}};return dc(Oe(d,{FragmentSpread:S,FragmentDefinition:S,OperationDefinition:{leave(g){if(g.variableDefinitions){const y=f(t(g.name&&g.name.value)).transitiveVars;if(y.size<g.variableDefinitions.length)return{...g,variableDefinitions:g.variableDefinitions.filter(k=>y.has(k.variable.name.value))}}}}}))}function Fn(r){const e=new Map;return function(n=r){let i=e.get(n);return i||e.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function hc(r){const e=new Map,t=new Map;return r.forEach(n=>{n&&(n.name?e.set(n.name,n):n.test&&t.set(n.test,n))}),n=>{let i=e.get(n.name.value);return!i&&t.size&&t.forEach((s,o)=>{o(n)&&(i=s)}),i}}function as(r,e){return!r||r.selectionSet.selections.every(t=>t.kind===q.FRAGMENT_SPREAD&&as(e[t.name.value],e))}function dc(r){return as(Pe(r)||tc(r),It(At(r)))?null:r}function pc(r){return Oe(r,{FragmentSpread(e){var t;if(!((t=e.directives)!=null&&t.some(({name:n})=>n.value==="unmask")))return null}})}function ut(r){return r.alias?r.alias.value:r.name.value}function fr({directives:r},e){return!r||!r.length?!0:yc(r).every(({directive:t,ifArgument:n})=>{let i=!1;return n.value.kind==="Variable"?(i=e&&e[n.value.name.value],L(i!==void 0,15,t.name.value)):i=n.value.value,t.name.value==="skip"?!i:i})}function mc({name:{value:r}}){return r==="skip"||r==="include"}function yc(r){const e=[];return r&&r.length&&r.forEach(t=>{if(!mc(t))return;const n=t.arguments,i=t.name.value;L(n&&n.length===1,16,i);const s=n[0];L(s.name&&s.name.value==="if",17,i);const o=s.value;L(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),18,i),e.push({directive:t,ifArgument:s})}),e}function gc(r,e){let t=null;r.directives&&(t={},r.directives.forEach(i=>{t[i.name.value]={},i.arguments&&i.arguments.forEach(({name:s,value:o})=>nt(t[i.name.value],s,o,e))}));let n=null;return r.arguments&&r.arguments.length&&(n={},r.arguments.forEach(({name:i,value:s})=>nt(n,i,s,e))),os(r.name.value,n,t)}function Qt(r){const e={data:r.data};return r.error&&(e.error=r.error),e}function Yr(r,e=()=>{}){return t=>new Y(n=>{let i=e();return t.subscribe({next(s){let o;try{o=r(s,i)}catch(a){n.error(a)}o!==void 0&&n.next(o)},error(s){n.error(s)},complete(){n.complete()}})})}function cs(r,{data:e,...t},{data:n,...i},s){return H(t,i)&&Ut(ns(r).selectionSet,e,n,{fragmentMap:It(At(r)),variables:s})}function Ut(r,e,t,n){if(e===t)return!0;const i=new Set;return r.selections.every(s=>{if(i.has(s)||(i.add(s),!fr(s,n.variables))||Mn(s))return!0;if(Rt(s)){const o=ut(s),a=e&&e[o],c=t&&t[o],l=s.selectionSet;if(!l)return H(a,c);const h=Array.isArray(a),d=Array.isArray(c);if(h!==d)return!1;if(h&&d){const f=a.length;if(c.length!==f)return!1;for(let p=0;p<f;++p)if(!Ut(l,a[p],c[p],n))return!1;return!0}return Ut(l,a,c,n)}else{const o=ur(s,n.fragmentMap);if(o)return Mn(o)?!0:Ut(o.selectionSet,e,t,n)}})}function Mn(r){return!!r.directives&&r.directives.some(vc)}function vc(r){return r.name.value==="nonreactive"}class bc{constructor(){b(this,"startRequest")}isIncrementalResult(e){return!1}prepareRequest(e){return L(!kt(["defer"],e.query),64),e}extractErrors(){}}function wc(r,{client:e}){const t={query:r.query,variables:r.variables||{},extensions:r.extensions||{},operationName:ot(r.query),operationType:Pe(r.query).operation};let n={...r.context};const i=o=>{typeof o=="function"?n={...n,...o(s())}:n={...n,...o}},s=()=>Object.freeze({...n});return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:s}),Object.defineProperty(t,"client",{enumerable:!1,value:e}),t}function Sc(r,e){const t={...r},n=new Set(Object.keys(r));return Oe(e,{Variable(i,s,o){o&&o.kind!=="VariableDefinition"&&n.delete(i.name.value)}}),n.forEach(i=>{delete t[i]}),t}class le{constructor(e){b(this,"left");b(this,"right");e&&(this.request=e)}static empty(){return new le(()=>Xt)}static from(e){if(e.length===0)return le.empty();const[t,...n]=e;return t.concat(...n)}static split(e,t,n=new le((i,s)=>s(i))){const i=new le((s,o)=>e(s)?t.request(s,o):n.request(s,o));return Object.assign(i,{left:t,right:n})}static execute(e,t,n){return e.request(wc(t,n),()=>Xt)}static concat(...e){return le.from(e)}split(e,t,n){return this.concat(le.split(e,t,n))}concat(...e){return e.length===0?this:e.reduce(this.combine.bind(this),this)}combine(e,t){const n=new le((i,s)=>e.request(i,o=>t.request(o,s)));return Object.assign(n,{left:e,right:t})}request(e,t){throw ve(63)}}const Jr=le.execute;function kc(r){return r}class Te{constructor(e,t={}){b(this,"transform");b(this,"cached");b(this,"resultCache",new WeakSet);b(this,"left");b(this,"right");this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=t.cache!==!1,this.resetCache()}getCacheKey(e){return[e]}static identity(){return new Te(kc,{cache:!1})}static split(e,t,n=Te.identity()){return Object.assign(new Te(i=>(e(i)?t:n).transformDocument(i),{cache:!1}),{left:t,right:n})}resetCache(){if(this.cached){const e=new Me;this.performWork=st(Te.prototype.performWork.bind(this),{makeCacheKey:t=>{const n=this.getCacheKey(t);if(n)return L(Array.isArray(n),20),e.lookupArray(n)},max:_e["documentTransform.cache"],cache:Tt})}}performWork(e){return Ae(e),this.transform(e)}transformDocument(e){if(this.resultCache.has(e))return e;const t=this.performWork(e);return this.resultCache.add(t),t}concat(e){return Object.assign(new Te(t=>e.transformDocument(this.transformDocument(t)),{cache:!1}),{left:this,right:e})}}let _r;const tt=Object.assign(r=>{let e=_r.get(r);return e||(e=Go(r),_r.set(r,e)),e},{reset(){_r=new ss(_e.print||2e3)}});tt.reset();function Q(r){return!!(r&&typeof r=="object"&&typeof r.__ref=="string")}const Ln={kind:q.FIELD,name:{kind:q.NAME,value:"__typename"}},ls=Object.assign(function(r){return Oe(r,{SelectionSet:{enter(e,t,n){if(n&&n.kind===q.OPERATION_DEFINITION)return;const{selections:i}=e;if(!i||i.some(a=>a.kind===q.FIELD&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)))return;const o=n;if(!(o.kind===q.FIELD&&o.directives&&o.directives.some(a=>a.name.value==="export")))return{...e,selections:[...i,Ln]}}}})},{added(r){return r===Ln}});function us(r,e){var t;return((t=Pe(r))==null?void 0:t.operation)===e}function xc(r){return us(r,"mutation")}function Oc(r){return us(r,"subscription")}function Cc(r){return r===7||r===8}function Xr(r){return!Cc(r)}class Ec{constructor(){b(this,"assumeImmutableResults",!1);b(this,"getFragmentDoc",st(ec,{max:_e["cache.fragmentQueryDocuments"]||1e3,cache:Tt}))}lookupFragment(e){return null}batch(e){const t=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0;let n;return this.performTransaction(()=>n=e.update(this),t),n}recordOptimisticTransaction(e,t){this.performTransaction(e,t)}transformDocument(e){return e}transformForLink(e){return e}identify(e){}gc(){return[]}modify(e){return!1}readQuery(e,t=!!e.optimistic){return this.read({...e,rootId:e.id||"ROOT_QUERY",optimistic:t})}watchFragment(e){const{fragment:t,fragmentName:n,from:i,optimistic:s=!0,...o}=e,a=this.getFragmentDoc(t,n),c=typeof i>"u"||typeof i=="string"?i:this.identify(i),l={...o,returnPartialData:!0,id:c,query:a,optimistic:s};let h;return new Y(d=>this.watch({...l,immediate:!0,callback:f=>{let p=f.result;if(p===null&&(p={}),h&&cs(a,{data:h.result},{data:p},e.variables))return;const m={data:p,dataState:f.complete?"complete":"partial",complete:!!f.complete};f.missing&&(m.missing=f.missing.missing),h={...f,result:p},d.next(m)}}))}readFragment(e,t=!!e.optimistic){return this.read({...e,query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t})}writeQuery({id:e,data:t,...n}){return this.write(Object.assign(n,{dataId:e||"ROOT_QUERY",result:t}))}writeFragment({id:e,data:t,fragment:n,fragmentName:i,...s}){return this.write(Object.assign(s,{query:this.getFragmentDoc(n,i),dataId:e,result:t}))}updateQuery(e,t){return this.batch({update(n){const i=n.readQuery(e),s=t(i);return s==null?i:(n.writeQuery({...e,data:s}),s)}})}updateFragment(e,t){return this.batch({update(n){const i=n.readFragment(e),s=t(i);return s==null?i:(n.writeFragment({...e,data:s}),s)}})}}class pn extends Error{constructor(t,n,i,s){super(t);b(this,"message");b(this,"path");b(this,"query");b(this,"variables");b(this,"missing");if(this.message=t,this.path=n,this.query=i,this.variables=s,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let o=this.path.length-1;o>=0;--o)this.missing={[this.path[o]]:this.missing}}else this.missing=this.path;this.__proto__=pn.prototype}}const{hasOwnProperty:X}=Object.prototype;function fs({__typename:r,id:e,_id:t},n){if(typeof r=="string"&&(n&&(n.keyObject=e!=null?{id:e}:t!=null?{_id:t}:void 0),e==null&&t!=null&&(e=t),e!=null))return`${r}:${typeof e=="number"||typeof e=="string"?e:JSON.stringify(e)}`}const jc={dataIdFromObject:fs,resultCaching:!0};function Nc(r){return xe(jc,r)}const hs=/^[_a-z][_0-9a-z]*/i;function ct(r){const e=r.match(hs);return e?e[0]:r}function Zr(r,e,t){return ae(e)?G(e)?e.every(n=>Zr(r,n,t)):r.selections.every(n=>{if(Rt(n)&&fr(n,t)){const i=ut(n);return X.call(e,i)&&(!n.selectionSet||Zr(n.selectionSet,e[i],t))}return!0}):!1}function Xe(r){return ae(r)&&!Q(r)&&!G(r)}function Tc(){return new at}function ds(r,e){const t=It(At(r));return{fragmentMap:t,lookupFragment(n){let i=t[n];return!i&&e&&(i=e.lookup(n)),i||null}}}const Ht={},Pr=()=>Ht,qn={};class hr{constructor(e,t){b(this,"policies");b(this,"group");b(this,"data",{});b(this,"rootIds",{});b(this,"refs",{});b(this,"getFieldValue",(e,t)=>Qr(Q(e)?this.get(e.__ref,t):e&&e[t]));b(this,"canRead",e=>Q(e)?this.has(e.__ref):typeof e=="object");b(this,"toReference",(e,t)=>{if(typeof e=="string")return et(e);if(Q(e))return e;const[n]=this.policies.identify(e);if(n){const i=et(n);return t&&this.merge(n,e),i}});this.policies=e,this.group=t}toObject(){return{...this.data}}has(e){return this.lookup(e,!0)!==void 0}get(e,t){if(this.group.depend(e,t),X.call(this.data,e)){const n=this.data[e];if(n&&X.call(n,t))return n[t]}if(t==="__typename"&&X.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof ke)return this.parent.get(e,t)}lookup(e,t){if(t&&this.group.depend(e,"__exists"),X.call(this.data,e))return this.data[e];if(this instanceof ke)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return{}}merge(e,t){let n;Q(e)&&(e=e.__ref),Q(t)&&(t=t.__ref);const i=typeof e=="string"?this.lookup(n=e):e,s=typeof t=="string"?this.lookup(n=t):t;if(!s)return;L(typeof n=="string",95);const o=new at(Ic).merge(i,s);if(this.data[n]=o,o!==i&&(delete this.refs[n],this.group.caching)){const a={};i||(a.__exists=1),Object.keys(s).forEach(c=>{if(!i||i[c]!==o[c]){a[c]=1;const l=ct(c);l!==c&&!this.policies.hasKeyArgs(o.__typename,l)&&(a[l]=1),o[c]===void 0&&!(this instanceof ke)&&delete o[c]}}),a.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[n]===o.__typename&&delete a.__typename,Object.keys(a).forEach(c=>this.group.dirty(n,c))}}modify(e,t,n){const i=this.lookup(e);if(i){const s={};let o=!1,a=!0;const c={DELETE:Ht,INVALIDATE:qn,isReference:Q,toReference:this.toReference,canRead:this.canRead,readField:(l,h)=>this.policies.readField(typeof l=="string"?{fieldName:l,from:h||et(e)}:l,{store:this})};if(Object.keys(i).forEach(l=>{const h=ct(l);let d=i[l];if(d===void 0)return;const f=typeof t=="function"?t:t[l]||(n?void 0:t[h]);if(f){let p=f===Pr?Ht:f(Qr(d),{...c,fieldName:h,storeFieldName:l,storage:this.getStorage(e,l)});p===qn?this.group.dirty(e,l):(p===Ht&&(p=void 0),p!==d&&(s[l]=p,o=!0,d=p))}d!==void 0&&(a=!1)}),o)return this.merge(e,s),a&&(this instanceof ke?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1}delete(e,t,n){const i=this.lookup(e);if(i){const s=this.getFieldValue(i,"__typename"),o=t&&n?this.policies.getStoreFieldName({typename:s,fieldName:t,args:n}):t;return this.modify(e,o?{[o]:Pr}:Pr,!!n)}return!1}evict(e,t){let n=!1;return e.id&&(X.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof ke&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n}clear(){this.replace(null)}extract(){const e=this.toObject(),t=[];return this.getRootIdSet().forEach(n=>{X.call(this.policies.rootTypenamesById,n)||t.push(n)}),t.length&&(e.__META={extraRootIds:t.sort()}),e}replace(e){if(Object.keys(this.data).forEach(t=>{e&&X.call(e,t)||this.delete(t)}),e){const{__META:t,...n}=e;Object.keys(n).forEach(i=>{this.merge(i,n[i])}),t&&t.extraRootIds.forEach(this.retain,this)}}retain(e){return this.rootIds[e]=(this.rootIds[e]||0)+1}release(e){if(this.rootIds[e]>0){const t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0}getRootIdSet(e=new Set){return Object.keys(this.rootIds).forEach(e.add,e),this instanceof ke?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e}gc(){const e=this.getRootIdSet(),t=this.toObject();e.forEach(i=>{X.call(t,i)&&(Object.keys(this.findChildRefIds(i)).forEach(e.add,e),delete t[i])});const n=Object.keys(t);if(n.length){let i=this;for(;i instanceof ke;)i=i.parent;n.forEach(s=>i.delete(s))}return n}findChildRefIds(e){if(!X.call(this.refs,e)){const t=this.refs[e]={},n=this.data[e];if(!n)return t;const i=new Set([n]);i.forEach(s=>{Q(s)&&(t[s.__ref]=!0),ae(s)&&Object.keys(s).forEach(o=>{const a=s[o];ae(a)&&i.add(a)})})}return this.refs[e]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}get supportsResultCaching(){return this.group.caching}}class ps{constructor(e,t=null){b(this,"caching");b(this,"parent");b(this,"d",null);b(this,"keyMaker");this.caching=e,this.parent=t,this.resetCaching()}resetCaching(){this.d=this.caching?rs():null,this.keyMaker=new Me}depend(e,t){if(this.d){this.d(Ir(e,t));const n=ct(t);n!==t&&this.d(Ir(e,n)),this.parent&&this.parent.depend(e,t)}}dirty(e,t){this.d&&this.d.dirty(Ir(e,t),t==="__exists"?"forget":"setDirty")}}function Ir(r,e){return e+"#"+r}function Bn(r,e){Ct(r)&&r.group.depend(e,"__exists")}class _c extends hr{constructor({policies:t,resultCaching:n=!0,seed:i}){super(t,new ps(n));b(this,"stump",new Pc(this));b(this,"storageTrie",new Me);i&&this.replace(i)}addLayer(t,n){return this.stump.addLayer(t,n)}removeLayer(){return this}getStorage(){return this.storageTrie.lookupArray(arguments)}}hr.Root=_c;class ke extends hr{constructor(t,n,i,s){super(n.policies,s);b(this,"id");b(this,"parent");b(this,"replay");b(this,"group");this.id=t,this.parent=n,this.replay=i,this.group=s,i(this)}addLayer(t,n){return new ke(t,this,n,this.group)}removeLayer(t){const n=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(i=>{const s=this.data[i],o=n.lookup(i);o?s?s!==o&&Object.keys(s).forEach(a=>{H(s[a],o[a])||this.group.dirty(i,a)}):(this.group.dirty(i,"__exists"),Object.keys(o).forEach(a=>{this.group.dirty(i,a)})):this.delete(i)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(t){const n=this.parent.findChildRefIds(t);return X.call(this.data,t)?{...n,...super.findChildRefIds(t)}:n}getStorage(...t){let n=this.parent;for(;n.parent;)n=n.parent;return n.getStorage(...t)}}class Pc extends ke{constructor(e){super("EntityStore.Stump",e,()=>{},new ps(e.group.caching,e.group))}removeLayer(){return this}merge(e,t){return this.parent.merge(e,t)}}function Ic(r,e,t){const n=r[t],i=e[t];return H(n,i)?n:i}function Ct(r){return!!(r&&r.supportsResultCaching)}const ms=new ar;function Ac(r){var n,i;const e=(n=r.directives)==null?void 0:n.find(({name:s})=>s.value==="unmask");if(!e)return"mask";const t=(i=e.arguments)==null?void 0:i.find(({name:s})=>s.value==="mode");return t&&"value"in t.value&&t.value.value==="migrate"?"migrate":"unmask"}function ys(r,e,t){return ms.withValue(!0,()=>xt(r,e,t,!1))}function Rc(r,e){if(e.has(r))return e.get(r);const t=Array.isArray(r)?[]:{};return e.set(r,t),t}function xt(r,e,t,n,i){const{knownChanged:s}=t,o=Rc(r,t.mutableTargets);if(Array.isArray(r)){for(const[a,c]of Array.from(r.entries())){if(c===null){o[a]=null;continue}const l=xt(c,e,t,n);s.has(l)&&s.add(o),o[a]=l}return s.has(o)?o:r}for(const a of e.selections){let c;if(n&&s.add(o),a.kind===q.FIELD){const l=ut(a),h=a.selectionSet;if(c=o[l]||r[l],c===void 0)continue;if(h&&c!==null){const d=xt(r[l],h,t,n);s.has(d)&&(c=d)}o[l]=c}if(a.kind===q.INLINE_FRAGMENT&&(!a.typeCondition||t.cache.fragmentMatches(a,r.__typename))&&(c=xt(r,a.selectionSet,t,n)),a.kind===q.FRAGMENT_SPREAD){const l=a.name.value,h=t.fragmentMap[l]||(t.fragmentMap[l]=t.cache.lookupFragment(l));L(h,39,l);const d=Ac(a);d!=="mask"&&(c=xt(r,h.selectionSet,t,d==="migrate"))}s.has(c)&&s.add(o)}return"__typename"in r&&!("__typename"in o)&&(o.__typename=r.__typename),Object.keys(o).length!==Object.keys(r).length&&s.add(o),s.has(o)?o:r}function Dc(r,e,t,n){const i=e.definitions.filter(o=>o.kind===q.FRAGMENT_DEFINITION);typeof n>"u"&&(L(i.length===1,41,i.length),n=i[0].name.value);const s=i.find(o=>o.name.value===n);return L(!!s,42,n),r==null||H(r,{})?r:ys(r,s.selectionSet,{operationName:s.name.value,fragmentMap:It(At(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}function Fc(r,e,t){var i;const n=Pe(e);return L(n,43),r==null?r:ys(r,n.selectionSet,{operationType:n.operation,operationName:(i=n.name)==null?void 0:i.value,fragmentMap:It(At(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}const Vn={};function mn(r){const e=JSON.stringify(r);return Vn[e]||(Vn[e]={})}function zn(r){const e=mn(r);return e.keyFieldsFn||(e.keyFieldsFn=(t,n)=>{const i=(o,a)=>n.readField(a,o),s=n.keyObject=yn(r,o=>{let a=rt(n.storeObject,o,i);return a===void 0&&t!==n.storeObject&&X.call(t,o[0])&&(a=rt(t,o,vs)),L(a!==void 0,98,o.join("."),t),a});return`${n.typename}:${JSON.stringify(s)}`})}function Wn(r){const e=mn(r);return e.keyArgsFn||(e.keyArgsFn=(t,{field:n,variables:i,fieldName:s})=>{const o=yn(r,c=>{const l=c[0],h=l.charAt(0);if(h==="@"){if(n&&dn(n.directives)){const d=l.slice(1),f=n.directives.find(m=>m.name.value===d),p=f&&cn(f,i);return p&&rt(p,c.slice(1))}return}if(h==="$"){const d=l.slice(1);if(i&&X.call(i,d)){const f=c.slice(0);return f[0]=d,rt(i,f)}return}if(t)return rt(t,c)}),a=JSON.stringify(o);return(t||a!=="{}")&&(s+=":"+a),s})}function yn(r,e){const t=new at;return gs(r).reduce((n,i)=>{let s=e(i);if(s!==void 0){for(let o=i.length-1;o>=0;--o)s={[i[o]]:s};n=t.merge(n,s)}return n},{})}function gs(r){const e=mn(r);if(!e.paths){const t=e.paths=[],n=[];r.forEach((i,s)=>{G(i)?(gs(i).forEach(o=>t.push(n.concat(o))),n.length=0):(n.push(i),G(r[s+1])||(t.push(n.slice(0)),n.length=0))})}return e.paths}function vs(r,e){return r[e]}function rt(r,e,t){return t=t||vs,bs(e.reduce(function n(i,s){return G(i)?i.map(o=>n(o,s)):i&&t(i,s)},r))}function bs(r){return ae(r)?G(r)?r.map(bs):yn(Object.keys(r).sort(),e=>rt(r,e)):r}const ws=new ar,$n=new WeakMap;function Et(r){let e=$n.get(r);return e||$n.set(r,e={vars:new Set,dep:rs()}),e}function Qn(r){Et(r).vars.forEach(e=>e.forgetCache(r))}function Mc(r){Et(r).vars.forEach(e=>e.attachCache(r))}function Lc(r){const e=new Set,t=new Set,n=function(s){if(arguments.length>0){if(r!==s){r=s,e.forEach(a=>{Et(a).dep.dirty(n),qc(a)});const o=Array.from(t);t.clear(),o.forEach(a=>a(r))}}else{const o=ws.getValue();o&&(i(o),Et(o).dep(n))}return r};n.onNextChange=s=>(t.add(s),()=>{t.delete(s)});const i=n.attachCache=s=>(e.add(s),Et(s).vars.add(n),n);return n.forgetCache=s=>e.delete(s),n}function qc(r){r.broadcastWatches&&r.broadcastWatches()}function en(r){return r.args!==void 0?r.args:r.field?cn(r.field,r.variables):null}const Bc=()=>{},Un=(r,e)=>e.fieldName,Hn=(r,e,{mergeObjects:t})=>t(r,e),Kn=(r,e)=>e;class Vc{constructor(e){b(this,"config");b(this,"typePolicies",{});b(this,"toBeAdded",{});b(this,"supertypeMap",new Map);b(this,"fuzzySubtypes",new Map);b(this,"cache");b(this,"rootIdsByTypename",{});b(this,"rootTypenamesById",{});b(this,"usingPossibleTypes",!1);this.config=e,this.config={dataIdFromObject:fs,...e},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}identify(e,t){var h;const n=this,i=t&&(t.typename||((h=t.storeObject)==null?void 0:h.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];const s=t&&t.storeObject||e,o={...t,typename:i,storeObject:s,readField:t&&t.readField||((...d)=>{const f=gn(d,s);return n.readField(f,{store:n.cache.data,variables:f.variables})})};let a;const c=i&&this.getTypePolicy(i);let l=c&&c.keyFn||this.config.dataIdFromObject;return ms.withValue(!0,()=>{for(;l;){const d=l({...e,...s},o);if(G(d))l=zn(d);else{a=d;break}}}),a=a?String(a):void 0,o.keyObject?[a,o.keyObject]:[a]}addTypePolicies(e){Object.keys(e).forEach(t=>{const{queryType:n,mutationType:i,subscriptionType:s,...o}=e[t];n&&this.setRootTypename("Query",t),i&&this.setRootTypename("Mutation",t),s&&this.setRootTypename("Subscription",t),X.call(this.toBeAdded,t)?this.toBeAdded[t].push(o):this.toBeAdded[t]=[o]})}updateTypePolicy(e,t,n){const i=this.getTypePolicy(e),{keyFields:s,fields:o}=t;function a(c,l){c.merge=typeof l=="function"?l:l===!0?Hn:l===!1?Kn:c.merge}a(i,t.merge),i.keyFn=s===!1?Bc:G(s)?zn(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(c=>{let l=n[c];(!l||(l==null?void 0:l.typename)!==e)&&(l=n[c]={typename:e});const h=o[c];if(typeof h=="function")l.read=h;else{const{keyArgs:d,read:f,merge:p}=h;l.keyFn=d===!1?Un:G(d)?Wn(d):typeof d=="function"?d:l.keyFn,typeof f=="function"&&(l.read=f),a(l,p)}l.read&&l.merge&&(l.keyFn=l.keyFn||Un)})}setRootTypename(e,t=e){const n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];t!==i&&(L(!i||i===e,99,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)}addPossibleTypes(e){this.usingPossibleTypes=!0,Object.keys(e).forEach(t=>{this.getSupertypeSet(t,!0),e[t].forEach(n=>{this.getSupertypeSet(n,!0).add(t);const i=n.match(hs);(!i||i[0]!==n)&&this.fuzzySubtypes.set(n,new RegExp(n))})})}getTypePolicy(e){if(!X.call(this.typePolicies,e)){const n=this.typePolicies[e]={};n.fields={};let i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((s,o)=>{if(s.test(e)){const a=this.supertypeMap.get(o);a&&a.forEach(c=>i.add(c))}})),i&&i.size&&i.forEach(s=>{const{fields:o,...a}=this.getTypePolicy(s);Object.assign(n,a),Object.assign(n.fields,o)})}const t=this.toBeAdded[e];return t&&t.length&&t.splice(0).forEach(n=>{this.updateTypePolicy(e,n,this.typePolicies[e].fields)}),this.typePolicies[e]}getFieldPolicy(e,t){if(e)return this.getTypePolicy(e).fields[t]}getSupertypeSet(e,t){let n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n}fragmentMatches(e,t,n,i){if(!e.typeCondition)return!0;if(!t)return!1;const s=e.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s)){const o=this.getSupertypeSet(t,!0),a=[o],c=h=>{const d=this.getSupertypeSet(h,!1);d&&d.size&&a.indexOf(d)<0&&a.push(d)};let l=!!(n&&this.fuzzySubtypes.size);for(let h=0;h<a.length;++h){const d=a[h];if(d.has(s))return o.has(s)||o.add(s),!0;d.forEach(c),l&&h===a.length-1&&Zr(e.selectionSet,n,i)&&(l=!1,this.fuzzySubtypes.forEach((f,p)=>{const m=t.match(f);m&&m[0]===t&&c(p)}))}}return!1}hasKeyArgs(e,t){const n=this.getFieldPolicy(e,t);return!!(n&&n.keyFn)}getStoreFieldName(e){const{typename:t,fieldName:n}=e,i=this.getFieldPolicy(t,n);let s,o=i&&i.keyFn;if(o&&t){const a={typename:t,fieldName:n,field:e.field||null,variables:e.variables},c=en(e);for(;o;){const l=o(c,a);if(G(l))o=Wn(l);else{s=l||n;break}}}return s===void 0&&(s=e.field?gc(e.field,e.variables):os(n,en(e))),s===!1?n:n===ct(s)?s:n+":"+s}readField(e,t){const n=e.from;if(!n||!(e.field||e.fieldName))return;if(e.typename===void 0){const h=t.store.getFieldValue(n,"__typename");h&&(e.typename=h)}const s=this.getStoreFieldName(e),o=ct(s),a=t.store.getFieldValue(n,s),c=this.getFieldPolicy(e.typename,o),l=c&&c.read;if(l){const h=Gn(this,n,e,t,t.store.getStorage(Q(n)?n.__ref:n,s));return ws.withValue(this.cache,l,[a,h])}return a}getReadFunction(e,t){const n=this.getFieldPolicy(e,t);return n&&n.read}getMergeFunction(e,t,n){let i=this.getFieldPolicy(e,t),s=i&&i.merge;return!s&&n&&(i=this.getTypePolicy(n),s=i&&i.merge),s}runMergeFunction(e,t,{field:n,typename:i,merge:s},o,a){return s===Hn?Ss(o.store)(e,t):s===Kn?t:(o.overwrite&&(e=void 0),s(e,t,Gn(this,void 0,{typename:i,fieldName:n.name.value,field:n,variables:o.variables},o,a||{})))}}function Gn(r,e,t,n,i){const s=r.getStoreFieldName(t),o=ct(s),a=t.variables||n.variables,{toReference:c,canRead:l}=n.store;return{args:en(t),field:t.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:Q,toReference:c,storage:i,cache:r.cache,canRead:l,readField(...h){return r.readField(gn(h,e,a),n)},mergeObjects:Ss(n.store)}}function gn(r,e,t){const{0:n,1:i,length:s}=r;let o;return typeof n=="string"?o={fieldName:n,from:s>1?i:e}:(o={...n},X.call(o,"from")||(o.from=e)),o.variables===void 0&&(o.variables=t),o}function Ss(r){return function(t,n){if(G(t)||G(n))throw ve(102);if(ae(t)&&ae(n)){const i=r.getFieldValue(t,"__typename"),s=r.getFieldValue(n,"__typename");if(i&&s&&i!==s)return n;if(Q(t)&&Xe(n))return r.merge(t.__ref,n),t;if(Xe(t)&&Q(n))return r.merge(t,n.__ref),n;if(Xe(t)&&Xe(n))return{...t,...n}}return n}}function Yn(r){return[r.selectionSet,r.objectOrReference,r.context]}class zc{constructor(e){b(this,"executeSelectionSet");b(this,"executeSubSelectedArray");b(this,"config");b(this,"knownResults",new WeakMap);this.config=e,this.executeSelectionSet=st(t=>{const n=Yn(t),i=this.executeSelectionSet.peek(...n);return i||(Bn(t.context.store,t.enclosingRef.__ref),this.execSelectionSetImpl(t))},{max:_e["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Yn,makeCacheKey(t,n,i){if(Ct(i.store))return i.store.makeCacheKey(t,Q(n)?n.__ref:n,i.varString)}}),this.executeSubSelectedArray=st(t=>(Bn(t.context.store,t.enclosingRef.__ref),this.execSubSelectedArrayImpl(t)),{max:_e["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:t,array:n,context:i}){if(Ct(i.store))return i.store.makeCacheKey(t,n,i.varString)}})}diffQueryAgainstStore({store:e,query:t,rootId:n="ROOT_QUERY",variables:i,returnPartialData:s=!0}){const o=this.config.cache.policies;i={...hn(rc(t)),...i};const a=et(n),c=this.executeSelectionSet({selectionSet:ns(t).selectionSet,objectOrReference:a,enclosingRef:a,context:{store:e,query:t,policies:o,variables:i,varString:Re(i),...ds(t,this.config.fragments)}});let l;c.missing&&(l=new pn(Wc(c.missing),c.missing,t,i));const h=!l,{result:d}=c;return{result:h||s?Object.keys(d).length===0?null:d:null,complete:h,missing:l}}isFresh(e,t,n,i){if(Ct(i.store)&&this.knownResults.get(e)===n){const s=this.executeSelectionSet.peek(n,t,i);if(s&&e===s.result)return!0}return!1}execSelectionSetImpl({selectionSet:e,objectOrReference:t,enclosingRef:n,context:i}){if(Q(t)&&!i.policies.rootTypenamesById[t.__ref]&&!i.store.has(t.__ref))return{result:{},missing:`Dangling reference to missing ${t.__ref} object`};const{variables:s,policies:o,store:a}=i,c=a.getFieldValue(t,"__typename"),l=[];let h;const d=new at;typeof c=="string"&&!o.rootIdsByTypename[c]&&l.push({__typename:c});function f(y,k){return y.missing&&(h=d.merge(h,{[k]:y.missing})),y.result}const p=new Set(e.selections);p.forEach(y=>{if(fr(y,s))if(Rt(y)){let k=o.readField({fieldName:y.name.value,field:y,variables:i.variables,from:t},i);const C=ut(y);k===void 0?ls.added(y)||(h=d.merge(h,{[C]:`Can't find field '${y.name.value}' on ${Q(t)?t.__ref+" object":"object "+JSON.stringify(t,null,2)}`})):G(k)?k.length>0&&(k=f(this.executeSubSelectedArray({field:y,array:k,enclosingRef:n,context:i}),C)):y.selectionSet&&k!=null&&(k=f(this.executeSelectionSet({selectionSet:y.selectionSet,objectOrReference:k,enclosingRef:Q(k)?k:n,context:i}),C)),k!==void 0&&l.push({[C]:k})}else{const k=ur(y,i.lookupFragment);if(!k&&y.kind===q.FRAGMENT_SPREAD)throw ve(103,y.name.value);k&&o.fragmentMatches(k,c)&&k.selectionSet.selections.forEach(p.add,p)}});const S={result:lc(l),missing:h},g=Qr(S);return g.result&&this.knownResults.set(g.result,e),g}execSubSelectedArrayImpl({field:e,array:t,enclosingRef:n,context:i}){let s,o=new at;function a(c,l){return c.missing&&(s=o.merge(s,{[l]:c.missing})),c.result}return e.selectionSet&&(t=t.filter(i.store.canRead)),t=t.map((c,l)=>c===null?null:G(c)?a(this.executeSubSelectedArray({field:e,array:c,enclosingRef:n,context:i}),l):e.selectionSet?a(this.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,enclosingRef:Q(c)?c:n,context:i}),l):c),{result:t,missing:s}}}function Wc(r){try{JSON.stringify(r,(e,t)=>{if(typeof t=="string")throw t;return t})}catch(e){return e}}function Ar(r,e,t){const n=`${e}${t}`;let i=r.flavors.get(n);return i||r.flavors.set(n,i=r.clientOnly===e&&r.deferred===t?r:{...r,clientOnly:e,deferred:t}),i}class $c{constructor(e,t,n){b(this,"cache");b(this,"reader");b(this,"fragments");this.cache=e,this.reader=t,this.fragments=n}writeToStore(e,{query:t,result:n,dataId:i,variables:s,overwrite:o}){const a=Pe(t),c=Tc();s={...hn(a),...s};const l={store:e,written:{},merge(d,f){return c.merge(d,f)},variables:s,varString:Re(s),...ds(t,this.fragments),overwrite:!!o,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},h=this.processSelectionSet({result:n||{},dataId:i,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:l});if(!Q(h))throw ve(105,n);return l.incomingById.forEach(({storeObject:d,mergeTree:f,fieldNodeSet:p},m)=>{const S=et(m);if(f&&f.map.size){const g=this.applyMerges(f,S,d,l);if(Q(g))return;d=g}e.merge(m,d)}),e.retain(h.__ref),h}processSelectionSet({dataId:e,result:t,selectionSet:n,context:i,mergeTree:s}){const{policies:o}=this.cache;let a={};const c=e&&o.rootTypenamesById[e]||rn(t,n,i.fragmentMap)||e&&i.store.get(e,"__typename");typeof c=="string"&&(a.__typename=c);const l=(...d)=>{const f=gn(d,a,i.variables);if(Q(f.from)){const p=i.incomingById.get(f.from.__ref);if(p){const m=o.readField({...f,from:p.storeObject},i);if(m!==void 0)return m}}return o.readField(f,i)},h=new Set;this.flattenFields(n,t,i,c).forEach((d,f)=>{const p=ut(f),m=t[p];if(h.add(f),m!==void 0){const S=o.getStoreFieldName({typename:c,fieldName:f.name.value,field:f,variables:d.variables}),g=Jn(s,S);let y=this.processFieldValue(m,f,f.selectionSet?Ar(d,!1,!1):d,g),k;f.selectionSet&&(Q(y)||Xe(y))&&(k=l("__typename",y));const C=o.getMergeFunction(c,f.name.value,k);C?g.info={field:f,typename:c,merge:C}:Xn(s,S),a=d.merge(a,{[S]:y})}});try{const[d,f]=o.identify(t,{typename:c,selectionSet:n,fragmentMap:i.fragmentMap,storeObject:a,readField:l});e=e||d,f&&(a=i.merge(a,f))}catch(d){if(!e)throw d}if(typeof e=="string"){const d=et(e),f=i.written[e]||(i.written[e]=[]);if(f.indexOf(n)>=0||(f.push(n),this.reader&&this.reader.isFresh(t,d,n,i)))return d;const p=i.incomingById.get(e);return p?(p.storeObject=i.merge(p.storeObject,a),p.mergeTree=tn(p.mergeTree,s),h.forEach(m=>p.fieldNodeSet.add(m))):i.incomingById.set(e,{storeObject:a,mergeTree:tr(s)?void 0:s,fieldNodeSet:h}),d}return a}processFieldValue(e,t,n,i){return!t.selectionSet||e===null?e:G(e)?e.map((s,o)=>{const a=this.processFieldValue(s,t,n,Jn(i,o));return Xn(i,o),a}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:i})}flattenFields(e,t,n,i=rn(t,e,n.fragmentMap)){const s=new Map,{policies:o}=this.cache,a=new Me(!1);return function c(l,h){const d=a.lookup(l,h.clientOnly,h.deferred);d.visited||(d.visited=!0,l.selections.forEach(f=>{if(!fr(f,n.variables))return;let{clientOnly:p,deferred:m}=h;if(!(p&&m)&&dn(f.directives)&&f.directives.forEach(S=>{const g=S.name.value;if(g==="client"&&(p=!0),g==="defer"){const y=cn(S,n.variables);(!y||y.if!==!1)&&(m=!0)}}),Rt(f)){const S=s.get(f);S&&(p=p&&S.clientOnly,m=m&&S.deferred),s.set(f,Ar(n,p,m))}else{const S=ur(f,n.lookupFragment);if(!S&&f.kind===q.FRAGMENT_SPREAD)throw ve(107,f.name.value);S&&o.fragmentMatches(S,i,t,n.variables)&&c(S.selectionSet,Ar(n,p,m))}}))}(e,n),s}applyMerges(e,t,n,i,s){if(e.map.size&&!Q(n)){const o=!G(n)&&(Q(t)||Xe(t))?t:void 0,a=n;o&&!s&&(s=[Q(o)?o.__ref:o]);let c;const l=(h,d)=>G(h)?typeof d=="number"?h[d]:void 0:i.store.getFieldValue(h,String(d));e.map.forEach((h,d)=>{const f=l(o,d),p=l(a,d);if(p===void 0)return;s&&s.push(d);const m=this.applyMerges(h,f,p,i,s);m!==p&&(c=c||new Map,c.set(d,m)),s&&L(s.pop()===d)}),c&&(n=G(a)?a.slice(0):{...a},c.forEach((h,d)=>{n[d]=h}))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,i,s&&i.store.getStorage(...s)):n}}const ks=[];function Jn({map:r},e){return r.has(e)||r.set(e,ks.pop()||{map:new Map}),r.get(e)}function tn(r,e){if(r===e||!e||tr(e))return r;if(!r||tr(r))return e;const t=r.info&&e.info?{...r.info,...e.info}:r.info||e.info,n=r.map.size&&e.map.size,i=n?new Map:r.map.size?r.map:e.map,s={info:t,map:i};if(n){const o=new Set(e.map.keys());r.map.forEach((a,c)=>{s.map.set(c,tn(a,e.map.get(c))),o.delete(c)}),o.forEach(a=>{s.map.set(a,tn(e.map.get(a),r.map.get(a)))})}return s}function tr(r){return!r||!(r.info||r.map.size)}function Xn({map:r},e){const t=r.get(e);t&&tr(t)&&(ks.push(t),r.delete(e))}function rn(r,e,t){let n;for(const i of e.selections)if(Rt(i)){if(i.name.value==="__typename")return r[ut(i)]}else n?n.push(i):n=[i];if(typeof r.__typename=="string")return r.__typename;if(n)for(const i of n){const s=rn(r,ur(i,t).selectionSet,t);if(typeof s=="string")return s}}class Qc extends Ec{constructor(t={}){super();b(this,"data");b(this,"optimisticData");b(this,"config");b(this,"watches",new Set);b(this,"storeReader");b(this,"storeWriter");b(this,"addTypenameTransform",new Te(ls));b(this,"maybeBroadcastWatch");b(this,"assumeImmutableResults",!0);b(this,"policies");b(this,"makeVar",Lc);b(this,"txCount",0);this.config=Nc(t),this.policies=new Vc({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){const t=this.data=new hr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()}resetResultCache(){const{fragments:t}=this.config;this.addTypenameTransform.resetCache(),t==null||t.resetCaches(),this.storeWriter=new $c(this,this.storeReader=new zc({cache:this,fragments:t}),t),this.maybeBroadcastWatch=st((n,i)=>this.broadcastWatch(n,i),{max:_e["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:n=>{const i=n.optimistic?this.optimisticData:this.data;if(Ct(i)){const{optimistic:s,id:o,variables:a}=n;return i.makeCacheKey(n.query,n.callback,Re({optimistic:s,id:o,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(n=>n.resetCaching())}restore(t){return this.init(),t&&this.data.replace(t),this}extract(t=!1){return(t?this.optimisticData:this.data).extract()}read(t){const{returnPartialData:n=!1}=t;return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n}).result}write(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}modify(t){if(X.call(t,"id")&&!t.id)return!1;const n=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(t.id||"ROOT_QUERY",t.fields,!1)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}diff(t){return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config})}watch(t){return this.watches.size||Mc(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),()=>{this.watches.delete(t)&&!this.watches.size&&Qn(this),this.maybeBroadcastWatch.forget(t)}}gc(t){Re.reset(),tt.reset();const n=this.optimisticData.gc();return t&&!this.txCount&&t.resetResultCache&&this.resetResultCache(),n}retain(t,n){return(n?this.optimisticData:this.data).retain(t)}release(t,n){return(n?this.optimisticData:this.data).release(t)}identify(t){if(Q(t))return t.__ref;try{return this.policies.identify(t)[0]}catch{}}evict(t){if(!t.id){if(X.call(t,"id"))return!1;t={...t,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}reset(t){return this.init(),Re.reset(),t&&t.discardWatches?(this.watches.forEach(n=>this.maybeBroadcastWatch.forget(n)),this.watches.clear(),Qn(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(t){const n=this.optimisticData.removeLayer(t);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())}batch(t){const{update:n,optimistic:i=!0,removeOptimistic:s,onWatchUpdated:o}=t;let a;const c=h=>{const{data:d,optimisticData:f}=this;++this.txCount,h&&(this.data=this.optimisticData=h);try{return a=n(this)}finally{--this.txCount,this.data=d,this.optimisticData=f}},l=new Set;return o&&!this.txCount&&this.broadcastWatches({...t,onWatchUpdated(h){return l.add(h),!1}}),typeof i=="string"?this.optimisticData=this.optimisticData.addLayer(i,c):i===!1?c(this.data):c(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),o&&l.size?(this.broadcastWatches({...t,onWatchUpdated(h,d){const f=o.call(this,h,d);return f!==!1&&l.delete(h),f}}),l.size&&l.forEach(h=>this.maybeBroadcastWatch.dirty(h))):this.broadcastWatches(t),a}performTransaction(t,n){return this.batch({update:t,optimistic:n||n!==null})}transformDocument(t){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(t))}fragmentMatches(t,n){return this.policies.fragmentMatches(t,n)}lookupFragment(t){var n;return((n=this.config.fragments)==null?void 0:n.lookup(t))||null}broadcastWatches(t){this.txCount||this.watches.forEach(n=>this.maybeBroadcastWatch(n,t))}addFragmentsToDocument(t){const{fragments:n}=this.config;return n?n.transform(t):t}broadcastWatch(t,n){const{lastDiff:i}=t,s=this.diff(t);n&&(t.optimistic&&typeof n.optimistic=="string"&&(s.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,t,s,i)===!1)||(!i||!H(i.result,s.result))&&t.callback(t.lastDiff=s,i)}}function Dt(r,e){return typeof r=="object"&&r!==null&&r[Symbol.for("apollo.error")]===e}function Ft(r){Object.defineProperty(r,Symbol.for("apollo.error"),{value:r.name,enumerable:!1,writable:!1,configurable:!1})}function Zn(r){return r.map(e=>e.message||"Error message not found.").join(`
`)}const jt=class jt extends Error{constructor(t){super(jt.formatMessage(t,{defaultFormatMessage:Zn}));b(this,"errors");this.name="CombinedProtocolErrors",this.errors=t,Ft(this),Object.setPrototypeOf(this,jt.prototype)}static is(t){return Dt(t,"CombinedProtocolErrors")}};b(jt,"formatMessage",Zn);let rr=jt;function Uc(r){return r!==null&&typeof r=="object"&&typeof r.message=="string"&&typeof r.name=="string"&&(typeof r.stack=="string"||typeof r.stack>"u")}class vn extends Error{static is(e){return Dt(e,"UnconventionalError")}constructor(e){super("An error of unexpected shape occurred.",{cause:e}),this.name="UnconventionalError",Ft(this),Object.setPrototypeOf(this,vn.prototype)}}function ei(r){return r.filter(e=>e).map(e=>e.message||"Error message not found.").join(`
`)}const Nt=class Nt extends Error{constructor(t,n=t.errors||[]){super(Nt.formatMessage(n,{result:t,defaultFormatMessage:ei}));b(this,"errors");b(this,"data");b(this,"extensions");this.errors=n,this.data=t.data,this.extensions=t.extensions,this.name="CombinedGraphQLErrors",Ft(this),Object.setPrototypeOf(this,Nt.prototype)}static is(t){return Dt(t,"CombinedGraphQLErrors")}};b(Nt,"formatMessage",ei);let We=Nt;const Hc=new WeakSet;function Kc(r){Hc.add(r)}class dr extends Error{constructor(t,n){super(t);b(this,"response");b(this,"statusCode");b(this,"bodyText");this.name="ServerError",this.response=n.response,this.statusCode=n.response.status,this.bodyText=n.bodyText,Ft(this),Object.setPrototypeOf(this,dr.prototype)}static is(t){return Dt(t,"ServerError")}}class pr extends Error{constructor(t,n){super(t instanceof Error?t.message:"Could not parse server response",{cause:t});b(this,"response");b(this,"statusCode");b(this,"bodyText");this.name="ServerParseError",this.response=n.response,this.statusCode=n.response.status,this.bodyText=n.bodyText,Ft(this),Object.setPrototypeOf(this,pr.prototype)}static is(t){return Dt(t,"ServerParseError")}}const nr=Symbol();function Gc(r){return"extensions"in r?rr.is(r.extensions[nr]):!1}function Yc(r){return Uc(r)?r:typeof r=="string"?new Error(r,{cause:r}):new vn(r)}const{assign:ti}=Object,Ge={loading:!0,networkStatus:A.loading,data:void 0,dataState:"empty",partial:!0},Rr={loading:!1,networkStatus:A.ready,data:void 0,dataState:"empty",partial:!0};var mi;mi=Symbol.observable;class Dr{constructor({queryManager:e,options:t,transformedQuery:n=e.transform(t.query)}){b(this,"options");b(this,"queryName");b(this,"_lastWrite");b(this,"unsubscribeFromCache");b(this,"input");b(this,"subject");b(this,"isTornDown");b(this,"queryManager");b(this,"subscriptions",new Set);b(this,"waitForNetworkResult");b(this,"lastQuery");b(this,"linkSubscription");b(this,"pollingInfo");b(this,"subscribe");b(this,"pipe");b(this,mi);b(this,"@@observable");b(this,"stableLastResult");b(this,"didWarnCacheOnlyPolling",!1);b(this,"dirty",!1);b(this,"notifyTimeout");b(this,"activeOperations",new Set);b(this,"operator",Yr(e=>{const{query:t,variables:n,meta:i}=e;if(e.source==="setResult")return{query:t,variables:n,result:e.value,meta:i};if(e.kind==="C"||!vt(e,this))return;let s;const o=this.subject.getValue();if(e.source==="cache"){if(s=e.value,s.networkStatus===A.ready&&s.partial&&(!this.options.returnPartialData||o.result.networkStatus===A.error)&&this.options.fetchPolicy!=="cache-only")return}else if(e.source==="network")this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),s=e.kind==="E"?{...vt(o,e)?o.result:{data:void 0,dataState:"empty",partial:!0},error:e.error,networkStatus:A.error,loading:!1}:e.value,e.kind==="E"&&s.dataState==="streaming"&&(s.dataState="complete"),s.error&&(i.shouldEmit=1);else if(e.source==="newNetworkStatus"){const a=vt(o,e)?o.result:this.getInitialResult(i.fetchPolicy),{resetError:c}=e.value,l=c?void 0:a.error,h=l?A.error:A.ready;s={...a,error:l,networkStatus:h}}return L(s),s.error||delete s.error,s.networkStatus=this.calculateNetworkStatus(s.networkStatus),s.loading=Xr(s.networkStatus),s=this.maskResult(s),{query:t,variables:n,result:s,meta:i}}));this.queryManager=e,this.waitForNetworkResult=t.fetchPolicy==="network-only",this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:i="cache-first"}={}}=e.defaultOptions,{fetchPolicy:s=i,initialFetchPolicy:o=s==="standby"?i:s}=t;this.lastQuery=n,this.options={...t,initialFetchPolicy:o,fetchPolicy:s,variables:this.getVariablesWithDefaults(t.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const a=Pe(this.query);this.queryName=a&&a.name&&a.name.value}get query(){return this.lastQuery}get variables(){return this.options.variables}get networkStatus(){return this.subject.getValue().result.networkStatus}initializeObservablesQueue(){this.subject=new na({query:this.query,variables:this.variables,result:Ge,meta:{}});const e=this.subject.pipe(er({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),Yr(({query:t,variables:n,result:i,meta:s},o)=>{const{shouldEmit:a}=s;if(i===Ge&&(o.previous=void 0,o.previousVariables=void 0),this.options.fetchPolicy==="standby"||a===2)return;if(a===1)return h();const{previous:c,previousVariables:l}=o;if(c){const d=this.queryManager.getDocumentInfo(t),f=this.queryManager.dataMasking,p=f?d.nonReactiveQuery:t;if((f||d.hasNonreactiveDirective?cs(p,c,i,n):H(c,i))&&H(l,n))return}if(a===3&&(!this.options.notifyOnNetworkStatusChange||H(c,i)))return;return h();function h(){return o.previous=i,o.previousVariables=n,i}},()=>({})));this.pipe=e.pipe.bind(e),this.subscribe=e.subscribe.bind(e),this.input=new lt,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}getCacheDiff({optimistic:e=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:e})}getInitialResult(e){const t=this.queryManager.prioritizeCacheValues?"cache-first":e||this.options.fetchPolicy,n=()=>{const i=this.getCacheDiff(),s=this.options.returnPartialData||i.complete?i.result??void 0:void 0;return this.maskResult({data:s,dataState:i.complete?"complete":s===void 0?"empty":"partial",loading:!i.complete,networkStatus:i.complete?A.ready:A.loading,partial:!i.complete})};switch(t){case"cache-only":return{...n(),loading:!1,networkStatus:A.ready};case"cache-first":return n();case"cache-and-network":return{...n(),loading:!0,networkStatus:A.loading};case"standby":return Rr;default:return Ge}}resubscribeCache(){var c;const{variables:e,fetchPolicy:t}=this.options,n=this.query,i=t==="standby"||t==="no-cache"||this.waitForNetworkResult,s=!vt({query:n,variables:e},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((i||s)&&((c=this.unsubscribeFromCache)==null||c.call(this)),i||!s)return;const o={query:n,variables:e,optimistic:!0,watcher:this,callback:l=>{const h=this.queryManager.getDocumentInfo(n);if((h.hasClientExports||h.hasForcedResolvers)&&(o.lastDiff=void 0),o.lastOwnDiff===l)return;const{result:d}=this.subject.getValue();!l.complete&&(d.error||d===Ge||d===Rr)||H(d.data,l.result)||this.scheduleNotify()}},a=this.queryManager.cache.watch(o);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,a()},{query:n,variables:e})}getCurrentResult(){const{result:e}=this.subject.getValue();let t=e.networkStatus===A.error||this.hasObservers()||this.options.fetchPolicy==="no-cache"?e:this.getInitialResult();return t===Ge&&(t=this.getInitialResult()),H(this.stableLastResult,t)||(this.stableLastResult=t),this.stableLastResult}refetch(e){const{fetchPolicy:t}=this.options,n={pollInterval:0};return t==="no-cache"?n.fetchPolicy="no-cache":n.fetchPolicy="network-only",e&&!H(this.variables,e)&&(n.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...e})),this._lastWrite=void 0,this._reobserve(n,{newNetworkStatus:A.refetch})}fetchMore({query:e,variables:t,context:n,errorPolicy:i,updateQuery:s}){L(this.options.fetchPolicy!=="cache-only",78,ot(this.query,"(anonymous)"));const o={...xe(this.options,{errorPolicy:"none"},{query:e,context:n,errorPolicy:i}),variables:e?t:{...this.variables,...t},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};o.query=this.transformDocument(o.query),this.lastQuery=e?this.transformDocument(this.options.query):o.query;let a=!1;const c=this.options.fetchPolicy!=="no-cache";c||L(s,79);const{finalize:l,pushNotification:h}=this.pushOperation(A.fetchMore);return h({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(o,A.fetchMore).then(d=>{if(l(),c){const f=this.getCacheDiff();this.queryManager.cache.batch({update:p=>{s?p.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},m=>s(m,{fetchMoreResult:d.data,variables:o.variables})):p.writeQuery({query:o.query,variables:o.variables,data:d.data})},onWatchUpdated:(p,m)=>{p.watcher===this&&!H(m.result,f.result)&&(a=!0)}})}else{const f=this.getCurrentResult(),p=s(f.data,{fetchMoreResult:d.data,variables:o.variables});h({kind:"N",value:{...f,networkStatus:A.ready,loading:!1,data:p,dataState:f.dataState==="streaming"?"streaming":"complete"},source:"network"})}return this.maskResult(d)}).finally(()=>{l(),c&&!a&&h({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(e){const t=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:n=>{const{updateQuery:i,onError:s}=e,{error:o}=n;if(o){s?s(o):L.error(80,o);return}i&&this.updateQuery((a,c)=>i(a,{subscriptionData:n,...c}))}});return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)&&t.unsubscribe()}}applyOptions(e){const t=xe(this.options,e||{});ti(this.options,t),this.updatePolling()}async setVariables(e){return e=this.getVariablesWithDefaults(e),H(this.variables,e)?Qt(this.getCurrentResult()):(this.options.variables=e,this.hasObservers()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},{newNetworkStatus:A.setVariables}):Qt(this.getCurrentResult()))}updateQuery(e){const{queryManager:t}=this,{result:n,complete:i}=this.getCacheDiff({optimistic:!1}),s=e(n,{variables:this.variables,complete:!!i,previousData:n});s&&(t.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),t.broadcastQueries())}startPolling(e){this.options.pollInterval=e,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(e,t){if(t.nextFetchPolicy){const{fetchPolicy:n="cache-first",initialFetchPolicy:i=n}=t;n==="standby"||(typeof t.nextFetchPolicy=="function"?t.fetchPolicy=t.nextFetchPolicy.call(t,n,{reason:e,options:t,observable:this,initialFetchPolicy:i}):e==="variables-changed"?t.fetchPolicy=i:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy}fetch(e,t,n,i){const s=this.options.fetchPolicy;e.context??(e.context={});let o=!1;const a=()=>{o=!0},c=g=>new Y(y=>{try{return g.subscribe({next(k){o=!0,y.next(k)},error:k=>y.error(k),complete:()=>y.complete()})}finally{o||(p.override=t,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:d,variables:f,meta:{shouldEmit:3,fetchPolicy:s}}))}});let{observable:l,fromLink:h}=this.queryManager.fetchObservableWithInfo(e,{networkStatus:t,query:n,onCacheHit:a,fetchQueryOperator:c,observableQuery:this});const{query:d,variables:f}=this,p={abort:()=>{S.unsubscribe()},query:d,variables:f};this.activeOperations.add(p);let m=t==A.refetch||t==A.setVariables;l=l.pipe(i,Zt());const S=l.pipe(er({next:g=>{g.source==="newNetworkStatus"||g.kind==="N"&&g.value.loading?p.override=t:delete p.override},finalize:()=>this.activeOperations.delete(p)})).subscribe({next:g=>{const y={};m&&g.kind==="N"&&"loading"in g.value&&!g.value.loading&&(m=!1,y.shouldEmit=1),this.input.next({...g,query:d,variables:f,meta:y})}});return{fromLink:h,subscription:S,observable:l}}updatePolling(){if(this.queryManager.ssrMode)return;const{pollingInfo:e,options:{fetchPolicy:t,pollInterval:n}}=this;if(!n||!this.hasObservers()||t==="cache-only"){this.cancelPolling();return}if((e==null?void 0:e.interval)===n)return;const i=e||(this.pollingInfo={});i.interval=n;const s=()=>{var a,c;this.pollingInfo&&(!Xr(this.networkStatus)&&!((c=(a=this.options).skipPollAttempt)!=null&&c.call(a))?this._reobserve({fetchPolicy:this.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},{newNetworkStatus:A.poll}).then(o,o):o())},o=()=>{const a=this.pollingInfo;a&&(clearTimeout(a.timeout),a.timeout=setTimeout(s,a.interval))};o()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(e){return this._reobserve(e)}_reobserve(e,t){this.isTornDown=!1;let{newNetworkStatus:n}=t||{};this.queryManager.obsQueries.add(this);const i=n===A.refetch||n===A.poll,s=this.variables,o=this.options.fetchPolicy,a=xe(this.options,e||{}),c=i?a:ti(this.options,a),l=this.transformDocument(c.query);this.lastQuery=l,e&&"variables"in e&&(c.variables=this.getVariablesWithDefaults(e.variables)),i||(this.updatePolling(),e&&e.variables&&!H(e.variables,s)&&c.fetchPolicy!=="standby"&&(c.fetchPolicy===o||typeof c.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",c),n===void 0&&(n=A.setVariables)));const h=this.networkStatus;n||(n=A.loading,h!==A.loading&&(e!=null&&e.variables)&&!H(e.variables,s)&&(n=A.setVariables),c.fetchPolicy==="standby"&&(n=A.ready)),c.fetchPolicy==="standby"&&this.cancelPolling(),this.resubscribeCache();const{promise:d,operator:f}=Jc(y=>{switch(y.kind){case"E":throw y.error;case"N":if(y.source!=="newNetworkStatus"&&!y.value.loading)return y.value}},c.fetchPolicy==="standby"?{data:void 0}:void 0),{subscription:p,observable:m,fromLink:S}=this.fetch(c,n,l,f);!i&&(S||!this.linkSubscription)&&(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=p);const g=Object.assign(uc(d.then(y=>Qt(this.maskResult(y))).finally(()=>{!this.hasObservers()&&this.activeOperations.size===0&&this.tearDownQuery()})),{retain:()=>{const y=m.subscribe({}),k=()=>y.unsubscribe();return d.then(k,k),g}});return g}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){var e;this.isTornDown||(this.resetNotifications(),(e=this.unsubscribeFromCache)==null||e.call(this),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(e){return this.queryManager.transform(e)}maskResult(e){const t=this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,cause:this});return t===e.data?e:{...e,data:t}}resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(e=!1){if(!e){const n=this.queryManager.getDocumentInfo(this.query);if(n.hasClientExports||n.hasForcedResolvers)return}const{dirty:t}=this;if(this.resetNotifications(),t&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!this.activeOperations.size)){const n=this.getCacheDiff();H(n.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:n.result,dataState:n.complete?"complete":n.result?"partial":"empty",networkStatus:A.ready,loading:!1,error:void 0,partial:!n.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}pushOperation(e){let t=!1;const{query:n,variables:i}=this,s=()=>{this.activeOperations.delete(o)},o={override:e,abort:()=>{t=!0,s()},query:n,variables:i};return this.activeOperations.add(o),{finalize:s,pushNotification:(a,c)=>{t||this.input.next({...a,query:n,variables:i,meta:{...c}})}}}calculateNetworkStatus(e){if(e===A.streaming)return e;const t=Array.from(this.activeOperations.values()).findLast(n=>vt(n,this)&&n.override!==void 0);return(t==null?void 0:t.override)??e}abortActiveOperations(){this.activeOperations.forEach(e=>e.abort())}reset(){const e=this.options.fetchPolicy==="cache-only";this.setResult(e?Rr:Ge,{shouldEmit:e?1:2}),this.abortActiveOperations()}setResult(e,t){this.input.next({source:"setResult",kind:"N",value:e,query:this.query,variables:this.variables,meta:{...t}})}reobserveCacheFirst(){const{fetchPolicy:e,nextFetchPolicy:t}=this.options;e==="cache-and-network"||e==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(n,i){return this.nextFetchPolicy=t,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(n,i):e}}):this.reobserve()}getVariablesWithDefaults(e){return this.queryManager.getVariables(this.query,e)}}function vt(r,e){return!!(r&&e&&r.query===e.query&&H(r.variables,e.variables))}function Jc(r,e){let t=e,n,i;const s=new Promise((a,c)=>{n=a,i=c}),o=er({next(a){try{const c=r(a);c!==void 0&&(t=c)}catch(c){i(c)}},finalize:()=>{if(t)n(t);else{const a="The operation was aborted.",c="AbortError";i(typeof DOMException<"u"?new DOMException(a,c):Object.assign(new Error(a),{name:c}))}}});return{promise:s,operator:o}}const ri={},Ze=new WeakMap;function Fr(r,e){const t=r[e];typeof t=="function"&&(r[e]=function(){return Ze.set(r,(Ze.get(r)+1)%1e15),t.apply(this,arguments)})}const ni=new WeakMap;class Mr{constructor(e,t){b(this,"lastRequestId",1);b(this,"cache");b(this,"queryManager");b(this,"id");b(this,"observableQuery");b(this,"incremental");b(this,"_lastWrite");const n=this.cache=e.cache,i=(ni.get(e)||0)+1;ni.set(e,i),this.id=i+"",this.observableQuery=t,this.queryManager=e,Ze.has(n)||(Ze.set(n,0),Fr(n,"evict"),Fr(n,"modify"),Fr(n,"reset"))}get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(e){(this.observableQuery||this)._lastWrite=e}resetLastWrite(){this.lastWrite=void 0}shouldWrite(e,t){const{lastWrite:n}=this;return!(n&&n.dmCount===Ze.get(this.cache)&&H(t,n.variables)&&H(e.data,n.result.data))}get hasNext(){return this.incremental?this.incremental.hasNext:!1}maybeHandleIncrementalResult(e,t,n){const{incrementalHandler:i}=this.queryManager;return i.isIncrementalResult(t)?(this.incremental||(this.incremental=i.startRequest({query:n})),this.incremental.handle(e,t)):t}markQueryResult(e,{document:t,variables:n,errorPolicy:i,cacheWriteBehavior:s}){var h;const o={query:t,variables:n,returnPartialData:!0,optimistic:!0};(h=this.observableQuery)==null||h.resetNotifications();const a=s===0,c=a?void 0:this.cache.diff(o);let l=this.maybeHandleIncrementalResult(c==null?void 0:c.result,e,t);return a||(Lr(l,i)?this.cache.batch({onWatchUpdated:(d,f)=>{d.watcher===this.observableQuery&&(d.lastOwnDiff=f)},update:d=>{if(this.shouldWrite(l,n))d.writeQuery({query:t,data:l.data,variables:n,overwrite:s===1}),this.lastWrite={result:l,variables:n,dmCount:Ze.get(this.cache)};else if(c&&c.complete){l={...l,data:c.result};return}const f=d.diff(o);f.complete&&(l={...l,data:f.result})}}):this.lastWrite=void 0),l}markMutationResult(e,t,n=this.cache){const i=[],s=t.cacheWriteBehavior===0;let o=this.maybeHandleIncrementalResult(s?void 0:n.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}).result,e,t.document);if(t.errorPolicy==="ignore"&&(o={...o,errors:[]}),Je(o)&&t.errorPolicy==="none")return Promise.resolve(o);const a=()=>({...o,dataState:this.hasNext?"streaming":"complete"});if(!s&&Lr(o,t.errorPolicy)){i.push({result:o.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables});const{updateQueries:l}=t;l&&this.queryManager.getObservableQueries("all").forEach(h=>{const d=h&&h.queryName;if(!d||!Object.hasOwnProperty.call(l,d))return;const f=l[d],{query:p,variables:m}=h,{result:S,complete:g}=h.getCacheDiff({optimistic:!1});if(g&&S){const y=f(S,{mutationResult:a(),queryName:p&&ot(p)||void 0,queryVariables:m});y&&i.push({result:y,dataId:"ROOT_QUERY",query:p,variables:m})}})}let c=t.refetchQueries;if(typeof c=="function"&&(c=c(a())),i.length>0||(c||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){const l=[];if(this.queryManager.refetchQueries({updateCache:h=>{s||i.forEach(f=>h.write(f));const{update:d}=t;if(d){if(!s){const f=h.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});f.complete&&(o={...o,data:f.result})}this.hasNext||d(h,o,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&!this.hasNext&&h.modify({id:"ROOT_MUTATION",fields(f,{fieldName:p,DELETE:m}){return p==="__typename"?f:m}})},include:c,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(h=>l.push(h)),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(l).then(()=>o)}return Promise.resolve(o)}markMutationOptimistic(e,t){const n=typeof e=="function"?e(t.variables,{IGNORE:ri}):e;return n===ri?!1:(this.cache.recordOptimisticTransaction(i=>{try{this.markMutationResult({data:n},t,i)}catch(s){L.error(s)}},this.id),!0)}markSubscriptionResult(e,{document:t,variables:n,errorPolicy:i,cacheWriteBehavior:s}){s!==0&&(Lr(e,i)&&this.cache.write({query:t,result:e.data,dataId:"ROOT_SUBSCRIPTION",variables:n}),this.queryManager.broadcastQueries())}}function Lr(r,e="none"){const t=e==="ignore"||e==="all";let n=!Je(r);return!n&&t&&r.data&&(n=!0),n}class Xc{constructor(e){b(this,"defaultOptions");b(this,"client");b(this,"clientOptions");b(this,"assumeImmutableResults");b(this,"documentTransform");b(this,"ssrMode");b(this,"defaultContext");b(this,"dataMasking");b(this,"incrementalHandler");b(this,"localState");b(this,"queryDeduplication");b(this,"prioritizeCacheValues",!1);b(this,"onBroadcast");b(this,"mutationStore");b(this,"obsQueries",new Set);b(this,"fetchCancelFns",new Map);b(this,"transformCache",new ss(_e["queryManager.getDocumentInfo"]||2e3));b(this,"requestIdCounter",1);b(this,"inFlightLinkObservables",new Me(!1));b(this,"noCacheWarningsByCause",new WeakSet);const t=new Te(i=>this.cache.transformDocument(i),{cache:!1});this.client=e.client,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientOptions=e.clientOptions,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking,this.localState=e.localState,this.incrementalHandler=e.incrementalHandler;const n=e.documentTransform;this.documentTransform=n?t.concat(n).concat(t):t,this.defaultContext=e.defaultContext||{},(this.onBroadcast=e.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(e=>e.stop()),this.cancelPendingFetches(ve(83))}cancelPendingFetches(e){this.fetchCancelFns.forEach(t=>t(e)),this.fetchCancelFns.clear()}async mutate({mutation:e,variables:t,optimisticResponse:n,updateQueries:i,refetchQueries:s=[],awaitRefetchQueries:o=!1,update:a,onQueryUpdated:c,fetchPolicy:l,errorPolicy:h,keepRootFields:d,context:f}){const p=new Mr(this);e=this.cache.transformForLink(this.transform(e));const{hasClientExports:m}=this.getDocumentInfo(e);t=this.getVariables(e,t),m&&(t=await this.localState.getExportedVariables({client:this.client,document:e,variables:t,context:f}));const S=this.mutationStore&&(this.mutationStore[p.id]={mutation:e,variables:t,loading:!0,error:null}),g=n&&p.markMutationOptimistic(n,{document:e,variables:t,cacheWriteBehavior:l==="no-cache"?0:2,errorPolicy:h,context:f,updateQueries:i,update:a,keepRootFields:d});return this.broadcastQueries(),new Promise((y,k)=>{const C={};return this.getObservableFromLink(e,{...f,optimisticResponse:g?n:void 0},t,{},!1).observable.pipe(ii(),Ye(E=>{const x={...E};return ze(p.markMutationResult(x,{document:e,variables:t,cacheWriteBehavior:l==="no-cache"?0:2,errorPolicy:h,context:f,update:a,updateQueries:i,awaitRefetchQueries:o,refetchQueries:s,removeOptimistic:g?p.id:void 0,onQueryUpdated:c,keepRootFields:d}))})).pipe(Qe(E=>{if(Je(E)&&h==="none")throw new We(E);return S&&(S.loading=!1,S.error=null),E})).subscribe({next:E=>{if(this.broadcastQueries(),!p.hasNext){const x={data:this.maskOperation({document:e,data:E.data,fetchPolicy:l,cause:C})};Je(E)&&(x.error=new We(E)),Object.keys(E.extensions||{}).length&&(x.extensions=E.extensions),y(x)}},error:E=>{if(S&&(S.loading=!1,S.error=E),g&&this.cache.removeOptimistic(p.id),this.broadcastQueries(),h==="ignore")return y({data:void 0});if(h==="all")return y({data:void 0,error:E});k(E)}})})}fetchQuery(e,t){return Ae(e.query,wt.QUERY),(async()=>ka(this.fetchObservableWithInfo(e,{networkStatus:t}).observable.pipe(Yr(n=>{switch(n.kind){case"E":throw n.error;case"N":if(n.source!=="newNetworkStatus")return Qt(n.value)}})),{defaultValue:{data:void 0}}))()}transform(e){return this.documentTransform.transformDocument(e)}getDocumentInfo(e){const{transformCache:t}=this;if(!t.has(e)){const i=Pe(e),s={hasClientExports:kt(["client","export"],e,!0),hasForcedResolvers:ac(e),hasNonreactiveDirective:kt(["nonreactive"],e),hasIncrementalDirective:kt(["defer"],e),nonReactiveQuery:Zc(e),clientQuery:kt(["client"],e)?e:null,serverQuery:fc([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),operationType:i==null?void 0:i.operation,defaultVars:hn(i),asQuery:{...e,definitions:e.definitions.map(o=>o.kind==="OperationDefinition"&&o.operation!=="query"?{...o,operation:"query"}:o)}};t.set(e,s)}const n=t.get(e);if(n.violation)throw n.violation;return n}getVariables(e,t){const n=this.getDocumentInfo(e).defaultVars,i=Object.entries(t??{}).map(([s,o])=>[s,o===void 0?n[s]:o]);return{...n,...Object.fromEntries(i)}}watchQuery(e){Ae(e.query,wt.QUERY);const t=this.transform(e.query);return e={...e,variables:this.getVariables(t,e.variables)},typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!0),new Dr({queryManager:this,options:e,transformedQuery:t})}query(e){const t=this.transform(e.query);return this.fetchQuery({...e,query:t}).then(n=>({...n,data:this.maskOperation({document:t,data:n==null?void 0:n.data,fetchPolicy:e.fetchPolicy})}))}generateRequestId(){return this.requestIdCounter++}clearStore(e={discardWatches:!0}){return this.cancelPendingFetches(ve(85)),this.obsQueries.forEach(t=>{t.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(e)}getObservableQueries(e="active"){const t=new Set,n=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(o=>{if(typeof o=="string")n.set(o,o),i.set(o,!1);else if(cc(o)){const a=tt(this.transform(o));n.set(a,ot(o)),i.set(a,!1)}else ae(o)&&o.query&&s.add(o)}),this.obsQueries.forEach(o=>{const a=tt(this.transform(o.options.query));if(e==="all"){t.add(o);return}const{queryName:c,options:{fetchPolicy:l}}=o;e==="active"&&l==="standby"||(e==="active"||c&&i.has(c)||a&&i.has(a))&&(t.add(o),c&&i.set(c,!0),a&&i.set(a,!0))}),s.size&&s.forEach(o=>{const a=new Dr({queryManager:this,options:{...o,fetchPolicy:"network-only"}});t.add(a)}),t}refetchObservableQueries(e=!1){const t=[];return this.getObservableQueries(e?"all":"active").forEach(n=>{const{fetchPolicy:i}=n.options;(e||i!=="standby")&&i!=="cache-only"&&t.push(n.refetch())}),this.broadcastQueries(),Promise.all(t)}startGraphQLSubscription(e){let{query:t,variables:n}=e;const{fetchPolicy:i,errorPolicy:s="none",context:o={},extensions:a={}}=e;Ae(t,wt.SUBSCRIPTION),t=this.transform(t),n=this.getVariables(t,n);let c;const l=(this.getDocumentInfo(t).hasClientExports?ze(this.localState.getExportedVariables({client:this.client,document:t,variables:n,context:o})):Ve(n)).pipe(Ye(h=>{const{observable:d,restart:f}=this.getObservableFromLink(t,o,h,a),p=new Mr(this);return c=f,d.pipe(Qe(m=>{p.markSubscriptionResult(m,{document:t,variables:h,errorPolicy:s,cacheWriteBehavior:i==="no-cache"?0:2});const S={data:m.data??void 0};return Je(m)?S.error=new We(m):Gc(m)&&(S.error=m.extensions[nr],delete m.extensions[nr]),m.extensions&&Object.keys(m.extensions).length&&(S.extensions=m.extensions),S.error&&s==="none"&&(S.data=void 0),s==="ignore"&&delete S.error,S}),$t(m=>Ve(s==="ignore"?{data:void 0}:{data:void 0,error:m})),Ea(m=>!!(m.data||m.error)))}));return Object.assign(l,{restart:()=>c==null?void 0:c()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(e=>e.notify())}getObservableFromLink(e,t,n,i,s=(t==null?void 0:t.queryDeduplication)??this.queryDeduplication){let o={};const{serverQuery:a,clientQuery:c,operationType:l,hasIncrementalDirective:h}=this.getDocumentInfo(e),d=ot(e),f={client:this.client};if(a){const{inFlightLinkObservables:p,link:m}=this;try{let g=function(y){return new Y(k=>{function C(){return y.subscribe({next:k.next.bind(k),complete:k.complete.bind(k),error:k.error.bind(k)})}let E=C();return o.restart||(o.restart=()=>{E.unsubscribe(),E=C()}),()=>{E.unsubscribe(),o.restart=void 0}})};const S=this.incrementalHandler.prepareRequest({query:a,variables:n,context:{...this.defaultContext,...t,queryDeduplication:s},extensions:i});if(t=S.context,s){const y=tt(a),k=Re(n);o=p.lookup(y,k),o.observable||(o.observable=Jr(m,S,f).pipe(g,ja(()=>{p.peek(y,k)===o&&p.remove(y,k)}),l===wt.SUBSCRIPTION?Zt():Ta({refCount:!0})))}else o.observable=Jr(m,S,f).pipe(g)}catch(S){o.observable=Qi(()=>S)}}else o.observable=Ve({data:{}});if(c){const{operation:p}=Pe(e);L(!h,90,p[0].toUpperCase()+p.slice(1),d??"(anonymous)"),o.observable=o.observable.pipe(Ye(m=>ze(this.localState.execute({client:this.client,document:c,remoteResult:m,context:t,variables:n}))))}return{restart:()=>{var p;return(p=o.restart)==null?void 0:p.call(o)},observable:o.observable.pipe($t(p=>{throw p=Yc(p),Kc(p),p}))}}getResultsFromLink(e,{queryInfo:t,cacheWriteBehavior:n,observableQuery:i}){const s=t.lastRequestId=this.generateRequestId(),{errorPolicy:o}=e,a=this.cache.transformForLink(e.query);return this.getObservableFromLink(a,e.context,e.variables).observable.pipe(Qe(c=>{const l=t.markQueryResult(c,{...e,document:a,cacheWriteBehavior:n}),h=Je(l);if(h&&o==="none")throw t.resetLastWrite(),i==null||i.resetNotifications(),new We(l);const d={data:l.data,...t.hasNext?{loading:!0,networkStatus:A.streaming,dataState:"streaming",partial:!0}:{dataState:l.data?"complete":"empty",loading:!1,networkStatus:A.ready,partial:!l.data}};return h&&(o==="none"&&(d.data=void 0,d.dataState="empty"),o!=="ignore"&&(d.error=new We(l),d.dataState!=="streaming"&&(d.networkStatus=A.error))),d}),$t(c=>{if(s>=t.lastRequestId&&o==="none")throw t.resetLastWrite(),i==null||i.resetNotifications(),c;const l={data:void 0,dataState:"empty",loading:!1,networkStatus:A.ready,partial:!0};return o!=="ignore"&&(l.error=c,l.networkStatus=A.error),Ve(l)}))}fetchObservableWithInfo(e,{networkStatus:t=A.loading,query:n=e.query,fetchQueryOperator:i=a=>a,onCacheHit:s=()=>{},observableQuery:o}){const a=this.getVariables(n,e.variables),c=this.defaultOptions.watchQuery;let{fetchPolicy:l=c&&c.fetchPolicy||"cache-first",errorPolicy:h=c&&c.errorPolicy||"none",returnPartialData:d=!1,notifyOnNetworkStatusChange:f=!0,context:p={}}=e;this.prioritizeCacheValues&&(l==="network-only"||l==="cache-and-network")&&(l="cache-first");const m=Object.assign({},e,{query:n,variables:a,fetchPolicy:l,errorPolicy:h,returnPartialData:d,notifyOnNetworkStatusChange:f,context:p}),S=new Mr(this,o),g=x=>{m.variables=x;const R=l==="no-cache"?0:t===A.refetch&&m.refetchWritePolicy!=="merge"?1:2,W=this.fetchQueryByPolicy(m,{queryInfo:S,cacheWriteBehavior:R,onCacheHit:s,observableQuery:o});return W.observable=W.observable.pipe(i),m.fetchPolicy!=="standby"&&(o==null||o.applyNextFetchPolicy("after-fetch",e)),W},y=()=>{this.fetchCancelFns.delete(S.id)};this.fetchCancelFns.set(S.id,x=>{k.next({kind:"E",error:x,source:"network"})});const k=new lt;let C,E;if(this.getDocumentInfo(m.query).hasClientExports)C=ze(this.localState.getExportedVariables({client:this.client,document:m.query,variables:m.variables,context:m.context})).pipe(Ye(x=>g(x).observable)),E=!0;else{const x=g(m.variables);E=x.fromLink,C=x.observable}return{observable:new Y(x=>{x.add(y),C.subscribe(x),k.subscribe(x)}).pipe(Zt()),fromLink:E}}refetchQueries({updateCache:e,include:t,optimistic:n=!1,removeOptimistic:i=n?ho("refetchQueries"):void 0,onQueryUpdated:s}){const o=new Map;t&&this.getObservableQueries(t).forEach(c=>{if(c.options.fetchPolicy==="cache-only")return;const l=c.getCurrentResult();o.set(c,{oq:c,lastDiff:{result:l==null?void 0:l.data,complete:!(l!=null&&l.partial)}})});const a=new Map;if(e){const c=new Set;this.cache.batch({update:e,optimistic:n&&i||!1,removeOptimistic:i,onWatchUpdated(l,h,d){const f=l.watcher;if(f instanceof Dr&&!c.has(f)){if(c.add(f),s){o.delete(f);let p=s(f,h,d);return p===!0&&(p=f.refetch().retain()),p!==!1&&a.set(f,p),p}s!==null&&f.options.fetchPolicy!=="cache-only"&&o.set(f,{oq:f,lastDiff:d,diff:h})}}})}return o.size&&o.forEach(({oq:c,lastDiff:l,diff:h})=>{let d;s&&(h||(h=c.getCacheDiff()),d=s(c,h,l)),(!s||d===!0)&&(d=c.refetch().retain()),d!==!1&&a.set(c,d)}),i&&this.cache.removeOptimistic(i),a}maskOperation(e){const{document:t,data:n}=e;return this.dataMasking?Fc(n,t,this.cache):n}maskFragment(e){const{data:t,fragment:n,fragmentName:i}=e;return this.dataMasking?Dc(t,n,this.cache,i):t}fetchQueryByPolicy({query:e,variables:t,fetchPolicy:n,errorPolicy:i,returnPartialData:s,context:o},{cacheWriteBehavior:a,onCacheHit:c,queryInfo:l,observableQuery:h}){const d=()=>this.cache.diff({query:e,variables:t,returnPartialData:!0,optimistic:!0}),f=(m,S)=>{const g=m.result,y=C=>(!m.complete&&!s&&(C=void 0),{data:C,dataState:m.complete?"complete":C?"partial":"empty",loading:Xr(S),networkStatus:S,partial:!m.complete}),k=C=>Ve({kind:"N",value:y(C),source:"cache"});return(m.complete||s)&&this.getDocumentInfo(e).hasForcedResolvers?(c(),ze(this.localState.execute({client:this.client,document:e,remoteResult:g?{data:g}:void 0,context:o,variables:t,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(C=>({kind:"N",value:y(C.data||void 0),source:"cache"})))):i==="none"&&S===A.refetch&&m.missing?k(void 0):k(g||void 0)},p=()=>this.getResultsFromLink({query:e,variables:t,context:o,fetchPolicy:n,errorPolicy:i},{cacheWriteBehavior:a,queryInfo:l,observableQuery:h}).pipe(ii(),Na(),Qe(m=>({...m,source:"network"})));switch(n){default:case"cache-first":{const m=d();return m.complete?{fromLink:!1,observable:f(m,A.ready)}:s?{fromLink:!0,observable:Cr(f(m,A.loading),p())}:{fromLink:!0,observable:p()}}case"cache-and-network":{const m=d();return m.complete||s?{fromLink:!0,observable:Cr(f(m,A.loading),p())}:{fromLink:!0,observable:p()}}case"cache-only":return{fromLink:!1,observable:Cr(f(d(),A.ready))};case"network-only":return{fromLink:!0,observable:p()};case"no-cache":return{fromLink:!0,observable:p()};case"standby":return{fromLink:!1,observable:Xt}}}}function ii(){let r=!1;return er({next(){r=!0},complete(){L(r,94)}})}function Zc(r){return Oe(r,{FragmentSpread:e=>{var t;if(!((t=e.directives)!=null&&t.some(n=>n.name.value==="unmask")))return{...e,directives:[...e.directives||[],{kind:q.DIRECTIVE,name:{kind:q.NAME,value:"nonreactive"}}]}}})}class el{constructor(e){b(this,"link");b(this,"cache");b(this,"disableNetworkFetches");b(this,"version");b(this,"queryDeduplication");b(this,"defaultOptions");b(this,"devtoolsConfig");b(this,"queryManager");b(this,"devToolsHookCb");b(this,"resetStoreCallbacks",[]);b(this,"clearStoreCallbacks",[]);b(this,"reFetchObservableQueries");b(this,"maskedFragmentTransform",new Te(pc));const{cache:t,documentTransform:n,ssrMode:i=!1,ssrForceFetchDelay:s=0,queryDeduplication:o=!0,defaultOptions:a,defaultContext:c,assumeImmutableResults:l=t.assumeImmutableResults,localState:h,devtools:d,dataMasking:f,link:p,incrementalHandler:m=new bc}=e;this.link=p,this.cache=t,this.queryDeduplication=o,this.defaultOptions=a||{},this.devtoolsConfig={...d,enabled:(d==null?void 0:d.enabled)??zo},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=po,this.queryManager=new Xc({client:this,defaultOptions:this.defaultOptions,defaultContext:c,documentTransform:n,queryDeduplication:o,ssrMode:i,dataMasking:!!f,clientOptions:e,incrementalHandler:m,assumeImmutableResults:l,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:h}),this.prioritizeCacheValues=i||s>0,s&&setTimeout(()=>{this.prioritizeCacheValues=!1},s),this.devtoolsConfig.enabled&&this.connectToDevTools()}set prioritizeCacheValues(e){this.queryManager.prioritizeCacheValues=e}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}connectToDevTools(){if(typeof window>"u")return;const e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(e){this.queryManager.localState=e}stop(){this.queryManager.stop()}watchQuery(e){return this.defaultOptions.watchQuery&&(e=Sr(this.defaultOptions.watchQuery,e)),this.queryManager.watchQuery(e)}query(e){return this.defaultOptions.query&&(e=Sr(this.defaultOptions.query,e)),this.queryManager.query(e)}mutate(e){const t=Sr(xe({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),e);return Ae(t.mutation,wt.MUTATION),this.queryManager.mutate(t)}subscribe(e){const t={},n=this.queryManager.startGraphQLSubscription(e),i=n.pipe(Qe(s=>({...s,data:this.queryManager.maskOperation({document:e.query,data:s.data,fetchPolicy:e.fetchPolicy,cause:t})})));return Object.assign(i,{restart:n.restart})}readQuery(e,t=!1){return this.cache.readQuery({...e,query:this.transform(e.query)},t)}watchFragment(e){const t=this.queryManager.dataMasking;return this.cache.watchFragment({...e,fragment:this.transform(e.fragment,t)}).pipe(Qe(n=>n))}readFragment(e,t=!1){return this.cache.readFragment({...e,fragment:this.transform(e.fragment)},t)}writeQuery(e){const t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}writeFragment(e){const t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}__actionHookForDevTools(e){this.devToolsHookCb=e}__requestRaw(e){return Jr(this.link,e,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(e=>e()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(e=>e())))}onResetStore(e){return this.resetStoreCallbacks.push(e),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(t=>t!==e)}}onClearStore(e){return this.clearStoreCallbacks.push(e),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(t=>t!==e)}}refetchObservableQueries(e){return this.queryManager.refetchObservableQueries(e)}refetchQueries(e){const t=this.queryManager.refetchQueries(e),n=[],i=[];t.forEach((o,a)=>{n.push(a),i.push(o)});const s=Promise.all(i);return s.queries=n,s.results=i,s.catch(o=>{}),s}getObservableQueries(e="active"){return this.queryManager.getObservableQueries(e)}extract(e){return this.cache.extract(e)}restore(e){return this.cache.restore(e)}setLink(e){this.link=e}get defaultContext(){return this.queryManager.defaultContext}transform(e,t=!1){const n=this.queryManager.transform(e);return t?this.maskedFragmentTransform.transformDocument(n):n}}const{hasOwnProperty:si}=Object.prototype;function tl(r){return ae(r)&&"payload"in r}async function*rl(r){var f;const e=new TextDecoder("utf-8"),t=(f=r.headers)==null?void 0:f.get("content-type"),n=t==null?void 0:t.match(/;\s*boundary=(?:'([^']+)'|"([^"]+)"|([^"'].+?))\s*(?:;|$)/i),i=`\r
--`+((n==null?void 0:n.findLast(p=>!!p))||"-");let s="";L(r.body&&typeof r.body.getReader=="function",60);const a=r.body.getReader();let c=!1,l=!1,h;const d=()=>l&&s[0]=="-"&&s[1]=="-";try{for(;!c;){({value:h,done:c}=await a.read());const p=typeof h=="string"?h:e.decode(h),m=s.length-i.length+1;s+=p;let S=s.indexOf(i,m);for(;S>-1&&!d();){l=!0;let g;[g,s]=[s.slice(0,S),s.slice(S+i.length)];const y=g.indexOf(`\r
\r
`),C=il(g.slice(0,y))["content-type"];if(C&&C.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");const E=g.slice(y);E&&(yield E),S=s.indexOf(i)}if(d())return}throw new Error("premature end of multipart body")}finally{a.cancel()}}async function nl(r,e){for await(const t of rl(r)){const n=xs(r,t);if(Object.keys(n).length!=0)if(tl(n)){if(Object.keys(n).length===1&&n.payload===null)return;let i={...n.payload};"errors"in n&&(i.extensions={...i.extensions,[nr]:new rr(n.errors??[])}),e(i)}else e(n)}}function il(r){const e={};return r.split(`
`).forEach(t=>{const n=t.indexOf(":");if(n>-1){const i=t.slice(0,n).trim().toLowerCase(),s=t.slice(n+1).trim();e[i]=s}}),e}function xs(r,e){if(r.status>=300)throw new dr(`Response not successful: Received status code ${r.status}`,{response:r,bodyText:e});try{return JSON.parse(e)}catch(t){throw new pr(t,{response:r,bodyText:e})}}function sl(r,e){try{return JSON.parse(e)}catch(t){throw new pr(t,{response:r,bodyText:e})}}function ol(r,e){const t=r.headers.get("content-type");return t!=null&&t.includes("application/graphql-response+json")?sl(r,e):xs(r,e)}function al(r){return e=>e.text().then(t=>{const n=ol(e,t);if(!Array.isArray(n)&&!si.call(n,"data")&&!si.call(n,"errors"))throw new dr(`Server response was malformed for query '${Array.isArray(r)?r.map(i=>i.operationName):r.operationName}'.`,{response:e,bodyText:t});return n})}const cl={includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},ll={accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},ul={method:"POST"},fl={http:cl,headers:ll,options:ul},hl=(r,e)=>e(r);function dl(r,e,...t){let n={},i={};t.forEach(h=>{var d;n={...n,...h.options,headers:{...n.headers,...h.headers}},h.credentials&&(n.credentials=h.credentials),n.headers.accept=(((d=h.http)==null?void 0:d.accept)||[]).concat(n.headers.accept).join(","),i={...i,...h.http}}),n.headers=pl(n.headers,i.preserveHeaderCase);const{operationName:s,extensions:o,variables:a,query:c}=r,l={operationName:s,variables:a};return i.includeExtensions&&Object.keys(o||{}).length&&(l.extensions=o),i.includeQuery&&(l.query=e(c,tt)),{options:n,body:l}}function pl(r,e){if(!e){const i={};return Object.keys(Object(r)).forEach(s=>{i[s.toLowerCase()]=r[s]}),i}const t={};Object.keys(Object(r)).forEach(i=>{t[i.toLowerCase()]={originalName:i,value:r[i]}});const n={};return Object.keys(t).forEach(i=>{n[t[i].originalName]=t[i].value}),n}const ml=(r,e)=>{const n=r.getContext().uri;return n||(typeof e=="function"?e(r):e||"/graphql")};function yl(r,e){const t=[],n=(l,h)=>{t.push(`${l}=${encodeURIComponent(h)}`)};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){let l;try{l=JSON.stringify(e.variables)}catch(h){return{parseError:h}}n("variables",l)}if(e.extensions){let l;try{l=JSON.stringify(e.extensions)}catch(h){return{parseError:h}}n("extensions",l)}let i="",s=r;const o=r.indexOf("#");o!==-1&&(i=r.substr(o),s=r.substr(0,o));const a=s.indexOf("?")===-1?"?":"&";return{newURI:s+a+t.join("&")+i}}const gl=Ci(()=>fetch);function vl(){}class bl extends le{constructor(e={}){let{uri:t="/graphql",fetch:n,print:i=hl,includeExtensions:s,preserveHeaderCase:o,useGETForQueries:a,includeUnusedVariables:c=!1,...l}=e;const h={http:xe({includeExtensions:s,preserveHeaderCase:o}),options:l.fetchOptions,credentials:l.credentials,headers:l.headers};super(d=>{let f=ml(d,t);const p=d.getContext(),m={...p.http};Oc(d.query)&&(m.accept=["multipart/mixed;boundary=graphql;subscriptionSpec=1.0",...m.accept||[]]);const S={http:m,options:p.fetchOptions,credentials:p.credentials,headers:p.headers},{options:g,body:y}=dl(d,i,fl,h,S);y.variables&&!c&&(y.variables=Sc(y.variables,d.query));let k=new AbortController,C=()=>{k=void 0};if(g.signal){const E=g.signal,x=()=>{k==null||k.abort(E.reason)};E.addEventListener("abort",x,{once:!0}),C=()=>{k==null||k.signal.removeEventListener("abort",C),k=void 0,E.removeEventListener("abort",x),C=vl},k.signal.addEventListener("abort",C,{once:!0})}return g.signal=k.signal,a&&!xc(d.query)&&(g.method="GET"),new Y(E=>{if(g.method==="GET"){const{newURI:W,parseError:ne}=yl(f,y);if(ne)throw ne;f=W}else g.body=JSON.stringify(y);const x=n||Ci(()=>fetch)||gl,R=E.next.bind(E);return x(f,g).then(W=>{var ue;d.setContext({response:W});const ne=(ue=W.headers)==null?void 0:ue.get("content-type");return ne!==null&&/^multipart\/mixed/i.test(ne)?nl(W,R):al(d)(W).then(R)}).then(()=>{C(),E.complete()}).catch(W=>{C(),E.error(W)}),()=>{k&&k.abort()}})})}}class wl extends le{constructor(e={}){super((t,n)=>{const i=t.client,s=i.queryManager.clientOptions,o=t.getContext();{const{name:a,version:c,transport:l="headers"}=xe({},s.clientAwareness,e.clientAwareness,o.clientAwareness);l==="headers"&&t.setContext(({headers:h,extensions:d})=>({headers:xe({"apollographql-client-name":a,"apollographql-client-version":c},h)}))}{const{transport:a="extensions"}=xe({},s.enhancedClientAwareness,e.enhancedClientAwareness);a==="extensions"&&(t.extensions=xe({clientLibrary:{name:"@apollo/client",version:i.version}},t.extensions))}return n(t)})}}class Sl extends le{constructor(e={}){const{left:t,right:n,request:i}=le.from([new wl(e),new bl(e)]);super(i),Object.assign(this,{left:t,right:n})}}const kl=(r={})=>new Sl(r),Ne={paymentIcons:"paymentIcons",icon:"icon"},xl=()=>{const r=or();return u.jsxs("div",{className:Ne.paymentIcons,children:[u.jsx("img",{src:"/svgs/payment-icons/Visa.png",alt:"Visa",className:Ne.icon}),u.jsx("img",{src:"/svgs/payment-icons/Mastercard.png",alt:"MasterCard",className:Ne.icon}),u.jsx("img",{src:"/svgs/payment-icons/PayPal.png",alt:"PayPal",className:Ne.icon}),u.jsx("img",{src:"/svgs/payment-icons/ApplePay.png",alt:"ApplePay",className:Ne.icon}),u.jsx("img",{src:"/svgs/payment-icons/GooglePay.png",alt:"GooglePay",className:Ne.icon}),u.jsx("img",{src:"/svgs/payment-icons/Amex.png",alt:"Amex",className:Ne.icon}),u.jsx("img",{src:"/svgs/payment-icons/ShopPay.png",alt:"ShopifyPay",className:Ne.icon}),!r&&u.jsx("img",{src:"/svgs/payment-icons/Discover.png",alt:"Discover",className:Ne.icon})]})},$={backdrop:"backdrop",visible:"visible",drawer:"drawer",open:"open",header:"header",closeBtn:"closeBtn",content:"content",lineItems:"lineItems",lineItem:"lineItem",imageContainer:"imageContainer",itemInfo:"itemInfo",flexBoxPriceSize:"flexBoxPriceSize",flex_grower:"flex_grower",sizeText:"sizeText",sizeAdjustments:"sizeAdjustments",sizeAdjuster:"sizeAdjuster",sizeAdjusterBtn:"sizeAdjusterBtn",sizeAdjusterCount:"sizeAdjusterCount",recommendedProductsWrapper:"recommendedProductsWrapper",footer:"footer",checkoutText:"checkoutText",checkoutBtn:"checkoutBtn",checkoutBtnLoading:"checkoutBtnLoading",disabled:"disabled"},Ol=()=>{var m;const{isCartOpen:r,closeCart:e}=gi(),{lines:t,checkoutUrl:n,cost:i,status:s,linesUpdate:o}=vi(),a=t??[],[c,l]=I.useState(!1),{isDropLocked:h,loading:d}=wo(),f=I.useCallback(S=>{if(a.length===0){S.preventDefault();return}l(!0)},[a.length]),p=I.useCallback((S,g)=>{g<0||o([{id:S,quantity:g}])},[o]);return I.useEffect(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[r]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${$.backdrop} ${r?$.visible:""}`,onClick:e}),u.jsxs("div",{className:`${$.drawer} ${r?$.open:""}`,role:"dialog","aria-modal":"true",tabIndex:-1,style:{transform:r?"translateX(0)":"translateX(200%)"},children:[u.jsxs("div",{className:$.header,children:[u.jsx("p",{children:"Bag"}),u.jsx("button",{onClick:e,className:$.closeBtn,children:u.jsx(Ei,{size:24})})]}),u.jsx("hr",{}),u.jsx("div",{className:$.content,"data-lenis-prevent":!0,children:s==="uninitialized"?u.jsx("p",{children:"Loading cart..."}):a.length===0?u.jsx("p",{children:"Your bag is empty"}):u.jsx("div",{className:$.lineItems,children:a.map(S=>{var g,y,k,C,E,x,R,W,ne,ue,pe,Mt,Le,Lt,ht,Ee,dt;return u.jsxs("div",{className:$.lineItem,children:[u.jsx("div",{className:$.imageContainer,children:u.jsx("img",{src:((y=(g=S.merchandise)==null?void 0:g.image)==null?void 0:y.url)||((W=(R=(x=(E=(C=(k=S.merchandise)==null?void 0:k.product)==null?void 0:C.images)==null?void 0:E.edges)==null?void 0:x[0])==null?void 0:R.node)==null?void 0:W.transformedSrc)||"",alt:((ue=(ne=S.merchandise)==null?void 0:ne.product)==null?void 0:ue.title)||"Cart item"})}),u.jsxs("div",{className:$.itemInfo,children:[u.jsxs("div",{className:$.flexBoxPriceSize,children:[u.jsx("p",{children:(Mt=(pe=S.merchandise)==null?void 0:pe.product)==null?void 0:Mt.title}),u.jsx("div",{className:$.flex_grower}),u.jsxs("p",{children:["$",Number(((Lt=(Le=S.cost)==null?void 0:Le.totalAmount)==null?void 0:Lt.amount)??((Ee=(ht=S.cost)==null?void 0:ht.subtotalAmount)==null?void 0:Ee.amount)??0).toFixed(2)]})]}),u.jsx("p",{className:$.sizeText,children:(dt=S.merchandise)==null?void 0:dt.title}),u.jsx("div",{className:$.sizeAdjustments,children:u.jsxs("div",{className:$.sizeAdjuster,children:[u.jsx("div",{className:$.sizeAdjusterBtn,onClick:()=>{p(S.id,Math.max(S.quantity-1,0))},children:u.jsx(Bo,{})}),u.jsx("div",{className:$.sizeAdjusterCount,children:S.quantity}),u.jsx("div",{className:$.sizeAdjusterBtn,onClick:()=>{p(S.id,S.quantity+1)},children:u.jsx(Vt,{})})]})})]})]},S.id)})})}),!d&&!h&&u.jsx("div",{className:$.recommendedProductsWrapper,children:u.jsx(mo,{withAddToCart:!0,onClick:e,columns:4,productContainerClassName:"!w-full !aspect-[3/4] mx-auto !flex !justify-center !items-center"})}),u.jsxs("div",{className:$.footer,children:[u.jsxs("div",{className:$.checkoutText,children:[u.jsx("p",{children:"Subtotal:"}),u.jsxs("p",{children:["$",Number(((m=i==null?void 0:i.subtotalAmount)==null?void 0:m.amount)??0).toFixed(2)]})]}),u.jsx("a",{href:a.length>0&&n?n:"#",className:`${a.length===0?$.disabled:""}`,onClick:f,children:u.jsx("div",{className:`${$.checkoutBtn} ${c?$.checkoutBtnLoading:""}`,children:a.length===0?"Cart is empty":c?"Processing...":"Proceed to checkout"})}),u.jsx(xl,{})]})]})]})},oi={layoutContainer:"layoutContainer",contentContainer:"contentContainer"},Cl=({children:r})=>{const{pathname:e}=yi(),[t,n]=I.useState(!1);or();const[i,s]=I.useState(!1),o=e.substring(1);return u.jsxs("div",{className:oi.layoutContainer,children:[u.jsx(Fo,{}),u.jsx(jo,{title:o,setNavbarOpen:n,navbarOpen:t,setSidebarOpen:s}),u.jsx(Po,{sidebarOpen:i,setSidebarOpen:s}),u.jsx(Ol,{}),u.jsx("div",{className:oi.contentContainer,children:r}),e!=="/"&&u.jsx(Vo,{}),u.jsx(Do,{}),u.jsx(qo,{})]})},El="/assets/favicon-DZkC1E9c.svg",jl="/assets/tailwind-BvgrQk9w.css";var bt={},ai;function Nl(){if(ai)return bt;ai=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.parse=o,bt.serialize=l;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,p){const m=new s,S=f.length;if(S<2)return m;const g=(p==null?void 0:p.decode)||h;let y=0;do{const k=f.indexOf("=",y);if(k===-1)break;const C=f.indexOf(";",y),E=C===-1?S:C;if(k>E){y=f.lastIndexOf(";",k-1)+1;continue}const x=a(f,y,k),R=c(f,k,x),W=f.slice(x,R);if(m[W]===void 0){let ne=a(f,k+1,E),ue=c(f,E,ne);const pe=g(f.slice(ne,ue));m[W]=pe}y=E+1}while(y<S);return m}function a(f,p,m){do{const S=f.charCodeAt(p);if(S!==32&&S!==9)return p}while(++p<m);return m}function c(f,p,m){for(;p>m;){const S=f.charCodeAt(--p);if(S!==32&&S!==9)return p+1}return m}function l(f,p,m){const S=(m==null?void 0:m.encode)||encodeURIComponent;if(!r.test(f))throw new TypeError(`argument name is invalid: ${f}`);const g=S(p);if(!e.test(g))throw new TypeError(`argument val is invalid: ${p}`);let y=f+"="+g;if(!m)return y;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);y+="; Max-Age="+m.maxAge}if(m.domain){if(!t.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);y+="; Domain="+m.domain}if(m.path){if(!n.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);y+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);y+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(y+="; HttpOnly"),m.secure&&(y+="; Secure"),m.partitioned&&(y+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return y}function h(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return bt}var Kt=Nl();function Tl(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function _l(r){return typeof r=="string"?Kt.parse(r):typeof r=="object"&&r!==null?r:{}}function qr(r,e={}){const t=Pl(r);if(!e.doNotParse)try{return JSON.parse(t)}catch{}return r}function Pl(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class Il{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const i=this.cookies;this.cookies=Kt.parse(document.cookie),this._checkChanges(i)};const n=typeof document>"u"?"":document.cookie;this.cookies=_l(e||n),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=Tl()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(n=>{e[n]!==this.cookies[n]&&this._emitChange({name:n,value:qr(this.cookies[n])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),qr(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let n in this.cookies)t[n]=qr(this.cookies[n],e);return t}set(e,t,n){n?n=Object.assign(Object.assign({},this.defaultSetOptions),n):n=this.defaultSetOptions;const i=typeof t=="string"?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:i}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kt.serialize(e,i,n)),this._emitChange({name:e,value:t,options:n})}remove(e,t){const n=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kt.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}const Al=I.createContext(null),{Provider:Rl,Consumer:Ru}=Al,Dl=r=>{const e=I.useMemo(()=>r.cookies?r.cookies:new Il(void 0,r.defaultSetOptions),[r.cookies,r.defaultSetOptions]);return I.createElement(Rl,{value:e},r.children)};var Br={exports:{}},B={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci;function Fl(){if(ci)return B;ci=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,o=r?Symbol.for("react.provider"):60109,a=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,S=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function C(x){if(typeof x=="object"&&x!==null){var R=x.$$typeof;switch(R){case e:switch(x=x.type,x){case c:case l:case n:case s:case i:case d:return x;default:switch(x=x&&x.$$typeof,x){case a:case h:case m:case p:case o:return x;default:return R}}case t:return R}}}function E(x){return C(x)===l}return B.AsyncMode=c,B.ConcurrentMode=l,B.ContextConsumer=a,B.ContextProvider=o,B.Element=e,B.ForwardRef=h,B.Fragment=n,B.Lazy=m,B.Memo=p,B.Portal=t,B.Profiler=s,B.StrictMode=i,B.Suspense=d,B.isAsyncMode=function(x){return E(x)||C(x)===c},B.isConcurrentMode=E,B.isContextConsumer=function(x){return C(x)===a},B.isContextProvider=function(x){return C(x)===o},B.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},B.isForwardRef=function(x){return C(x)===h},B.isFragment=function(x){return C(x)===n},B.isLazy=function(x){return C(x)===m},B.isMemo=function(x){return C(x)===p},B.isPortal=function(x){return C(x)===t},B.isProfiler=function(x){return C(x)===s},B.isStrictMode=function(x){return C(x)===i},B.isSuspense=function(x){return C(x)===d},B.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===l||x===s||x===i||x===d||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===p||x.$$typeof===o||x.$$typeof===a||x.$$typeof===h||x.$$typeof===g||x.$$typeof===y||x.$$typeof===k||x.$$typeof===S)},B.typeOf=C,B}var li;function Ml(){return li||(li=1,Br.exports=Fl()),Br.exports}var Vr,ui;function Ll(){if(ui)return Vr;ui=1;var r=Ml(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=i;function o(m){return r.isMemo(m)?i:s[m.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(m,S,g){if(typeof S!="string"){if(f){var y=d(S);y&&y!==f&&p(m,y,g)}var k=c(S);l&&(k=k.concat(l(S)));for(var C=o(m),E=o(S),x=0;x<k.length;++x){var R=k[x];if(!t[R]&&!(g&&g[R])&&!(E&&E[R])&&!(C&&C[R])){var W=h(S,R);try{a(m,R,W)}catch{}}}}return m}return Vr=p,Vr}Ll();var re=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},se={searchParams:"URLSearchParams"in re,iterable:"Symbol"in re&&"iterator"in Symbol,blob:"FileReader"in re&&"Blob"in re&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in re,arrayBuffer:"ArrayBuffer"in re};function ql(r){return r&&DataView.prototype.isPrototypeOf(r)}if(se.arrayBuffer)var Bl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Vl=ArrayBuffer.isView||function(r){return r&&Bl.indexOf(Object.prototype.toString.call(r))>-1};function ft(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(r)||r==="")throw new TypeError('Invalid character in header field name: "'+r+'"');return r.toLowerCase()}function bn(r){return typeof r!="string"&&(r=String(r)),r}function wn(r){var e={next:function(){var t=r.shift();return{done:t===void 0,value:t}}};return se.iterable&&(e[Symbol.iterator]=function(){return e}),e}function J(r){this.map={},r instanceof J?r.forEach(function(e,t){this.append(t,e)},this):Array.isArray(r)?r.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(e){this.append(e,r[e])},this)}J.prototype.append=function(r,e){r=ft(r),e=bn(e);var t=this.map[r];this.map[r]=t?t+", "+e:e};J.prototype.delete=function(r){delete this.map[ft(r)]};J.prototype.get=function(r){return r=ft(r),this.has(r)?this.map[r]:null};J.prototype.has=function(r){return this.map.hasOwnProperty(ft(r))};J.prototype.set=function(r,e){this.map[ft(r)]=bn(e)};J.prototype.forEach=function(r,e){for(var t in this.map)this.map.hasOwnProperty(t)&&r.call(e,this.map[t],t,this)};J.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),wn(r)};J.prototype.values=function(){var r=[];return this.forEach(function(e){r.push(e)}),wn(r)};J.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),wn(r)};se.iterable&&(J.prototype[Symbol.iterator]=J.prototype.entries);function zr(r){if(!r._noBody){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}}function Os(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function zl(r){var e=new FileReader,t=Os(e);return e.readAsArrayBuffer(r),t}function Wl(r){var e=new FileReader,t=Os(e),n=/charset=([A-Za-z0-9_-]+)/.exec(r.type),i=n?n[1]:"utf-8";return e.readAsText(r,i),t}function $l(r){for(var e=new Uint8Array(r),t=new Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]);return t.join("")}function fi(r){if(r.slice)return r.slice(0);var e=new Uint8Array(r.byteLength);return e.set(new Uint8Array(r)),e.buffer}function Cs(){return this.bodyUsed=!1,this._initBody=function(r){this.bodyUsed=this.bodyUsed,this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:se.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:se.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:se.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():se.arrayBuffer&&se.blob&&ql(r)?(this._bodyArrayBuffer=fi(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):se.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||Vl(r))?this._bodyArrayBuffer=fi(r):this._bodyText=r=Object.prototype.toString.call(r):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):se.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},se.blob&&(this.blob=function(){var r=zr(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var r=zr(this);return r||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(se.blob)return this.blob().then(zl);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var r=zr(this);if(r)return r;if(this._bodyBlob)return Wl(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},se.formData&&(this.formData=function(){return this.text().then(Hl)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ql=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Ul(r){var e=r.toUpperCase();return Ql.indexOf(e)>-1?e:r}function He(r,e){if(!(this instanceof He))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var t=e.body;if(r instanceof He){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,e.headers||(this.headers=new J(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!t&&r._bodyInit!=null&&(t=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new J(e.headers)),this.method=Ul(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in re){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&t)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(t),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}He.prototype.clone=function(){return new He(this,{body:this._bodyInit})};function Hl(r){var e=new FormData;return r.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function Kl(r){var e=new J,t=r.replace(/\r?\n[\t ]+/g," ");return t.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}Cs.call(He.prototype);function Ce(r,e){if(!(this instanceof Ce))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new J(e.headers),this.url=e.url||"",this._initBody(r)}Cs.call(Ce.prototype);Ce.prototype.clone=function(){return new Ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new J(this.headers),url:this.url})};Ce.error=function(){var r=new Ce(null,{status:200,statusText:""});return r.ok=!1,r.status=0,r.type="error",r};var Gl=[301,302,303,307,308];Ce.redirect=function(r,e){if(Gl.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Ce(null,{status:e,headers:{location:r}})};var $e=re.DOMException;try{new $e}catch{$e=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},$e.prototype=Object.create(Error.prototype),$e.prototype.constructor=$e}function Es(r,e){return new Promise(function(t,n){var i=new He(r,e);if(i.signal&&i.signal.aborted)return n(new $e("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var l={statusText:s.statusText,headers:Kl(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?l.status=200:l.status=s.status,l.url="responseURL"in s?s.responseURL:l.headers.get("X-Request-URL");var h="response"in s?s.response:s.responseText;setTimeout(function(){t(new Ce(h,l))},0)},s.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){n(new $e("Aborted","AbortError"))},0)};function a(l){try{return l===""&&re.location.href?re.location.href:l}catch{return l}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(se.blob?s.responseType="blob":se.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof J||re.Headers&&e.headers instanceof re.Headers)){var c=[];Object.getOwnPropertyNames(e.headers).forEach(function(l){c.push(ft(l)),s.setRequestHeader(l,bn(e.headers[l]))}),i.headers.forEach(function(l,h){c.indexOf(h)===-1&&s.setRequestHeader(h,l)})}else i.headers.forEach(function(l,h){s.setRequestHeader(h,l)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Es.polyfill=!0;re.fetch||(re.fetch=Es,re.Headers=J,re.Request=He,re.Response=Ce);var Wr,hi;function Yl(){return hi||(hi=1,Wr=self.fetch.bind(self)),Wr}var Jl=Yl();const Xl=Ms(Jl),Zl=new el({cache:new Qc,link:kl({uri:"https://semi-aquatics.myshopify.com/api/2022-01/graphql.json",headers:{Accept:"application/graphql","X-Shopify-Storefront-Access-Token":"a841eca62f514cb4af9d650a38075fbf"},fetch:Xl})});function ee(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var eu=typeof Symbol=="function"&&Symbol.observable||"@@observable",di=eu,$r=()=>Math.random().toString(36).substring(7).split("").join("."),tu={INIT:`@@redux/INIT${$r()}`,REPLACE:`@@redux/REPLACE${$r()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$r()}`},ir=tu;function ru(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function js(r,e,t){if(typeof r!="function")throw new Error(ee(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ee(1));return t(js)(r,e)}let n=r,i=e,s=new Map,o=s,a=0,c=!1;function l(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function h(){if(c)throw new Error(ee(3));return i}function d(g){if(typeof g!="function")throw new Error(ee(4));if(c)throw new Error(ee(5));let y=!0;l();const k=a++;return o.set(k,g),function(){if(y){if(c)throw new Error(ee(6));y=!1,l(),o.delete(k),s=null}}}function f(g){if(!ru(g))throw new Error(ee(7));if(typeof g.type>"u")throw new Error(ee(8));if(typeof g.type!="string")throw new Error(ee(17));if(c)throw new Error(ee(9));try{c=!0,i=n(i,g)}finally{c=!1}return(s=o).forEach(k=>{k()}),g}function p(g){if(typeof g!="function")throw new Error(ee(10));n=g,f({type:ir.REPLACE})}function m(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ee(11));function k(){const E=y;E.next&&E.next(h())}return k(),{unsubscribe:g(k)}},[di](){return this}}}return f({type:ir.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:p,[di]:m}}function nu(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:ir.INIT})>"u")throw new Error(ee(12));if(typeof t(void 0,{type:ir.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ee(13))})}function iu(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof r[o]=="function"&&(t[o]=r[o])}const n=Object.keys(t);let i;try{nu(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let c=!1;const l={};for(let h=0;h<n.length;h++){const d=n[h],f=t[d],p=o[d],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(ee(14));l[d]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function su(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function ou(...r){return e=>(t,n)=>{const i=e(t,n);let s=()=>{throw new Error(ee(15))};const o={getState:i.getState,dispatch:(c,...l)=>s(c,...l)},a=r.map(c=>c(o));return s=su(...a)(i.dispatch),{...i,dispatch:s}}}var Ot={exports:{}},au=Ot.exports,pi;function cu(){return pi||(pi=1,function(r,e){(function(t,n){n(e)})(au,function(t){function n(v,O){v.super_=O,v.prototype=Object.create(O.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}function i(v,O){Object.defineProperty(this,"kind",{value:v,enumerable:!0}),O&&O.length&&Object.defineProperty(this,"path",{value:O,enumerable:!0})}function s(v,O,w){s.super_.call(this,"E",v),Object.defineProperty(this,"lhs",{value:O,enumerable:!0}),Object.defineProperty(this,"rhs",{value:w,enumerable:!0})}function o(v,O){o.super_.call(this,"N",v),Object.defineProperty(this,"rhs",{value:O,enumerable:!0})}function a(v,O){a.super_.call(this,"D",v),Object.defineProperty(this,"lhs",{value:O,enumerable:!0})}function c(v,O,w){c.super_.call(this,"A",v),Object.defineProperty(this,"index",{value:O,enumerable:!0}),Object.defineProperty(this,"item",{value:w,enumerable:!0})}function l(v,O,w){var j=v.slice(O+1||v.length);return v.length=O<0?v.length+O:O,v.push.apply(v,j),v}function h(v){var O=typeof v>"u"?"undefined":Ee(v);return O!=="object"?O:v===Math?"math":v===null?"null":Array.isArray(v)?"array":Object.prototype.toString.call(v)==="[object Date]"?"date":typeof v.toString=="function"&&/^\/.*\//.test(v.toString())?"regexp":"object"}function d(v,O,w,j,_,D,F){_=_||[],F=F||[];var M=_.slice(0);if(typeof D<"u"){if(j){if(typeof j=="function"&&j(M,D))return;if((typeof j>"u"?"undefined":Ee(j))==="object"){if(j.prefilter&&j.prefilter(M,D))return;if(j.normalize){var fe=j.normalize(M,D,v,O);fe&&(v=fe[0],O=fe[1])}}}M.push(D)}h(v)==="regexp"&&h(O)==="regexp"&&(v=v.toString(),O=O.toString());var me=typeof v>"u"?"undefined":Ee(v),ce=typeof O>"u"?"undefined":Ee(O),ie=me!=="undefined"||F&&F[F.length-1].lhs&&F[F.length-1].lhs.hasOwnProperty(D),ye=ce!=="undefined"||F&&F[F.length-1].rhs&&F[F.length-1].rhs.hasOwnProperty(D);if(!ie&&ye)w(new o(M,O));else if(!ye&&ie)w(new a(M,v));else if(h(v)!==h(O))w(new s(M,v,O));else if(h(v)==="date"&&v-O!==0)w(new s(M,v,O));else if(me==="object"&&v!==null&&O!==null)if(F.filter(function(U){return U.lhs===v}).length)v!==O&&w(new s(M,v,O));else{if(F.push({lhs:v,rhs:O}),Array.isArray(v)){var V;for(v.length,V=0;V<v.length;V++)V>=O.length?w(new c(M,V,new a(void 0,v[V]))):d(v[V],O[V],w,j,M,V,F);for(;V<O.length;)w(new c(M,V,new o(void 0,O[V++])))}else{var qe=Object.keys(v),je=Object.keys(O);qe.forEach(function(U,Ke){var pt=je.indexOf(U);pt>=0?(d(v[U],O[U],w,j,M,U,F),je=l(je,pt)):d(v[U],void 0,w,j,M,U,F)}),je.forEach(function(U){d(void 0,O[U],w,j,M,U,F)})}F.length=F.length-1}else v!==O&&(me==="number"&&isNaN(v)&&isNaN(O)||w(new s(M,v,O)))}function f(v,O,w,j){return j=j||[],d(v,O,function(_){_&&j.push(_)},w),j.length?j:void 0}function p(v,O,w){if(w.path&&w.path.length){var j,_=v[O],D=w.path.length-1;for(j=0;j<D;j++)_=_[w.path[j]];switch(w.kind){case"A":p(_[w.path[j]],w.index,w.item);break;case"D":delete _[w.path[j]];break;case"E":case"N":_[w.path[j]]=w.rhs}}else switch(w.kind){case"A":p(v[O],w.index,w.item);break;case"D":v=l(v,O);break;case"E":case"N":v[O]=w.rhs}return v}function m(v,O,w){if(v&&O&&w&&w.kind){for(var j=v,_=-1,D=w.path?w.path.length-1:0;++_<D;)typeof j[w.path[_]]>"u"&&(j[w.path[_]]=typeof w.path[_]=="number"?[]:{}),j=j[w.path[_]];switch(w.kind){case"A":p(w.path?j[w.path[_]]:j,w.index,w.item);break;case"D":delete j[w.path[_]];break;case"E":case"N":j[w.path[_]]=w.rhs}}}function S(v,O,w){if(w.path&&w.path.length){var j,_=v[O],D=w.path.length-1;for(j=0;j<D;j++)_=_[w.path[j]];switch(w.kind){case"A":S(_[w.path[j]],w.index,w.item);break;case"D":_[w.path[j]]=w.lhs;break;case"E":_[w.path[j]]=w.lhs;break;case"N":delete _[w.path[j]]}}else switch(w.kind){case"A":S(v[O],w.index,w.item);break;case"D":v[O]=w.lhs;break;case"E":v[O]=w.lhs;break;case"N":v=l(v,O)}return v}function g(v,O,w){if(v&&O&&w&&w.kind){var j,_,D=v;for(_=w.path.length-1,j=0;j<_;j++)typeof D[w.path[j]]>"u"&&(D[w.path[j]]={}),D=D[w.path[j]];switch(w.kind){case"A":S(D[w.path[j]],w.index,w.item);break;case"D":D[w.path[j]]=w.lhs;break;case"E":D[w.path[j]]=w.lhs;break;case"N":delete D[w.path[j]]}}}function y(v,O,w){if(v&&O){var j=function(_){w&&!w(v,O,_)||m(v,O,_)};d(v,O,j)}}function k(v){return"color: "+Sn[v].color+"; font-weight: bold"}function C(v){var O=v.kind,w=v.path,j=v.lhs,_=v.rhs,D=v.index,F=v.item;switch(O){case"E":return[w.join("."),j,"→",_];case"N":return[w.join("."),_];case"D":return[w.join(".")];case"A":return[w.join(".")+"["+D+"]",F];default:return[]}}function E(v,O,w,j){var _=f(v,O);try{j?w.groupCollapsed("diff"):w.group("diff")}catch{w.log("diff")}_?_.forEach(function(D){var F=D.kind,M=C(D);w.log.apply(w,["%c "+Sn[F].text,k(F)].concat(dt(M)))}):w.log("—— no diff ——");try{w.groupEnd()}catch{w.log("—— diff end —— ")}}function x(v,O,w,j){switch(typeof v>"u"?"undefined":Ee(v)){case"object":return typeof v[j]=="function"?v[j].apply(v,dt(w)):v[j];case"function":return v(O);default:return v}}function R(v){var O=v.timestamp,w=v.duration;return function(j,_,D){var F=["action"];return F.push("%c"+String(j.type)),O&&F.push("%c@ "+_),w&&F.push("%c(in "+D.toFixed(2)+" ms)"),F.join(" ")}}function W(v,O){var w=O.logger,j=O.actionTransformer,_=O.titleFormatter,D=_===void 0?R(O):_,F=O.collapsed,M=O.colors,fe=O.level,me=O.diff,ce=typeof O.titleFormatter>"u";v.forEach(function(ie,ye){var V=ie.started,qe=ie.startedTime,je=ie.action,U=ie.prevState,Ke=ie.error,pt=ie.took,Be=ie.nextState,mr=v[ye+1];mr&&(Be=mr.prevState,pt=mr.started-V);var be=j(je),On=typeof F=="function"?F(function(){return Be},je,ie):F,Ns=Lt(qe),Ts=M.title?"color: "+M.title(be)+";":"",mt=["color: gray; font-weight: lighter;"];mt.push(Ts),O.timestamp&&mt.push("color: gray; font-weight: lighter;"),O.duration&&mt.push("color: gray; font-weight: lighter;");var yt=D(be,Ns,pt);try{On?M.title&&ce?w.groupCollapsed.apply(w,["%c "+yt].concat(mt)):w.groupCollapsed(yt):M.title&&ce?w.group.apply(w,["%c "+yt].concat(mt)):w.group(yt)}catch{w.log(yt)}var yr=x(fe,be,[U],"prevState"),gr=x(fe,be,[be],"action"),vr=x(fe,be,[Ke,U],"error"),br=x(fe,be,[Be],"nextState");if(yr)if(M.prevState){var _s="color: "+M.prevState(U)+"; font-weight: bold";w[yr]("%c prev state",_s,U)}else w[yr]("prev state",U);if(gr)if(M.action){var Ps="color: "+M.action(be)+"; font-weight: bold";w[gr]("%c action    ",Ps,be)}else w[gr]("action    ",be);if(Ke&&vr)if(M.error){var Is="color: "+M.error(Ke,U)+"; font-weight: bold;";w[vr]("%c error     ",Is,Ke)}else w[vr]("error     ",Ke);if(br)if(M.nextState){var As="color: "+M.nextState(Be)+"; font-weight: bold";w[br]("%c next state",As,Be)}else w[br]("next state",Be);me&&E(U,Be,w,On);try{w.groupEnd()}catch{w.log("—— log end ——")}})}function ne(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=Object.assign({},kn,v),w=O.logger,j=O.stateTransformer,_=O.errorTransformer,D=O.predicate,F=O.logErrors,M=O.diffPredicate;if(typeof w>"u")return function(){return function(me){return function(ce){return me(ce)}}};if(v.getState&&v.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(me){return function(ce){return me(ce)}}};var fe=[];return function(me){var ce=me.getState;return function(ie){return function(ye){if(typeof D=="function"&&!D(ce,ye))return ie(ye);var V={};fe.push(V),V.started=ht.now(),V.startedTime=new Date,V.prevState=j(ce()),V.action=ye;var qe=void 0;if(F)try{qe=ie(ye)}catch(U){V.error=_(U)}else qe=ie(ye);V.took=ht.now()-V.started,V.nextState=j(ce());var je=O.diff&&typeof M=="function"?M(ce,ye):O.diff;if(W(fe,Object.assign({},O,{diff:je})),fe.length=0,V.error)throw V.error;return qe}}}}var ue,pe,Mt=function(v,O){return new Array(O+1).join(v)},Le=function(v,O){return Mt("0",O-v.toString().length)+v},Lt=function(v){return Le(v.getHours(),2)+":"+Le(v.getMinutes(),2)+":"+Le(v.getSeconds(),2)+"."+Le(v.getMilliseconds(),3)},ht=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},dt=function(v){if(Array.isArray(v)){for(var O=0,w=Array(v.length);O<v.length;O++)w[O]=v[O];return w}return Array.from(v)},qt=[];ue=(typeof Bt>"u"?"undefined":Ee(Bt))==="object"&&Bt?Bt:typeof window<"u"?window:{},pe=ue.DeepDiff,pe&&qt.push(function(){typeof pe<"u"&&ue.DeepDiff===f&&(ue.DeepDiff=pe,pe=void 0)}),n(s,i),n(o,i),n(a,i),n(c,i),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:g,enumerable:!0},isConflict:{value:function(){return typeof pe<"u"},enumerable:!0},noConflict:{value:function(){return qt&&(qt.forEach(function(v){v()}),qt=null),f},enumerable:!0}});var Sn={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},kn={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(v){return v},actionTransformer:function(v){return v},errorTransformer:function(v){return v},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},xn=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=v.dispatch,w=v.getState;return typeof O=="function"||typeof w=="function"?ne()({dispatch:O,getState:w}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};t.defaults=kn,t.createLogger=ne,t.logger=xn,t.default=xn,Object.defineProperty(t,"__esModule",{value:!0})})}(Ot,Ot.exports)),Ot.exports}cu();const lu={passwordGuessed:""},uu=(r=lu,e)=>{switch(e.type){case So.SET_PASSWORD_GUESSED:return{...r,passwordGuessed:e.payload};default:return r}},fu={SET_CART_QUANTITY:"SET_CART_QUANTITY"},hu={cartItemCount:0},du=(r=hu,e)=>{switch(e.type){case fu.SET_CART_QUANTITY:return{...r,cartItemCount:e.payload};default:return r}},pu=iu({cart:du,user:uu}),mu=[],yu=js(pu,ou(...mu)),Du=({formMethod:r,currentUrl:e,nextUrl:t})=>!!(r&&r!=="GET"||e.toString()===t.toString());function Fu(){return[{rel:"preconnect",href:"https://cdn.shopify.com"},{rel:"preconnect",href:"https://shop.app"},{rel:"icon",type:"image/svg+xml",href:El},{rel:"stylesheet",href:jl},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}]}if(typeof window>"u"){const r=console.error;console.error=(...e)=>{var t,n,i,s;(n=(t=e[0])==null?void 0:t.includes)!=null&&n.call(t,"useLayoutEffect")&&((s=(i=e[0])==null?void 0:i.includes)!=null&&s.call(i,"server"))||r(...e)}}function Mu({children:r}){const e=Us();return u.jsxs("html",{lang:"en",children:[u.jsxs("head",{children:[u.jsx("meta",{charSet:"utf-8"}),u.jsx("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),u.jsx("style",{dangerouslySetInnerHTML:{__html:`
              * {
                margin: 0;
                padding: 0;
              }
              html, body {
                width: 100%;
                height: 100%;
              }
              body {
                background: white;
              }
            `},nonce:e,suppressHydrationWarning:!0}),u.jsx("script",{nonce:e,dangerouslySetInnerHTML:{__html:`
              // Detect mobile before React hydrates to ensure consistent rendering
              window.__isMobileDetected = /mobile|android|phone/i.test(navigator.userAgent) || window.innerWidth < 720;
            `}}),u.jsx(Bs,{})]}),u.jsxs("body",{suppressHydrationWarning:!0,children:[r,u.jsx(Vs,{nonce:e}),u.jsx(zs,{nonce:e})]})]})}const Lu=Ls(function(){const e=Ws("root");return e?u.jsx(bo,{isMobileInitial:e.isMobileInitial||!1,children:u.jsx(yo,{children:u.jsx(go,{data:e.cart,children:u.jsx(Hs.Provider,{cart:e.cart,shop:e.shop,consent:e.consent,children:u.jsx(gu,{children:u.jsx(Cl,{children:u.jsx(Cn,{})})})})})})}):u.jsx(Cn,{})});function gu({children:r}){return u.jsx(ko,{store:yu,children:u.jsx(vo,{children:u.jsx(Wo,{client:Zl,children:u.jsx(Dl,{children:u.jsx(Co,{children:r})})})})})}const qu=qs(function(){var i;const e=$s();let t="Unknown error",n=500;return Qs(e)?(t=((i=e==null?void 0:e.data)==null?void 0:i.message)??e.data,n=e.status):e instanceof Error&&(t=e.message),u.jsxs("div",{className:"route-error",children:[u.jsx("h1",{children:"Oops"}),u.jsx("h2",{children:n}),t&&u.jsx("fieldset",{children:u.jsx("pre",{children:t})})]})});export{qu as ErrorBoundary,Mu as Layout,Lu as default,Fu as links,Du as shouldRevalidate};
