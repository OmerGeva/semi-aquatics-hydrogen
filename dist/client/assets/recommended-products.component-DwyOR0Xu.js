import{G as Yt}from"./iconBase-BrRXCXs8.js";import{a as v,R as Gt,D as qt}from"./chunk-TMI4QPZX-ByyJG4wn.js";import{j as V}from"./jsx-runtime-C2tkE_r8.js";import{P as Cn}from"./product-preview.component-rRI0ifAa.js";import{c as bn,g as Sn,d as xn,a as Nn,e as On,S as Dn,f as Rn,C as Le}from"./cookies-utils-DqiKtheR.js";import{u as wn}from"./use-is-mobile-PX0pwSNg.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}var J;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(J||(J={}));var zt={type:"xstate.init"};function Ue(e){return e===void 0?[]:[].concat(e)}function ne(e){return{type:"xstate.assign",assignment:e}}function ht(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function Ae(e){return function(t){return e===t}}function Ht(e){return typeof e=="string"?{type:e}:e}function yt(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Ae(e)}}function Et(e,t,n){var i=t,r=!1;return[e.filter(function(s){if(s.type==="xstate.assign"){r=!0;var o=Object.assign({},i);return typeof s.assignment=="function"?o=s.assignment(i,n):Object.keys(s.assignment).forEach(function(c){o[c]=typeof s.assignment[c]=="function"?s.assignment[c](i,n):s.assignment[c]}),i=o,!1}return!0}),i,r]}function Wt(e,t){t===void 0&&(t={});var n=pt(Et(Ue(e.states[e.initial].entry).map(function(o){return ht(o,t.actions)}),e.context,zt),2),i=n[0],r=n[1],s={config:e,_options:t,initialState:{value:e.initial,actions:i,context:r,matches:Ae(e.initial)},transition:function(o,c){var u,l,d=typeof o=="string"?{value:o,context:e.context}:o,y=d.value,h=d.context,p=Ht(c),f=e.states[y];if(f.on){var E=Ue(f.on[p.type]);try{for(var b=function(w){var ue=typeof Symbol=="function"&&Symbol.iterator,Q=ue&&w[ue],U=0;if(Q)return Q.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&U>=w.length&&(w=void 0),{value:w&&w[U++],done:!w}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(E),F=b.next();!F.done;F=b.next()){var M=F.value;if(M===void 0)return yt(y,h);var S=typeof M=="string"?{target:M}:M,x=S.target,T=S.actions,m=T===void 0?[]:T,_=S.cond,A=_===void 0?function(){return!0}:_,C=x===void 0,N=x??y,R=e.states[N];if(A(h,p)){var ee=pt(Et((C?Ue(m):[].concat(f.exit,m,R.entry).filter(function(w){return w})).map(function(w){return ht(w,s._options.actions)}),h,p),3),ae=ee[0],ce=ee[1],Re=ee[2],me=x??y;return{value:me,context:ce,actions:ae,changed:x!==y||ae.length>0||Re,matches:Ae(me)}}}}catch(w){u={error:w}}finally{try{F&&!F.done&&(l=b.return)&&l.call(b)}finally{if(u)throw u.error}}}return yt(y,h)}};return s}var vt=function(e,t){return e.actions.forEach(function(n){var i=n.exec;return i&&i(e.context,t)})};function kn(e){var t=e.initialState,n=J.NotStarted,i=new Set,r={_machine:e,send:function(s){n===J.Running&&(t=e.transition(t,s),vt(t,Ht(s)),i.forEach(function(o){return o(t)}))},subscribe:function(s){return i.add(s),s(t),{unsubscribe:function(){return i.delete(s)}}},start:function(s){if(s){var o=typeof s=="object"?s:{context:e.config.context,value:s};t={value:o.value,actions:[],context:o.context,matches:Ae(o.value)}}else t=e.initialState;return n=J.Running,vt(t,zt),r},stop:function(){return n=J.Stopped,i.clear(),r},get state(){return t},get status(){return n}};return r}var Ln=v.useLayoutEffect,Pe={exports:{}},Fe={},Me={exports:{}},$e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt;function Un(){if(mt)return $e;mt=1;var e=Gt;function t(y,h){return y===h&&(y!==0||1/y===1/h)||y!==y&&h!==h}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,r=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function c(y,h){var p=h(),f=i({inst:{value:p,getSnapshot:h}}),E=f[0].inst,b=f[1];return s(function(){E.value=p,E.getSnapshot=h,u(E)&&b({inst:E})},[y,p,h]),r(function(){return u(E)&&b({inst:E}),y(function(){u(E)&&b({inst:E})})},[y]),o(p),p}function u(y){var h=y.getSnapshot;y=y.value;try{var p=h();return!n(y,p)}catch{return!0}}function l(y,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return $e.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,$e}var Tt;function Pn(){return Tt||(Tt=1,Me.exports=Un()),Me.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt;function Fn(){if(gt)return Fe;gt=1;var e=Gt,t=Pn();function n(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var i=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Fe.useSyncExternalStoreWithSelector=function(l,d,y,h,p){var f=s(null);if(f.current===null){var E={hasValue:!1,value:null};f.current=E}else E=f.current;f=c(function(){function F(m){if(!M){if(M=!0,S=m,m=h(m),p!==void 0&&E.hasValue){var _=E.value;if(p(_,m))return x=_}return x=m}if(_=x,i(S,m))return _;var A=h(m);return p!==void 0&&p(_,A)?_:(S=m,x=A)}var M=!1,S,x,T=y===void 0?null:y;return[function(){return F(d())},T===null?void 0:function(){return F(T())}]},[d,y,h,p]);var b=r(l,f[0],f[1]);return o(function(){E.hasValue=!0,E.value=b},[b]),u(b),b},Fe}var _t;function Mn(){return _t||(_t=1,Pe.exports=Fn()),Pe.exports}var $n=Mn();function Vn(e){var t=v.useRef();return t.current||(t.current={v:e()}),t.current.v}var jn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function Bn(e){return e}var Yn=function(e){var t;return e.subscribe(function(n){t=n}).unsubscribe(),t};function Gn(e,t){var n=v.useRef(),i=jn(Vn(function(){var c=[],u=kn(Wt(e.config,t||e._options)),l=u.send;return u.send=function(d){if(u.status===J.NotStarted){c.push(d);return}l(d),n.current=u.state},[u,c]}),2),r=i[0],s=i[1];Ln(function(){t&&(r._machine._options=t)});var o=zn(r);return v.useEffect(function(){return r.start(n.current),s.forEach(r.send),n.current=r.state,function(){r.stop()}},[]),o}var qn=function(e,t){return t.changed===!1};function zn(e){var t=v.useCallback(function(){return Yn(e)},[e]),n=v.useCallback(function(r){var s=e.subscribe(r).unsubscribe;return s},[e]),i=$n.useSyncExternalStoreWithSelector(n,t,t,Bn,qn);return[i,e.send,e]}const Hn=e=>`
  mutation CartLineAdd(
    $cartId: ID!
    $lines: [CartLineInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesAdd(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Wn=e=>`
  mutation CartCreate(
    $input: CartInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartCreate(input: $input) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Qn=e=>`
  mutation CartLineRemove(
    $cartId: ID!
    $lines: [ID!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesRemove(cartId: $cartId, lineIds: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Jn=e=>`
  mutation CartLineUpdate(
    $cartId: ID!
    $lines: [CartLineUpdateInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesUpdate(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Xn=e=>`
  mutation CartNoteUpdate(
    $cartId: ID!
    $note: String!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartNoteUpdate(cartId: $cartId, note: $note) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Zn=e=>`
  mutation CartBuyerIdentityUpdate(
    $cartId: ID!
    $buyerIdentity: CartBuyerIdentityInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Kn=e=>`
  mutation CartAttributesUpdate(
    $attributes: [AttributeInput!]!
    $cartId: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,er=e=>`
  mutation CartDiscountCodesUpdate(
    $cartId: ID!
    $discountCodes: [String!]
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,tr=e=>`
  query CartQuery(
    $id: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cart(id: $id) {
      ...CartFragment
    }
  }

  ${e}
`,nr=`
  fragment CartFragment on Cart {
    id
    checkoutUrl
    totalQuantity
    buyerIdentity {
      countryCode
      customer {
        id
        email
        firstName
        lastName
        displayName
      }
      email
      phone
    }
    lines(first: $numCartLines) {
      edges {
        node {
          id
          quantity
          attributes {
            key
            value
          }
          cost {
            totalAmount {
              amount
              currencyCode
            }
            compareAtAmountPerQuantity {
              amount
              currencyCode
            }
          }
          merchandise {
            ... on ProductVariant {
              id
              availableForSale
              compareAtPrice {
                ...MoneyFragment
              }
              price {
                ...MoneyFragment
              }
              requiresShipping
              title
              image {
                ...ImageFragment
              }
              product {
                handle
                title
                id
              }
              selectedOptions {
                name
                value
              }
            }
          }
        }
      }
    }
    cost {
      subtotalAmount {
        ...MoneyFragment
      }
      totalAmount {
        ...MoneyFragment
      }
      totalDutyAmount {
        ...MoneyFragment
      }
      totalTaxAmount {
        ...MoneyFragment
      }
    }
    note
    attributes {
      key
      value
    }
    discountCodes {
      code
      applicable
    }
  }

  fragment MoneyFragment on MoneyV2 {
    currencyCode
    amount
  }
  fragment ImageFragment on Image {
    id
    url
    altText
    width
    height
  }
`,rr="2025-07",ir={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:rr,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},sr=v.createContext(ir);function Qt(){const e=v.useContext(sr);if(!e)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return e}function or(){const{storefrontId:e,getPublicTokenHeaders:t,getStorefrontApiUrl:n}=Qt();return v.useCallback(({query:i,variables:r})=>{const s=t({contentType:"json"});e&&(s[bn]=e);const o=Sn(document.cookie);return s[xn]=o[Nn],s[On]=o[Dn],fetch(n(),{method:"POST",headers:s,body:JSON.stringify({query:i.toString(),variables:r})}).then(c=>c.json()).catch(c=>({data:void 0,errors:c==null?void 0:c.toString()}))},[t,e,n])}function ar({numCartLines:e,cartFragment:t,countryCode:n="US",languageCode:i="EN"}){const r=or(),s=v.useCallback(f=>r({query:tr(t),variables:{id:f,numCartLines:e,country:n,language:i}}),[r,t,e,n,i]),o=v.useCallback(f=>r({query:Wn(t),variables:{input:f,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),c=v.useCallback((f,E)=>r({query:Hn(t),variables:{cartId:f,lines:E,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),u=v.useCallback((f,E)=>r({query:Jn(t),variables:{cartId:f,lines:E,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),l=v.useCallback((f,E)=>r({query:Qn(t),variables:{cartId:f,lines:E,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),d=v.useCallback((f,E)=>r({query:Xn(t),variables:{cartId:f,note:E,numCartLines:e,country:n,language:i}}),[r,t,e,n,i]),y=v.useCallback((f,E)=>r({query:Zn(t),variables:{cartId:f,buyerIdentity:E,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),h=v.useCallback((f,E)=>r({query:Kn(t),variables:{cartId:f,attributes:E,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]),p=v.useCallback((f,E)=>r({query:er(t),variables:{cartId:f,discountCodes:E,numCartLines:e,country:n,language:i}}),[t,n,r,e,i]);return v.useMemo(()=>({cartFetch:s,cartCreate:o,cartLineAdd:c,cartLineUpdate:u,cartLineRemove:l,noteUpdate:d,buyerIdentityUpdate:y,cartAttributesUpdate:h,discountCodesUpdate:p,cartFragment:t}),[s,o,c,u,l,d,y,h,p,t])}function q(e,t){return{entry:[...(t==null?void 0:t.entryActions)||[],ne({lastValidCart:n=>n==null?void 0:n.cart}),"onCartActionEntry","onCartActionOptimisticUI",e],on:{RESOLVE:{target:(t==null?void 0:t.resolveTarget)||"idle",actions:[ne({prevCart:n=>n==null?void 0:n.lastValidCart,cart:(n,i)=>{var r;return(r=i==null?void 0:i.payload)==null?void 0:r.cart},rawCartResult:(n,i)=>{var r;return(r=i==null?void 0:i.payload)==null?void 0:r.rawCartResult},errors:n=>{}})]},ERROR:{target:(t==null?void 0:t.errorTarget)||"error",actions:[ne({prevCart:n=>n==null?void 0:n.lastValidCart,cart:n=>n==null?void 0:n.lastValidCart,errors:(n,i)=>{var r;return(r=i==null?void 0:i.payload)==null?void 0:r.errors}})]},CART_COMPLETED:{target:"cartCompleted",actions:ne({prevCart:n=>{},cart:n=>{},lastValidCart:n=>{},rawCartResult:n=>{},errors:n=>{}})}},exit:["onCartActionComplete",...(t==null?void 0:t.exitActions)||[]]}}const de={CART_FETCH:{target:"cartFetching"},CART_CREATE:{target:"cartCreating"},CART_SET:{target:"idle",actions:[ne({rawCartResult:(e,t)=>t.payload.cart,cart:(e,t)=>st(t.payload.cart)})]}},It={CARTLINE_ADD:{target:"cartLineAdding"},CARTLINE_UPDATE:{target:"cartLineUpdating"},CARTLINE_REMOVE:{target:"cartLineRemoving"},NOTE_UPDATE:{target:"noteUpdating"},BUYER_IDENTITY_UPDATE:{target:"buyerIdentityUpdating"},CART_ATTRIBUTES_UPDATE:{target:"cartAttributesUpdating"},DISCOUNT_CODES_UPDATE:{target:"discountCodesUpdating"}};function cr(e){return Wt({id:"Cart",initial:e?"idle":"uninitialized",context:{cart:e&&st(e)},states:{uninitialized:{on:de},cartCompleted:{on:de},initializationError:{on:de},idle:{on:{...de,...It}},error:{on:{...de,...It}},cartFetching:q("cartFetchAction",{errorTarget:"initializationError"}),cartCreating:q("cartCreateAction",{errorTarget:"initializationError"}),cartLineRemoving:q("cartLineRemoveAction"),cartLineUpdating:q("cartLineUpdateAction"),cartLineAdding:q("cartLineAddAction"),noteUpdating:q("noteUpdateAction"),buyerIdentityUpdating:q("buyerIdentityUpdateAction"),cartAttributesUpdating:q("cartAttributesUpdateAction"),discountCodesUpdating:q("discountCodesUpdateAction")}})}function ur({numCartLines:e,onCartActionEntry:t,onCartActionOptimisticUI:n,onCartActionComplete:i,data:r,cartFragment:s,countryCode:o,languageCode:c}){const{cartFetch:u,cartCreate:l,cartLineAdd:d,cartLineUpdate:y,cartLineRemove:h,noteUpdate:p,buyerIdentityUpdate:f,cartAttributesUpdate:E,discountCodesUpdate:b}=ar({numCartLines:e,cartFragment:s,countryCode:o,languageCode:c}),F=v.useMemo(()=>cr(r),[r]),[M,S,x]=Gn(F,{actions:{cartFetchAction:async(T,m)=>{var _;if(m.type!=="CART_FETCH")return;const{data:A,errors:C}=await u((_=m==null?void 0:m.payload)==null?void 0:_.cartId),N=z(m,A==null?void 0:A.cart,C);S(N)},cartCreateAction:async(T,m)=>{var _;if(m.type!=="CART_CREATE")return;const{data:A,errors:C}=await l(m==null?void 0:m.payload),N=z(m,(_=A==null?void 0:A.cartCreate)==null?void 0:_.cart,C);S(N)},cartLineAddAction:async(T,m)=>{var _,A;if(m.type!=="CARTLINE_ADD"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await d(T.cart.id,m.payload.lines),R=z(m,(A=C==null?void 0:C.cartLinesAdd)==null?void 0:A.cart,N);S(R)},cartLineUpdateAction:async(T,m)=>{var _,A;if(m.type!=="CARTLINE_UPDATE"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await y(T.cart.id,m.payload.lines),R=z(m,(A=C==null?void 0:C.cartLinesUpdate)==null?void 0:A.cart,N);S(R)},cartLineRemoveAction:async(T,m)=>{var _,A;if(m.type!=="CARTLINE_REMOVE"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await h(T.cart.id,m.payload.lines),R=z(m,(A=C==null?void 0:C.cartLinesRemove)==null?void 0:A.cart,N);S(R)},noteUpdateAction:async(T,m)=>{var _,A;if(m.type!=="NOTE_UPDATE"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await p(T.cart.id,m.payload.note),R=z(m,(A=C==null?void 0:C.cartNoteUpdate)==null?void 0:A.cart,N);S(R)},buyerIdentityUpdateAction:async(T,m)=>{var _,A;if(m.type!=="BUYER_IDENTITY_UPDATE"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await f(T.cart.id,m.payload.buyerIdentity),R=z(m,(A=C==null?void 0:C.cartBuyerIdentityUpdate)==null?void 0:A.cart,N);S(R)},cartAttributesUpdateAction:async(T,m)=>{var _,A;if(m.type!=="CART_ATTRIBUTES_UPDATE"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await E(T.cart.id,m.payload.attributes),R=z(m,(A=C==null?void 0:C.cartAttributesUpdate)==null?void 0:A.cart,N);S(R)},discountCodesUpdateAction:async(T,m)=>{var _,A;if(m.type!=="DISCOUNT_CODES_UPDATE"||!((_=T==null?void 0:T.cart)!=null&&_.id))return;const{data:C,errors:N}=await b(T.cart.id,m.payload.discountCodes),R=z(m,(A=C==null?void 0:C.cartDiscountCodesUpdate)==null?void 0:A.cart,N);S(R)},...t&&{onCartActionEntry:(T,m)=>{lr(m)&&t(T,m)}},...n&&{onCartActionOptimisticUI:ne((T,m)=>n(T,m))},...i&&{onCartActionComplete:(T,m)=>{dr(m)&&i(T,m)}}}});return v.useMemo(()=>[M,S,x],[M,S,x])}function st(e){return{...e,lines:Rn(e==null?void 0:e.lines),note:e.note??void 0}}function z(e,t,n){return n?{type:"ERROR",payload:{errors:n,cartActionEvent:e}}:t?{type:"RESOLVE",payload:{cart:st(t),rawCartResult:t,cartActionEvent:e}}:{type:"CART_COMPLETED",payload:{cartActionEvent:e}}}function lr(e){return e.type==="CART_CREATE"||e.type==="CARTLINE_ADD"||e.type==="CARTLINE_UPDATE"||e.type==="CARTLINE_REMOVE"||e.type==="NOTE_UPDATE"||e.type==="BUYER_IDENTITY_UPDATE"||e.type==="CART_ATTRIBUTES_UPDATE"||e.type==="DISCOUNT_CODES_UPDATE"}function dr(e){return e.type==="RESOLVE"||e.type==="ERROR"||e.type==="CART_COMPLETED"}const Jt=v.createContext(null);function fr(){const e=v.useContext(Jt);if(!e)throw new Error("Expected a Cart Context, but no Cart Context was found");return e}function bs({children:e,numCartLines:t,onCreate:n,onLineAdd:i,onLineRemove:r,onLineUpdate:s,onNoteUpdate:o,onBuyerIdentityUpdate:c,onAttributesUpdate:u,onDiscountCodesUpdate:l,onCreateComplete:d,onLineAddComplete:y,onLineRemoveComplete:h,onLineUpdateComplete:p,onNoteUpdateComplete:f,onBuyerIdentityUpdateComplete:E,onAttributesUpdateComplete:b,onDiscountCodesUpdateComplete:F,data:M,cartFragment:S=nr,customerAccessToken:x,countryCode:T,languageCode:m}){var _,A,C,N,R,ee,ae;const ce=Qt();if(!ce)throw new Error("<CartProvider> needs to be a descendant of <ShopifyProvider>");T=(T??ce.countryIsoCode??"US").toUpperCase(),m=(m??ce.languageIsoCode??"EN").toUpperCase(),T&&(T=T.toUpperCase());const[Re,me]=v.useState(T),[w,ue]=v.useState(x),Q=v.useRef(!1);(Re!==T||w!==x)&&(me(T),ue(x),Q.current=!1);const[U,te]=ur({numCartLines:t,data:M,cartFragment:S,countryCode:T,languageCode:m,onCartActionEntry(I,k){try{switch(k.type){case"CART_CREATE":return n==null?void 0:n();case"CARTLINE_ADD":return i==null?void 0:i();case"CARTLINE_REMOVE":return r==null?void 0:r();case"CARTLINE_UPDATE":return s==null?void 0:s();case"NOTE_UPDATE":return o==null?void 0:o();case"BUYER_IDENTITY_UPDATE":return c==null?void 0:c();case"CART_ATTRIBUTES_UPDATE":return u==null?void 0:u();case"DISCOUNT_CODES_UPDATE":return l==null?void 0:l()}}catch(P){console.error("Cart entry action failed",P)}},onCartActionOptimisticUI(I,k){var P,G,L,le;if(!I.cart)return{...I};switch(k.type){case"CARTLINE_REMOVE":return{...I,cart:{...I.cart,lines:(G=(P=I==null?void 0:I.cart)==null?void 0:P.lines)==null?void 0:G.filter(j=>(j==null?void 0:j.id)&&!k.payload.lines.includes(j==null?void 0:j.id))}};case"CARTLINE_UPDATE":return{...I,cart:{...I.cart,lines:(le=(L=I==null?void 0:I.cart)==null?void 0:L.lines)==null?void 0:le.map(j=>{const ke=k.payload.lines.find(({id:An})=>An===(j==null?void 0:j.id));return ke&&ke.quantity?{...j,quantity:ke.quantity}:j})}}}return{...I}},onCartActionComplete(I,k){const P=k.payload.cartActionEvent;try{switch(k.type){case"RESOLVE":switch(P.type){case"CART_CREATE":return d==null?void 0:d();case"CARTLINE_ADD":return y==null?void 0:y();case"CARTLINE_REMOVE":return h==null?void 0:h();case"CARTLINE_UPDATE":return p==null?void 0:p();case"NOTE_UPDATE":return f==null?void 0:f();case"BUYER_IDENTITY_UPDATE":return yr(I,P)&&(Q.current=!0),E==null?void 0:E();case"CART_ATTRIBUTES_UPDATE":return b==null?void 0:b();case"DISCOUNT_CODES_UPDATE":return F==null?void 0:F()}}}catch(G){console.error("onCartActionComplete failed",G)}}}),Te=v.useRef(!1),[ut,_n]=v.useState(!1),lt=U.matches("cartCompleted"),dt=(U.value==="idle"||U.value==="error"||U.value==="cartCompleted")&&T!==((C=(A=(_=U==null?void 0:U.context)==null?void 0:_.cart)==null?void 0:A.buyerIdentity)==null?void 0:C.countryCode)&&!U.context.errors,ft=v.useRef(!1);v.useEffect(()=>{if(!Te.current&&!ft.current){if(!M&&Ve("localStorage")){ft.current=!0;try{const I=window.localStorage.getItem(Le);I&&te({type:"CART_FETCH",payload:{cartId:I}})}catch(I){console.warn("error fetching cartId"),console.warn(I)}}Te.current=!0,_n(!0)}},[M,Te,te]),v.useEffect(()=>{!dt||Q.current||te({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:{countryCode:T,customerAccessToken:x}}})},[T,x,dt,Q,te]);const B=v.useCallback(I=>{if(!Te.current)return console.warn("Cart isn't ready yet");te(I)},[te]);v.useEffect(()=>{var I,k,P;if((k=(I=U==null?void 0:U.context)==null?void 0:I.cart)!=null&&k.id&&Ve("localStorage"))try{window.localStorage.setItem(Le,(P=U.context.cart)==null?void 0:P.id)}catch(G){console.warn("Failed to save cartId to localStorage",G)}},[(R=(N=U==null?void 0:U.context)==null?void 0:N.cart)==null?void 0:R.id]),v.useEffect(()=>{if(lt&&Ve("localStorage"))try{window.localStorage.removeItem(Le)}catch(I){console.warn("Failed to delete cartId from localStorage",I)}},[lt]);const we=v.useCallback(I=>{var k,P;T&&!((k=I.buyerIdentity)!=null&&k.countryCode)&&(I.buyerIdentity==null&&(I.buyerIdentity={}),I.buyerIdentity.countryCode=T),x&&!((P=I.buyerIdentity)!=null&&P.customerAccessToken)&&(I.buyerIdentity==null&&(I.buyerIdentity={}),I.buyerIdentity.customerAccessToken=x),B({type:"CART_CREATE",payload:I})},[T,x,B]),$=hr(U),In=v.useMemo(()=>{var I,k,P,G;return{...((I=$==null?void 0:$.context)==null?void 0:I.cart)??{lines:[],attributes:[]},status:pr($.value),error:(k=$==null?void 0:$.context)==null?void 0:k.errors,totalQuantity:((G=(P=$==null?void 0:$.context)==null?void 0:P.cart)==null?void 0:G.totalQuantity)??0,cartCreate:we,cartReady:ut,linesAdd(L){var le,j;(j=(le=$==null?void 0:$.context)==null?void 0:le.cart)!=null&&j.id?B({type:"CARTLINE_ADD",payload:{lines:L}}):we({lines:L})},linesRemove(L){B({type:"CARTLINE_REMOVE",payload:{lines:L}})},linesUpdate(L){B({type:"CARTLINE_UPDATE",payload:{lines:L}})},noteUpdate(L){B({type:"NOTE_UPDATE",payload:{note:L}})},buyerIdentityUpdate(L){B({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:L}})},cartAttributesUpdate(L){B({type:"CART_ATTRIBUTES_UPDATE",payload:{attributes:L}})},discountCodesUpdate(L){B({type:"DISCOUNT_CODES_UPDATE",payload:{discountCodes:L}})},cartFragment:S}},[we,ut,(ee=$==null?void 0:$.context)==null?void 0:ee.cart,(ae=$==null?void 0:$.context)==null?void 0:ae.errors,$.value,S,B]);return V.jsx(Jt.Provider,{value:In,children:e})}function pr(e){switch(e){case"uninitialized":case"initializationError":return"uninitialized";case"idle":case"cartCompleted":case"error":return"idle";case"cartFetching":return"fetching";case"cartCreating":return"creating";case"cartLineAdding":case"cartLineRemoving":case"cartLineUpdating":case"noteUpdating":case"buyerIdentityUpdating":case"cartAttributesUpdating":case"discountCodesUpdating":return"updating"}}function hr(e){const[t,n]=v.useTransition(),[i,r]=v.useState(e),s=v.useRef(!1);t&&(s.current=!0);const o=v.useRef(!1);return!t&&s.current&&(o.current=!0),v.useEffect(()=>{n(()=>{o.current||r(e)})},[e]),o.current?e:i}function Ve(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return!!(n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0)}}function yr(e,t){var n,i;return!!(t.payload.buyerIdentity.countryCode&&((i=(n=e.cart)==null?void 0:n.buyerIdentity)==null?void 0:i.countryCode)!==t.payload.buyerIdentity.countryCode)}const Xt=v.createContext(void 0);function Ss({children:e}){const[t,n]=v.useState(!1),i=v.useMemo(()=>({isCartOpen:t,openCart:()=>n(!0),closeCart:()=>n(!1)}),[t]);return V.jsx(Xt.Provider,{value:i,children:e})}function Er(){const e=v.useContext(Xt);if(!e)throw new Error("useCartDrawer must be used within a CartDrawerProvider");return e}function xs(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Ns(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}const Os=(e,t)=>{v.useEffect(()=>{const n=i=>{!e.current||e.current.contains(i.target)||t(!1)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])};function H(e){try{return e()}catch{}}const At=H(()=>globalThis)||H(()=>window)||H(()=>self)||H(()=>global)||H(function(){return H.constructor("return this")()}),Zt="4.0.9",Ct=new Map;function vr(e){const t=Ct.get(e)||1;return Ct.set(e,t+1),`${e}:${t}:${Math.random().toString(36).slice(2)}`}function mr(e,t=0){const n=vr("stringifyForDisplay");return JSON.stringify(e,(i,r)=>r===void 0?n:r,t).split(JSON.stringify(n)).join("<undefined>")}const bt="Invariant Violation";class ot extends Error{constructor(t=bt){super(t),this.name=bt,Object.setPrototypeOf(this,ot.prototype)}}const Kt=["debug","log","warn","error","silent"];let Tr=Kt.indexOf("silent");function se(e,...t){if(!e)throw gr(...t)}function xe(e){return function(t,...n){if(Kt.indexOf(e)>=Tr){const i=console[e]||console.log;if(typeof t=="number"){const r=t;t=en(r),t||(t=tn(r,n),n=[])}i(t,...n)}}}se.debug=xe("debug");se.log=xe("log");se.warn=xe("warn");se.error=xe("error");function gr(e,...t){return new ot(en(e,t)||tn(e,t))}const St=Symbol.for("ApolloErrorMessageHandler_"+Zt);function He(e){if(typeof e=="string")return e;try{return mr(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function en(e,t=[]){if(e)return At[St]&&At[St](e,t.map(He))}function tn(e,t=[]){if(e)return typeof e=="string"?t.reduce((n,i)=>n.replace(/%[sdfo]/,He(i)),e):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:Zt,message:e,args:t.map(He)}))}`}const xt=Symbol.for("__APOLLO_CONTEXT__");function nn(){se("createContext"in qt,37);let e=v.createContext[xt];return e||(Object.defineProperty(v.createContext,xt,{value:e=v.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function rn(e){const t=v.useContext(nn()),n=e||t.client;return se(!!n,28),n}const{toString:Nt,hasOwnProperty:_r}=Object.prototype,Ot=Function.prototype.toString,We=new Map;function X(e,t){try{return Qe(e,t)}finally{We.clear()}}function Qe(e,t){if(e===t)return!0;const n=Nt.call(e),i=Nt.call(t);if(n!==i)return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Rt(e,t))return!0;const r=Dt(e),s=Dt(t),o=r.length;if(o!==s.length)return!1;for(let c=0;c<o;++c)if(!_r.call(t,r[c]))return!1;for(let c=0;c<o;++c){const u=r[c];if(!Qe(e[u],t[u]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Rt(e,t))return!0;const r=e.entries(),s=n==="[object Map]";for(;;){const o=r.next();if(o.done)break;const[c,u]=o.value;if(!t.has(c)||s&&!Qe(u,t.get(c)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=Ot.call(e);return r!==Ot.call(t)?!1:!Cr(r,Ar)}}return!1}function Dt(e){return Object.keys(e).filter(Ir,e)}function Ir(e){return this[e]!==void 0}const Ar="{ [native code] }";function Cr(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function Rt(e,t){let n=We.get(e);if(n){if(n.has(t))return!0}else We.set(e,n=new Set);return n.add(t),!1}function je(e,t){if(!!!e)throw new Error(t)}function br(e){return typeof e=="object"&&e!==null}function Sr(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const xr=/\r\n|[\n\r]/g;function Je(e,t){let n=0,i=1;for(const r of e.body.matchAll(xr)){if(typeof r.index=="number"||Sr(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function Nr(e){return sn(e.source,Je(e.source,e.start))}function sn(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,s=e.locationOffset.line-1,o=t.line+s,c=t.line===1?n:0,u=t.column+c,l=`${e.name}:${o}:${u}
`,d=i.split(/\r\n|[\n\r]/g),y=d[r];if(y.length>120){const h=Math.floor(u/80),p=u%80,f=[];for(let E=0;E<y.length;E+=80)f.push(y.slice(E,E+80));return l+wt([[`${o} |`,f[0]],...f.slice(1,h+1).map(E=>["|",E]),["|","^".padStart(p)],["|",f[h+1]]])}return l+wt([[`${o-1} |`,d[r-1]],[`${o} |`,y],["|","^".padStart(u)],[`${o+1} |`,d[r+1]]])}function wt(e){const t=e.filter(([i,r])=>r!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function Or(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class at extends Error{constructor(t,...n){var i,r,s;const{nodes:o,source:c,positions:u,path:l,originalError:d,extensions:y}=Or(n);super(t),this.name="GraphQLError",this.path=l??void 0,this.originalError=d??void 0,this.nodes=kt(Array.isArray(o)?o:o?[o]:void 0);const h=kt((i=this.nodes)===null||i===void 0?void 0:i.map(f=>f.loc).filter(f=>f!=null));this.source=c??(h==null||(r=h[0])===null||r===void 0?void 0:r.source),this.positions=u??(h==null?void 0:h.map(f=>f.start)),this.locations=u&&c?u.map(f=>Je(c,f)):h==null?void 0:h.map(f=>Je(f.source,f.start));const p=br(d==null?void 0:d.extensions)?d==null?void 0:d.extensions:void 0;this.extensions=(s=y??p)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?Object.defineProperty(this,"stack",{value:d.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,at):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Nr(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+sn(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function kt(e){return e===void 0||e.length===0?void 0:e}function D(e,t,n){return new at(`Syntax Error: ${n}`,{source:e,positions:[t]})}class Dr{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class on{constructor(t,n,i,r,s,o){this.kind=t,this.start=n,this.end=i,this.line=r,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Rr={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},wr=new Set(Object.keys(Rr));function Ds(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&wr.has(t)}var re;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(re||(re={}));var Xe;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Xe||(Xe={}));var g;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",e.TYPE_COORDINATE="TypeCoordinate",e.MEMBER_COORDINATE="MemberCoordinate",e.ARGUMENT_COORDINATE="ArgumentCoordinate",e.DIRECTIVE_COORDINATE="DirectiveCoordinate",e.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate"})(g||(g={}));function Ze(e){return e===9||e===32}function ye(e){return e>=48&&e<=57}function an(e){return e>=97&&e<=122||e>=65&&e<=90}function cn(e){return an(e)||e===95}function kr(e){return an(e)||ye(e)||e===95}function Lr(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let o=0;o<e.length;++o){var s;const c=e[o],u=Ur(c);u!==c.length&&(i=(s=i)!==null&&s!==void 0?s:o,r=o,o!==0&&u<n&&(n=u))}return e.map((o,c)=>c===0?o:o.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,r+1)}function Ur(e){let t=0;for(;t<e.length&&Ze(e.charCodeAt(t));)++t;return t}function Rs(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=i.length===1,s=i.length>1&&i.slice(1).every(p=>p.length===0||Ze(p.charCodeAt(0))),o=n.endsWith('\\"""'),c=e.endsWith('"')&&!o,u=e.endsWith("\\"),l=c||u,d=!r||e.length>70||l||s||o;let y="";const h=r&&Ze(e.charCodeAt(0));return(d&&!h||s)&&(y+=`
`),y+=n,(d||l)&&(y+=`
`),'"""'+y+'"""'}var a;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.DOT=".",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(a||(a={}));class Pr{constructor(t){const n=new on(a.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==a.EOF)do if(t.next)t=t.next;else{const n=Mr(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===a.COMMENT);return t}}function Fr(e){return e===a.BANG||e===a.DOLLAR||e===a.AMP||e===a.PAREN_L||e===a.PAREN_R||e===a.DOT||e===a.SPREAD||e===a.COLON||e===a.EQUALS||e===a.AT||e===a.BRACKET_L||e===a.BRACKET_R||e===a.BRACE_L||e===a.PIPE||e===a.BRACE_R}function oe(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ne(e,t){return un(e.charCodeAt(t))&&ln(e.charCodeAt(t+1))}function un(e){return e>=55296&&e<=56319}function ln(e){return e>=56320&&e<=57343}function K(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return a.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function O(e,t,n,i,r){const s=e.line,o=1+n-e.lineStart;return new on(t,n,i,s,o,r)}function Mr(e,t){const n=e.source.body,i=n.length;let r=t;for(;r<i;){const s=n.charCodeAt(r);switch(s){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return $r(e,r);case 33:return O(e,a.BANG,r,r+1);case 36:return O(e,a.DOLLAR,r,r+1);case 38:return O(e,a.AMP,r,r+1);case 40:return O(e,a.PAREN_L,r,r+1);case 41:return O(e,a.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return O(e,a.SPREAD,r,r+3);break;case 58:return O(e,a.COLON,r,r+1);case 61:return O(e,a.EQUALS,r,r+1);case 64:return O(e,a.AT,r,r+1);case 91:return O(e,a.BRACKET_L,r,r+1);case 93:return O(e,a.BRACKET_R,r,r+1);case 123:return O(e,a.BRACE_L,r,r+1);case 124:return O(e,a.PIPE,r,r+1);case 125:return O(e,a.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?qr(e,r):jr(e,r)}if(ye(s)||s===45)return Vr(e,r,s);if(cn(s))return zr(e,r);throw D(e.source,r,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:oe(s)||Ne(n,r)?`Unexpected character: ${K(e,r)}.`:`Invalid character: ${K(e,r)}.`)}return O(e,a.EOF,i,i)}function $r(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const s=n.charCodeAt(r);if(s===10||s===13)break;if(oe(s))++r;else if(Ne(n,r))r+=2;else break}return O(e,a.COMMENT,t,r,n.slice(t+1,r))}function Vr(e,t,n){const i=e.source.body;let r=t,s=n,o=!1;if(s===45&&(s=i.charCodeAt(++r)),s===48){if(s=i.charCodeAt(++r),ye(s))throw D(e.source,r,`Invalid number, unexpected digit after 0: ${K(e,r)}.`)}else r=Be(e,r,s),s=i.charCodeAt(r);if(s===46&&(o=!0,s=i.charCodeAt(++r),r=Be(e,r,s),s=i.charCodeAt(r)),(s===69||s===101)&&(o=!0,s=i.charCodeAt(++r),(s===43||s===45)&&(s=i.charCodeAt(++r)),r=Be(e,r,s),s=i.charCodeAt(r)),s===46||cn(s))throw D(e.source,r,`Invalid number, expected digit but got: ${K(e,r)}.`);return O(e,o?a.FLOAT:a.INT,t,r,i.slice(t,r))}function Be(e,t,n){if(!ye(n))throw D(e.source,t,`Invalid number, expected digit but got: ${K(e,t)}.`);const i=e.source.body;let r=t+1;for(;ye(i.charCodeAt(r));)++r;return r}function jr(e,t){const n=e.source.body,i=n.length;let r=t+1,s=r,o="";for(;r<i;){const c=n.charCodeAt(r);if(c===34)return o+=n.slice(s,r),O(e,a.STRING,t,r+1,o);if(c===92){o+=n.slice(s,r);const u=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?Br(e,r):Yr(e,r):Gr(e,r);o+=u.value,r+=u.size,s=r;continue}if(c===10||c===13)break;if(oe(c))++r;else if(Ne(n,r))r+=2;else throw D(e.source,r,`Invalid character within String: ${K(e,r)}.`)}throw D(e.source,r,"Unterminated string.")}function Br(e,t){const n=e.source.body;let i=0,r=3;for(;r<12;){const s=n.charCodeAt(t+r++);if(s===125){if(r<5||!oe(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|he(s),i<0)break}throw D(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function Yr(e,t){const n=e.source.body,i=Lt(n,t+2);if(oe(i))return{value:String.fromCodePoint(i),size:6};if(un(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const r=Lt(n,t+8);if(ln(r))return{value:String.fromCodePoint(i,r),size:12}}throw D(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Lt(e,t){return he(e.charCodeAt(t))<<12|he(e.charCodeAt(t+1))<<8|he(e.charCodeAt(t+2))<<4|he(e.charCodeAt(t+3))}function he(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Gr(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw D(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function qr(e,t){const n=e.source.body,i=n.length;let r=e.lineStart,s=t+3,o=s,c="";const u=[];for(;s<i;){const l=n.charCodeAt(s);if(l===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){c+=n.slice(o,s),u.push(c);const d=O(e,a.BLOCK_STRING,t,s+3,Lr(u).join(`
`));return e.line+=u.length-1,e.lineStart=r,d}if(l===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){c+=n.slice(o,s),o=s+1,s+=4;continue}if(l===10||l===13){c+=n.slice(o,s),u.push(c),l===13&&n.charCodeAt(s+1)===10?s+=2:++s,c="",o=s,r=s;continue}if(oe(l))++s;else if(Ne(n,s))s+=2;else throw D(e.source,s,`Invalid character within String: ${K(e,s)}.`)}throw D(e.source,s,"Unterminated string.")}function zr(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const s=n.charCodeAt(r);if(kr(s))++r;else break}return O(e,a.NAME,t,r,n.slice(t,r))}const Hr=10,dn=2;function fn(e){return Oe(e,[])}function Oe(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Wr(e,t);default:return String(e)}}function Wr(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Qr(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Oe(i,n)}else if(Array.isArray(e))return Xr(e,n);return Jr(e,n)}function Qr(e){return typeof e.toJSON=="function"}function Jr(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>dn?"["+Zr(e)+"]":"{ "+n.map(([r,s])=>r+": "+Oe(s,t)).join(", ")+" }"}function Xr(e,t){if(e.length===0)return"[]";if(t.length>dn)return"[Array]";const n=Math.min(Hr,e.length),i=e.length-n,r=[];for(let s=0;s<n;++s)r.push(Oe(e[s],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function Zr(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const Kr=globalThis.process&&!0,ei=Kr?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var i;const r=n.prototype[Symbol.toStringTag],s=Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name;if(r===s){const o=fn(t);throw new Error(`Cannot use ${r} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class pn{constructor(t,n="GraphQL request",i={line:1,column:1}){typeof t=="string"||je(!1,`Body must be a string. Received: ${fn(t)}.`),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||je(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||je(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ti(e){return ei(e,pn)}function ni(e,t){const n=new ri(e,t),i=n.parseDocument();return Object.defineProperty(i,"tokenCount",{enumerable:!1,value:n.tokenCount}),i}class ri{constructor(t,n={}){const{lexer:i,...r}=n;if(i)this._lexer=i;else{const s=ti(t)?t:new pn(t);this._lexer=new Pr(s)}this._options=r,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(a.NAME);return this.node(t,{kind:g.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:g.DOCUMENT,definitions:this.many(a.SOF,this.parseDefinition,a.EOF)})}parseDefinition(){if(this.peek(a.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(t&&n.kind===a.BRACE_L)throw D(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(n.kind===a.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(t)throw D(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");switch(n.value){case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(a.BRACE_L))return this.node(t,{kind:g.OPERATION_DEFINITION,operation:re.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseDescription(),i=this.parseOperationType();let r;return this.peek(a.NAME)&&(r=this.parseName()),this.node(t,{kind:g.OPERATION_DEFINITION,operation:i,description:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(a.NAME);switch(t.value){case"query":return re.QUERY;case"mutation":return re.MUTATION;case"subscription":return re.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(a.PAREN_L,this.parseVariableDefinition,a.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:g.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(a.DOLLAR),this.node(t,{kind:g.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:g.SELECTION_SET,selections:this.many(a.BRACE_L,this.parseSelection,a.BRACE_R)})}parseSelection(){return this.peek(a.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(a.COLON)?(i=n,r=this.parseName()):r=n,this.node(t,{kind:g.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.PAREN_L,n,a.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:g.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(a.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(a.NAME)?this.node(t,{kind:g.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:g.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token,n=this.parseDescription();return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:g.FRAGMENT_DEFINITION,description:n,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:g.FRAGMENT_DEFINITION,description:n,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case a.BRACKET_L:return this.parseList(t);case a.BRACE_L:return this.parseObject(t);case a.INT:return this.advanceLexer(),this.node(n,{kind:g.INT,value:n.value});case a.FLOAT:return this.advanceLexer(),this.node(n,{kind:g.FLOAT,value:n.value});case a.STRING:case a.BLOCK_STRING:return this.parseStringLiteral();case a.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:g.BOOLEAN,value:!0});case"false":return this.node(n,{kind:g.BOOLEAN,value:!1});case"null":return this.node(n,{kind:g.NULL});default:return this.node(n,{kind:g.ENUM,value:n.value})}case a.DOLLAR:if(t)if(this.expectToken(a.DOLLAR),this._lexer.token.kind===a.NAME){const i=this._lexer.token.value;throw D(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:g.STRING,value:t.value,block:t.kind===a.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:g.LIST,values:this.any(a.BRACKET_L,n,a.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:g.OBJECT,fields:this.any(a.BRACE_L,n,a.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:g.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(a.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(a.AT),this.node(n,{kind:g.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(a.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(a.BRACKET_R),n=this.node(t,{kind:g.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(a.BANG)?this.node(t,{kind:g.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:g.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(a.STRING)||this.peek(a.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);return this.node(t,{kind:g.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(a.COLON);const i=this.parseNamedType();return this.node(t,{kind:g.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:g.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:g.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(a.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseFieldDefinition,a.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(a.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:g.FIELD_DEFINITION,description:n,name:i,arguments:r,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(a.PAREN_L,this.parseInputValueDef,a.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(a.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(a.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:g.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:g.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(t,{kind:g.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(a.EQUALS)?this.delimitedMany(a.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(t,{kind:g.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(a.BRACE_L,this.parseEnumValueDefinition,a.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:g.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw D(this._lexer.source,this._lexer.token.start,`${ge(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(t,{kind:g.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseInputValueDef,a.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===a.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:g.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:g.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:g.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:g.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:g.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:g.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:g.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.AT);const i=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:g.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(a.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Xe,n.value))return n;throw this.unexpected(t)}parseSchemaCoordinate(){const t=this._lexer.token,n=this.expectOptionalToken(a.AT),i=this.parseName();let r;!n&&this.expectOptionalToken(a.DOT)&&(r=this.parseName());let s;return(n||r)&&this.expectOptionalToken(a.PAREN_L)&&(s=this.parseName(),this.expectToken(a.COLON),this.expectToken(a.PAREN_R)),n?s?this.node(t,{kind:g.DIRECTIVE_ARGUMENT_COORDINATE,name:i,argumentName:s}):this.node(t,{kind:g.DIRECTIVE_COORDINATE,name:i}):r?s?this.node(t,{kind:g.ARGUMENT_COORDINATE,name:i,fieldName:r,argumentName:s}):this.node(t,{kind:g.MEMBER_COORDINATE,name:i,memberName:r}):this.node(t,{kind:g.TYPE_COORDINATE,name:i})}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Dr(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw D(this._lexer.source,n.start,`Expected ${hn(t)}, found ${ge(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===a.NAME&&n.value===t)this.advanceLexer();else throw D(this._lexer.source,n.start,`Expected "${t}", found ${ge(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===a.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return D(this._lexer.source,n.start,`Unexpected ${ge(n)}.`)}any(t,n,i){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(i);)r.push(n.call(this));return r}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(t,n,i){this.expectToken(t);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(n.kind!==a.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw D(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function ge(e){const t=e.value;return hn(e.kind)+(t!=null?` "${t}"`:"")}function hn(e){return Fr(e)?`"${e}"`:e}var Ke=function(e,t){return Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},Ke(e,t)};function W(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ke(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ce=function(){return Ce=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ce.apply(this,arguments)};function ws(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{l(i.next(d))}catch(y){o(y)}}function u(d){try{l(i.throw(d))}catch(y){o(y)}}function l(d){d.done?s(d.value):r(d.value).then(c,u)}l((i=i.apply(e,t||[])).next())})}function ks(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(i=1,r&&(s=l[0]&2?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,r=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(d){l=[6,d],r=0}finally{i=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function be(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function ve(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}function et(e){return this instanceof et?(this.v=e,this):new et(e)}function Ls(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(f){return Promise.resolve(f).then(p,y)}}function c(p,f){i[p]&&(r[p]=function(E){return new Promise(function(b,F){s.push([p,E,b,F])>1||u(p,E)})},f&&(r[p]=f(r[p])))}function u(p,f){try{l(i[p](f))}catch(E){h(s[0][3],E)}}function l(p){p.value instanceof et?Promise.resolve(p.value.v).then(d,y):h(s[0][2],p)}function d(p){u("next",p)}function y(p){u("throw",p)}function h(p,f){p(f),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Us(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof be=="function"?be(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(c,u){o=e[s](o),r(c,u,o.done,o.value)})}}function r(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}function Z(e){return typeof e=="function"}function ii(e){var t=function(i){Error.call(i),i.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ye=ii(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,r){return r+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function tt(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var De=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,i,r,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=be(o),u=c.next();!u.done;u=c.next()){var l=u.value;l.remove(this)}}catch(E){t={error:E}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else o.remove(this);var d=this.initialTeardown;if(Z(d))try{d()}catch(E){s=E instanceof Ye?E.errors:[E]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var h=be(y),p=h.next();!p.done;p=h.next()){var f=p.value;try{Ut(f)}catch(E){s=s??[],E instanceof Ye?s=ve(ve([],Ee(s)),Ee(E.errors)):s.push(E)}}}catch(E){i={error:E}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}}if(s)throw new Ye(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ut(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&tt(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&tt(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ps=De.EMPTY;function si(e){return e instanceof De||e&&"closed"in e&&Z(e.remove)&&Z(e.add)&&Z(e.unsubscribe)}function Ut(e){Z(e)?e():e.unsubscribe()}var oi={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return setTimeout.apply(void 0,ve([e,t],Ee(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function ai(e){oi.setTimeout(function(){throw e})}function Pt(){}var yn=function(e){W(t,e);function t(n){var i=e.call(this)||this;return i.isStopped=!1,n?(i.destination=n,si(n)&&n.add(i)):i.destination=di,i}return t.create=function(n,i,r){return new ui(n,i,r)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(De),ci=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(i){_e(i)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(i){_e(i)}else _e(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){_e(n)}},e}(),ui=function(e){W(t,e);function t(n,i,r){var s=e.call(this)||this,o;return Z(n)||!n?o={next:n??void 0,error:i??void 0,complete:r??void 0}:o=n,s.destination=new ci(o),s}return t}(yn);function _e(e){ai(e)}function li(e){throw e}var di={closed:!0,next:Pt,error:li,complete:Pt};function fi(e){return Z(e==null?void 0:e.lift)}function pi(e){return function(t){if(fi(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function hi(e,t,n,i,r){return new yi(e,t,n,i,r)}var yi=function(e){W(t,e);function t(n,i,r,s,o,c){var u=e.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=i?function(l){try{i(l)}catch(d){n.error(d)}}:e.prototype._next,u._error=s?function(l){try{s(l)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(yn),En={now:function(){return(En.delegate||Date).now()},delegate:void 0},Ei=function(e){W(t,e);function t(n,i){return e.call(this)||this}return t.prototype.schedule=function(n,i){return this},t}(De),Ft={setInterval:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return setInterval.apply(void 0,ve([e,t],Ee(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},vi=function(e){W(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.scheduler=n,r.work=i,r.pending=!1,r}return t.prototype.schedule=function(n,i){var r;if(i===void 0&&(i=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,i)),this.pending=!0,this.delay=i,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,i),this},t.prototype.requestAsyncId=function(n,i,r){return r===void 0&&(r=0),Ft.setInterval(n.flush.bind(n,this),r)},t.prototype.recycleAsyncId=function(n,i,r){if(r===void 0&&(r=0),r!=null&&this.delay===r&&this.pending===!1)return i;i!=null&&Ft.clearInterval(i)},t.prototype.execute=function(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(n,i);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,i){var r=!1,s;try{this.work(n)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,i=n.id,r=n.scheduler,s=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,tt(s,this),i!=null&&(this.id=this.recycleAsyncId(r,i,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ei),mi=1,Ge,nt={};function Mt(e){return e in nt?(delete nt[e],!0):!1}var vn={setImmediate:function(e){var t=mi++;return nt[t]=!0,Ge||(Ge=Promise.resolve()),Ge.then(function(){return Mt(t)&&e()}),t},clearImmediate:function(e){Mt(e)}},Ti=vn.setImmediate,gi=vn.clearImmediate,$t={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ti.apply(void 0,ve([],Ee(e)))},clearImmediate:function(e){return gi(e)},delegate:void 0},_i=function(e){W(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.scheduler=n,r.work=i,r}return t.prototype.requestAsyncId=function(n,i,r){return r===void 0&&(r=0),r!==null&&r>0?e.prototype.requestAsyncId.call(this,n,i,r):(n.actions.push(this),n._scheduled||(n._scheduled=$t.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,i,r){var s;if(r===void 0&&(r=0),r!=null?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,i,r);var o=n.actions;i!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==i&&($t.clearImmediate(i),n._scheduled===i&&(n._scheduled=void 0))},t}(vi),Vt=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(i,n)},e.now=En.now,e}(),Ii=function(e){W(t,e);function t(n,i){i===void 0&&(i=Vt.now);var r=e.call(this,n,i)||this;return r.actions=[],r._active=!1,r}return t.prototype.flush=function(n){var i=this.actions;if(this._active){i.push(n);return}var r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=i.shift());if(this._active=!1,r){for(;n=i.shift();)n.unsubscribe();throw r}},t}(Vt),Ai=function(e){W(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var r=this.actions,s;n=n||r.shift();do if(s=n.execute(n.state,n.delay))break;while((n=r[0])&&n.id===i&&r.shift());if(this._active=!1,s){for(;(n=r[0])&&n.id===i&&r.shift();)n.unsubscribe();throw s}},t}(Ii),Ci=new Ai(_i);function qe(e,t,n,i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function bi(e,t){return t===void 0&&(t=0),pi(function(n,i){n.subscribe(hi(i,function(r){return qe(i,e,function(){return i.next(r)},t)},function(){return qe(i,e,function(){return i.complete()},t)},function(r){return qe(i,e,function(){return i.error(r)},t)}))})}const Si=typeof H(()=>window.document.createElement)=="function";function jt(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(i=>{const r=n[i];r!==void 0&&(t[i]=r)})}),t}function Fs(e){return e}function Bt(e,t){return jt(e,t,t.variables&&{variables:jt({...e&&e.variables,...t.variables})})}var rt;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error",e[e.streaming=9]="streaming"})(rt||(rt={}));var Ie=new Map,it=new Map,mn=!0,Se=!1;function Tn(e){return e.replace(/[\s,]+/g," ").trim()}function xi(e){return Tn(e.source.body.substring(e.start,e.end))}function Ni(e){var t=new Set,n=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,s=xi(i.loc),o=it.get(r);o&&!o.has(s)?mn&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||it.set(r,o=new Set),o.add(s),t.has(s)||(t.add(s),n.push(i))}else n.push(i)}),Ce(Ce({},e),{definitions:n})}function Oi(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var s=i[r];s&&typeof s=="object"&&t.add(s)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function Di(e){var t=Tn(e);if(!Ie.has(t)){var n=ni(e,{experimentalFragmentVariables:Se,allowLegacyFragmentVariables:Se});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Ie.set(t,Oi(Ni(n)))}return Ie.get(t)}function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(r,s){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[s+1]}),Di(i)}function Ri(){Ie.clear(),it.clear()}function wi(){mn=!1}function ki(){Se=!0}function Li(){Se=!1}var fe={gql:ie,resetCaches:Ri,disableFragmentWarnings:wi,enableExperimentalFragmentVariables:ki,disableExperimentalFragmentVariables:Li};(function(e){e.gql=fe.gql,e.resetCaches=fe.resetCaches,e.disableFragmentWarnings=fe.disableFragmentWarnings,e.enableExperimentalFragmentVariables=fe.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=fe.disableExperimentalFragmentVariables})(ie||(ie={}));ie.default=ie;function Ui(e,t){const n=v.useRef(void 0);return(!n.current||!X(n.current.deps,t))&&(n.current={value:e(),deps:t}),n.current.value}const Pi=Symbol.for("apollo.skipToken"),Fi=Symbol.for("apollo.hook.wrappers");function Mi(e,t,n){var s;const i=[n.queryManager,e.startsWith("use")?v.useContext(nn()):void 0];let r=t;for(const o of i){const c=(s=o==null?void 0:o[Fi])==null?void 0:s[e];c&&(r=c(r))}return r}const $i="useSyncExternalStore",Vi=qt[$i],ji=H(()=>navigator.product)=="ReactNative",Bi=H(()=>navigator.userAgent.indexOf("jsdom")>=0)||!1,Yi=(Si||ji)&&!Bi,Gi=Vi||((e,t,n)=>{const i=t(),[{inst:r},s]=v.useState({inst:{value:i,getSnapshot:t}});return Yi?v.useLayoutEffect(()=>{Object.assign(r,{value:i,getSnapshot:t}),ze(r)&&s({inst:r})},[e,i,t]):Object.assign(r,{value:i,getSnapshot:t}),v.useEffect(()=>(ze(r)&&s({inst:r}),e(function(){ze(r)&&s({inst:r})})),[e]),i});function ze({value:e,getSnapshot:t}){try{return e!==t()}catch{return!0}}const pe=Symbol();function ct(e,...[t]){"use no memo";return Mi("useQuery",qi,rn(typeof t=="object"?t.client:void 0))(e,t)}function qi(e,t={}){const n=rn(typeof t=="object"?t.client:void 0),{ssr:i}=typeof t=="object"?t:{},r=zi(e,t,n.defaultOptions.watchQuery);function s(p){const f=n.watchQuery(r);return{client:n,query:e,observable:f,resultData:{current:f.getCurrentResult(),previousData:p==null?void 0:p.resultData.current.data,variables:f.variables}}}let[o,c]=v.useState(s);(n!==o.client||e!==o.query)&&c(o=s(o));const{observable:u,resultData:l}=o;Hi(r,u),Qi(l,u,r);const d=Wi(u,l,i),y=v.useMemo(()=>({refetch:u.refetch.bind(u),fetchMore:u.fetchMore.bind(u),updateQuery:u.updateQuery.bind(u),startPolling:u.startPolling.bind(u),stopPolling:u.stopPolling.bind(u),subscribeToMore:u.subscribeToMore.bind(u)}),[u]),h=l.previousData;return v.useMemo(()=>{const{partial:p,...f}=d;return{...f,client:n,observable:u,variables:u.variables,previousData:h,...y}},[d,n,u,h,y])}const gn=Symbol();function zi(e,t,n){return Ui(()=>{if(t===Pi){const r=Bt(n,{query:e,fetchPolicy:"standby"});return r[gn]=!0,r}const i=Bt(n,{...t,query:e});return t.skip&&(i.initialFetchPolicy=t.initialFetchPolicy||t.fetchPolicy,i.fetchPolicy="standby"),i},[e,t,n])}function Hi(e,t){"use no memo";e.fetchPolicy||(e.fetchPolicy=t.options.initialFetchPolicy)}function Wi(e,t,n){"use no memo";return Gi(v.useCallback(i=>{const r=e.pipe(bi(Ci)).subscribe(s=>{const o=t.current;X(o,s)&&X(t.variables,e.variables)||(t.variables=e.variables,o.data&&!X(o.data,s.data)&&(t.previousData=o.data),t.current=s,i())});return()=>{setTimeout(()=>r.unsubscribe())}},[e,t]),()=>t.current,()=>n===!1?ct.ssrDisabledResult:t.current)}function Qi(e,t,n){"use no memo";if(t[pe]&&!X(t[pe],n)){t[pe][gn]&&!n.initialFetchPolicy&&(n.initialFetchPolicy=n.fetchPolicy),Ji(t[pe],n)?t.reobserve(n):t.applyOptions(n);const i=t.getCurrentResult();X(i.data,e.current.data)||(e.previousData=e.current.data||e.previousData),e.current=i,e.variables=t.variables}t[pe]=n}function Ji(e,t){return e.query!==t.query||!X(e.variables,t.variables)||e.fetchPolicy!==t.fetchPolicy&&(t.fetchPolicy==="standby"||e.fetchPolicy==="standby")}ct.ssrDisabledResult={loading:!0,data:void 0,dataState:"empty",error:void 0,networkStatus:rt.loading,partial:!0};const Xi=ie`
  query GetCollectionByHandle($handle: String!) {
    collectionByHandle(handle: $handle) {
      id
      title
      products(first: 5) {
        edges {
          node {
            id
            handle
            title
            availableForSale
            images(first: 5) {
              edges {
                node {
                  altText
                  transformedSrc
                }
              }
            }
            variants(first: 5) {
              edges {
                node {
                  id
                  title
                  availableForSale
                  priceV2 {
                    amount
                    currencyCode
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`,Zi=e=>{var o;const{data:t,loading:n,error:i}=ct(Xi,{variables:{handle:e},skip:!e}),r=(t==null?void 0:t.collectionByHandle)??null;return{products:((o=r==null?void 0:r.products)==null?void 0:o.edges.map(c=>c))??[],loading:n,error:i}},Ki="2025-drop-1",es=()=>Zi(Ki),ts="_recommendedWrapper_oohd5_1",ns="_title_oohd5_5",rs="_small_oohd5_8",is="_medium_oohd5_11",ss="_large_oohd5_14",os="_grid_oohd5_18",as="_grid4_oohd5_22",cs="_grid3_oohd5_25",us="_previewWithTitle_oohd5_28",ls="_sizeFlex_oohd5_33",ds="_availableSize_oohd5_39",fs="_soldOutSize_oohd5_46",Y={recommendedWrapper:ts,title:ns,small:rs,medium:is,large:ss,grid:os,grid4:as,grid3:cs,previewWithTitle:us,sizeFlex:ls,availableSize:ds,soldOutSize:fs},ps=()=>{const{lines:e,linesAdd:t,linesUpdate:n,status:i}=fr(),{openCart:r}=Er(),[s,o]=v.useState(!1),c=v.useMemo(()=>{const d={};return e==null||e.forEach(y=>{var p;const h=(p=y.merchandise)==null?void 0:p.id;h&&(d[h]=y.quantity)}),d},[e]);return{addToCart:async(d,y)=>{var p;const h=(typeof d=="string"?d:(p=d==null?void 0:d.node)==null?void 0:p.id)??"";if(!h||y<=0)return!1;o(!0);try{const f=e==null?void 0:e.find(E=>{var b;return((b=E==null?void 0:E.merchandise)==null?void 0:b.id)===h});return f!=null&&f.id?await n([{id:f.id,quantity:(f.quantity??0)+y}]):await t([{merchandiseId:h,quantity:y}]),r(),!0}catch(f){return console.error("Error adding to cart:",f),!1}finally{o(!1)}},isLoading:s||i==="updating",cartCounts:c}},hs=4,ys=100,Es="left",vs="small",ms=({variants:e})=>{const{addToCart:t}=ps(),n=i=>{t(i,1)};return V.jsx("div",{className:Y.sizeFlex,children:e.map(i=>V.jsx("div",{className:i.node.availableForSale?Y.availableSize:Y.soldOutSize,onClick:()=>i.node.availableForSale?n(i):null,children:i.node.title},i.node.id))})},Ms=({width:e=ys,textAlign:t=Es,textSize:n=vs,itemCount:i=hs,withAddToCart:r=!1,onClick:s=()=>{}})=>{const{products:o,loading:c,error:u}=es(),[l,d]=v.useState(null),y=wn();return c||u||o.length===0?null:V.jsxs("div",{className:Y.recommendedWrapper,children:[V.jsx("p",{className:`${Y.title} ${Y[n]}`,style:{textAlign:t},children:"You might also like"}),V.jsx("div",{className:`${Y.grid} ${Y[`grid${i}`]}`,style:{width:`${e}%`},children:o.slice(0,i).map(({node:h})=>{var p,f;return V.jsxs("div",{className:Y.previewWithTitle,onMouseEnter:()=>d(h.id),onMouseLeave:()=>d(null),children:[V.jsx("div",{onClick:s,children:V.jsx(Cn,{id:h.id,handle:h.handle,image:(f=(p=h.images.edges[2])==null?void 0:p.node)==null?void 0:f.transformedSrc,isSoldOut:!0,isSmallText:!0,isArchive:!0,isTimeLeft:!1})}),V.jsx("div",{className:Y.productTitle,children:l===h.id&&!y&&r?V.jsx(ms,{variants:h.variants.edges}):V.jsx("h3",{children:h.title})})]},h.id)})})]})};export{hi as A,ve as B,Ee as C,gr as D,Ps as E,xs as F,At as G,X as H,jt as I,Fs as J,g as K,vr as L,Zt as M,rt as N,re as O,Bt as P,Rr as Q,H as R,ui as S,Ms as T,bs as U,Ss as V,Ns as W,ps as X,W as _,fr as a,Os as b,Ds as c,je as d,fn as e,si as f,nn as g,yn as h,se as i,Z as j,ii as k,De as l,tt as m,be as n,En as o,Rs as p,Ls as q,ks as r,et as s,ai as t,Er as u,ws as v,Us as w,pi as x,bi as y,qe as z};
